if(function(t){"use strict";function e(){t.Deferred.installInto(t.jBone),t.APP.bb.device=new t.APP.BB.DeviceModel,t.APP.templateMaster.init(),t.APP.BB.BaseView.prototype.initStatic(),t.APP.soundMaster.init(),t.APP.bg.init(),t.FastClick.attach(t.document.body),function e(){return t.location.hash?(t.history.back(),setTimeout(e,50)):(t.APP.bb.router=new t.APP.BB.Router,Backbone.history.start(),void setTimeout(t.APP.ad.showAd,3e3))}()}t.APP=t.APP||{},t.APP.bb=t.APP.bb||{},t.addEventListener("load",e,!1)}(window),Function.prototype.bind||(Function.prototype.bind=function(t){"use strict";if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),function(){"use strict";var t=Object.prototype,e=t.__defineGetter__,n=t.__defineSetter__,r=t.__lookupGetter__,i=t.__lookupSetter__,a=t.hasOwnProperty;e&&n&&r&&i&&(Object.defineProperty||(Object.defineProperty=function(t,o,s){if(arguments.length<3)throw new TypeError("Arguments not optional");if(o+="",a.call(s,"value")&&(r.call(t,o)||i.call(t,o)||(t[o]=s.value),a.call(s,"get")||a.call(s,"set")))throw new TypeError("Cannot specify an accessor and a value");if(!(s.writable&&s.enumerable&&s.configurable))throw new TypeError("This implementation of Object.defineProperty does not support false for configurable, enumerable, or writable.");return s.get&&e.call(t,o,s.get),s.set&&n.call(t,o,s.set),t}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(t,e){if(arguments.length<2)throw new TypeError("Arguments not optional.");e+="";var n={configurable:!0,enumerable:!0,writable:!0},o=r.call(t,e),s=i.call(t,e);return a.call(t,e)?o||s?(delete n.writable,n.get=n.set=void 0,o&&(n.get=o),s&&(n.set=s),n):(n.value=t[e],n):n}),Object.defineProperties||(Object.defineProperties=function(t,e){var n;for(n in e)a.call(e,n)&&Object.defineProperty(t,n,e[n])}))}(),!(document.documentElement.dataset||Object.getOwnPropertyDescriptor(Element.prototype,"dataset")&&Object.getOwnPropertyDescriptor(Element.prototype,"dataset").get)){var propDescriptor={enumerable:!0,get:function(){"use strict";var t,e,n,r,i,a,o=this,s=this.attributes,l=s.length,u=function(t){return t.charAt(1).toUpperCase()},c=function(){return this},p=function(t,e){return"undefined"!=typeof e?this.setAttribute(t,e):this.removeAttribute(t)};try{({}).__defineGetter__("test",function(){}),e={}}catch(d){e=document.createElement("div")}for(t=0;l>t;t++)if(a=s[t],a&&a.name&&/^data-\w[\w\-]*$/.test(a.name)){n=a.value,r=a.name,i=r.substr(5).replace(/-./g,u);try{Object.defineProperty(e,i,{enumerable:this.enumerable,get:c.bind(n||""),set:p.bind(o,r)})}catch(f){e[i]=n}}return e}};try{Object.defineProperty(Element.prototype,"dataset",propDescriptor)}catch(e){propDescriptor.enumerable=!1,Object.defineProperty(Element.prototype,"dataset",propDescriptor)}}!function(){"use strict";function t(e,r){function i(t,e){return function(){return t.apply(e,arguments)}}var a;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=e,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!t.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,u=o.length;u>l;l++)s[o[l]]=i(s[o[l]],s);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):i.call(e,t,n,r)}),"function"==typeof e.onclick&&(a=e.onclick,e.addEventListener("click",function(t){a(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,i=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=r&&/OS [6-7]_\d/.test(navigator.userAgent),o=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(r&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;r&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,a;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],r){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,o,s,l,u,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(u=t.changedTouches[0],c=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=c.tagName.toLowerCase(),"label"===s){if(e=this.findControl(c)){if(this.focus(c),n)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-o>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),r&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return r&&!i&&(l=c.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,r,i,a;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],a>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),function(){function t(t,e){if(t!==e){var n=null===t,r=t===b,i=t===t,a=null===e,o=e===b,s=e===e;if(t>e&&!a||!i||n&&!o&&s||r&&s)return 1;if(e>t&&!n||!s||a&&!r&&i||o&&i)return-1}return 0}function e(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function n(t,e,n){if(e!==e)return d(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function r(t){return"function"==typeof t||!1}function i(t){return"string"==typeof t?t:null==t?"":t+""}function a(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function o(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function s(e,n){return t(e.criteria,n.criteria)||e.index-n.index}function l(e,n,r){for(var i=-1,a=e.criteria,o=n.criteria,s=a.length,l=r.length;++i<s;){var u=t(a[i],o[i]);if(u)return i>=l?u:u*(r[i]?1:-1)}return e.index-n.index}function u(t){return Ft[t]}function c(t){return Wt[t]}function p(t){return"\\"+Ut[t]}function d(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var a=t[i];if(a!==a)return i}return-1}function f(t){return!!t&&"object"==typeof t}function h(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function m(t,e){for(var n=-1,r=t.length,i=-1,a=[];++n<r;)t[n]===e&&(t[n]=R,a[++i]=n);return a}function g(t,e){for(var n,r=-1,i=t.length,a=-1,o=[];++r<i;){var s=t[r],l=e?e(s,r,t):s;r&&n===l||(n=l,o[++a]=s)}return o}function v(t){for(var e=-1,n=t.length;++e<n&&h(t.charCodeAt(e)););return e}function w(t){for(var e=t.length;e--&&h(t.charCodeAt(e)););return e}function y(t){return Gt[t]}function x(h){function q(t){if(f(t)&&!Es(t)&&!(t instanceof Ft)){if(t instanceof Q)return t;if(Xa.call(t,"__chain__")&&Xa.call(t,"__wrapped__"))return ur(t)}return new Q(t)}function K(){}function Q(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Ft(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=So,this.__views__=null}function Wt(){var t=this.__actions__,e=this.__iteratees__,n=this.__views__,r=new Ft(this.__wrapped__);return r.__actions__=t?ne(t):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=e?ne(e):null,r.__takeCount__=this.__takeCount__,r.__views__=n?ne(n):null,r}function Gt(){if(this.__filtered__){var t=new Ft(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Vt(){var t=this.__wrapped__.value();if(!Es(t))return en(t,this.__actions__);var e=this.__dir__,n=0>e,r=Fn(0,t.length,this.__views__),i=r.start,a=r.end,o=a-i,s=n?a:i-1,l=yo(o,this.__takeCount__),u=this.__iteratees__,c=u?u.length:0,p=0,d=[];t:for(;o--&&l>p;){s+=e;for(var f=-1,h=t[s];++f<c;){var m=u[f],g=m.iteratee,v=m.type;if(v==j){if(m.done&&(n?s>m.index:s<m.index)&&(m.count=0,m.done=!1),m.index=s,!m.done){var w=m.limit;if(!(m.done=w>-1?m.count++>=w:!g(h)))continue t}}else{var y=g(h);if(v==$)h=y;else if(!y){if(v==N)continue t;break t}}}d[p++]=h}return d}function Ut(){this.__data__={}}function qt(t){return this.has(t)&&delete this.__data__[t]}function Xt(t){return"__proto__"==t?b:this.__data__[t]}function Yt(t){return"__proto__"!=t&&Xa.call(this.__data__,t)}function Jt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Kt(t){var e=t?t.length:0;for(this.data={hash:ho(null),set:new so};e--;)this.push(t[e])}function Zt(t,e){var n=t.data,r="string"==typeof e||Ai(e)?n.set.has(e):n.hash[e];return r?0:-1}function ee(t){var e=this.data;"string"==typeof t||Ai(t)?e.set.add(t):e.hash[t]=!0}function ne(t,e){var n=-1,r=t.length;for(e||(e=La(r));++n<r;)e[n]=t[n];return e}function re(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function ie(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function ae(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function oe(t,e,n,r){for(var i=-1,a=t.length,o=r,s=o;++i<a;){var l=t[i],u=+e(l);n(u,o)&&(o=u,s=l)}return s}function se(t,e){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[++i]=o)}return a}function le(t,e){for(var n=-1,r=t.length,i=La(r);++n<r;)i[n]=e(t[n],n,t);return i}function ue(t,e,n,r){var i=-1,a=t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function ce(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function pe(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function de(t){for(var e=t.length,n=0;e--;)n+=+t[e]||0;return n}function fe(t,e){return t===b?e:t}function he(t,e,n,r){return t!==b&&Xa.call(r,n)?t:e}function me(t,e,n){for(var r=-1,i=Ds(e),a=i.length;++r<a;){var o=i[r],s=t[o],l=n(s,e[o],o,t,e);(l===l?l===s:s!==s)&&(s!==b||o in t)||(t[o]=l)}return t}function ge(t,e){return null==e?t:we(e,Ds(e),t)}function ve(t,e){for(var n=-1,r=null==t,i=!r&&qn(t),a=i?t.length:0,o=e.length,s=La(o);++n<o;){var l=e[n];s[n]=i?Xn(l,a)?t[l]:b:r?b:t[l]}return s}function we(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var a=e[r];n[a]=t[a]}return n}function ye(t,e,n){var r=typeof t;return"function"==r?e===b?t:an(t,e,n):null==t?xa:"object"==r?$e(t):e===b?ka(t):De(t,e)}function xe(t,e,n,r,i,a,o){var s;if(n&&(s=i?n(t,r,i):n(t)),s!==b)return s;if(!Ai(t))return t;var l=Es(t);if(l){if(s=Wn(t),!e)return ne(t,s)}else{var u=Ja.call(t),c=u==U;if(u!=Y&&u!=H&&(!c||i))return Rt[u]?Vn(t,u,e):i?t:{};if(s=Gn(c?{}:t),!e)return ge(s,t)}a||(a=[]),o||(o=[]);for(var p=a.length;p--;)if(a[p]==t)return o[p];return a.push(t),o.push(s),(l?re:Me)(t,function(r,i){s[i]=xe(r,e,n,i,t,a,o)}),s}function be(t,e,n){if("function"!=typeof t)throw new Fa(D);return lo(function(){t.apply(b,n)},e)}function Pe(t,e){var r=t?t.length:0,i=[];if(!r)return i;var a=-1,o=Dn(),s=o==n,l=s&&e.length>=200?Ro(e):null,u=e.length;l&&(o=Zt,s=!1,e=l);t:for(;++a<r;){var c=t[a];if(s&&c===c){for(var p=u;p--;)if(e[p]===c)continue t;i.push(c)}else o(e,c,0)<0&&i.push(c)}return i}function _e(t,e){var n=!0;return zo(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Te(t,e,n,r){var i=r,a=i;return zo(t,function(t,o,s){var l=+e(t,o,s);(n(l,i)||l===r&&l===a)&&(i=l,a=t)}),a}function Se(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===b||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)t[n++]=e;return t}function ke(t,e){var n=[];return zo(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Ee(t,e,n,r){var i;return n(t,function(t,n,a){return e(t,n,a)?(i=r?n:t,!1):void 0}),i}function Ae(t,e,n){for(var r=-1,i=t.length,a=-1,o=[];++r<i;){var s=t[r];if(f(s)&&qn(s)&&(n||Es(s)||bi(s))){e&&(s=Ae(s,e,n));for(var l=-1,u=s.length;++l<u;)o[++a]=s[l]}else n||(o[++a]=s)}return o}function Ce(t,e){return No(t,e,qi)}function Me(t,e){return No(t,e,Ds)}function Be(t,e){return $o(t,e,Ds)}function Ie(t,e){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var o=e[n];Cs(t[o])&&(a[++i]=o)}return a}function Le(t,e,n){if(null!=t){n!==b&&n in sr(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&i>r;)t=t[e[r++]];return r&&r==i?t:b}}function Oe(t,e,n,r,i,a){return t===e?!0:null==t||null==e||!Ai(t)&&!f(e)?t!==t&&e!==e:ze(t,e,Oe,n,r,i,a)}function ze(t,e,n,r,i,a,o){var s=Es(t),l=Es(e),u=F,c=F;s||(u=Ja.call(t),u==H?u=Y:u!=Y&&(s=ji(t))),l||(c=Ja.call(e),c==H?c=Y:c!=Y&&(l=ji(e)));var p=u==Y,d=c==Y,f=u==c;if(f&&!s&&!p)return zn(t,e,u);if(!i){var h=p&&Xa.call(t,"__wrapped__"),m=d&&Xa.call(e,"__wrapped__");if(h||m)return n(h?t.value():t,m?e.value():e,r,i,a,o)}if(!f)return!1;a||(a=[]),o||(o=[]);for(var g=a.length;g--;)if(a[g]==t)return o[g]==e;a.push(t),o.push(e);var v=(s?On:jn)(t,e,n,r,i,a,o);return a.pop(),o.pop(),v}function je(t,e,n){var r=e.length,i=r,a=!n;if(null==t)return!i;for(t=sr(t);r--;){var o=e[r];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++r<i;){o=e[r];var s=o[0],l=t[s],u=o[1];if(a&&o[2]){if(l===b&&!(s in t))return!1}else{var c=n?n(l,u,s):b;if(!(c===b?Oe(u,l,n,!0):c))return!1}}return!0}function Ne(t,e){var n=-1,r=qn(t)?La(t.length):[];return zo(t,function(t,i,a){r[++n]=e(t,i,a)}),r}function $e(t){var e=Rn(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(r!==b||n in sr(t))}}return function(t){return je(t,e)}}function De(t,e){var n=Es(t),r=Jn(t)&&Qn(e),i=t+"";return t=lr(t),function(a){if(null==a)return!1;var o=i;if(a=sr(a),!(!n&&r||o in a)){if(a=1==t.length?a:Le(a,qe(t,0,-1)),null==a)return!1;o=Pr(t),a=sr(a)}return a[o]===e?e!==b||o in a:Oe(e,a[o],b,!0)}}function Re(t,e,n,r,i){if(!Ai(t))return t;var a=qn(e)&&(Es(e)||ji(e)),o=a?null:Ds(e);return re(o||e,function(s,l){if(o&&(l=s,s=e[l]),f(s))r||(r=[]),i||(i=[]),He(t,e,l,Re,n,r,i);else{var u=t[l],c=n?n(u,s,l,t,e):b,p=c===b;p&&(c=s),c===b&&(!a||l in t)||!p&&(c===c?c===u:u!==u)||(t[l]=c)}}),t}function He(t,e,n,r,i,a,o){for(var s=a.length,l=e[n];s--;)if(a[s]==l)return void(t[n]=o[s]);var u=t[n],c=i?i(u,l,n,t,e):b,p=c===b;p&&(c=l,qn(l)&&(Es(l)||ji(l))?c=Es(u)?u:qn(u)?ne(u):[]:Ms(l)||bi(l)?c=bi(u)?Hi(u):Ms(u)?u:{}:p=!1),a.push(l),o.push(c),p?t[n]=r(c,l,i,a,o):(c===c?c!==u:u===u)&&(t[n]=c)}function Fe(t){return function(e){return null==e?b:e[t]}}function We(t){var e=t+"";return t=lr(t),function(n){return Le(n,t,e)}}function Ge(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&Xn(r)){var i=r;uo.call(t,r,1)}}return t}function Ve(t,e){return t+ro(_o()*(e-t+1))}function Ue(t,e,n,r,i){return i(t,function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)}),n}function qe(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=n===b||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=La(i);++r<i;)a[r]=t[r+e];return a}function Xe(t,e){var n;return zo(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Ye(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Je(t,e,n){var r=Nn(),i=-1;e=le(e,function(t){return r(t)});var a=Ne(t,function(t){var n=le(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return Ye(a,function(t,e){return l(t,e,n)})}function Ke(t,e){var n=0;return zo(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function Ze(t,e){var r=-1,i=Dn(),a=t.length,o=i==n,s=o&&a>=200,l=s?Ro():null,u=[];l?(i=Zt,o=!1):(s=!1,l=e?[]:u);t:for(;++r<a;){var c=t[r],p=e?e(c,r,t):c;if(o&&c===c){for(var d=l.length;d--;)if(l[d]===p)continue t;e&&l.push(p),u.push(c)}else i(l,p,0)<0&&((e||s)&&l.push(p),u.push(c))}return u}function Qe(t,e){for(var n=-1,r=e.length,i=La(r);++n<r;)i[n]=t[e[n]];return i}function tn(t,e,n,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&e(t[a],a,t););return n?qe(t,r?0:a,r?a+1:i):qe(t,r?a+1:0,r?i:a)}function en(t,e){var n=t;n instanceof Ft&&(n=n.value());for(var r=-1,i=e.length;++r<i;){var a=[n],o=e[r];oo.apply(a,o.args),n=o.func.apply(o.thisArg,a)}return n}function nn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&Ao>=i){for(;i>r;){var a=r+i>>>1,o=t[a];(n?e>=o:e>o)&&null!==o?r=a+1:i=a}return i}return rn(t,e,xa,n)}function rn(t,e,n,r){e=n(e);for(var i=0,a=t?t.length:0,o=e!==e,s=null===e,l=e===b;a>i;){var u=ro((i+a)/2),c=n(t[u]),p=c!==b,d=c===c;if(o)var f=d||r;else f=s?d&&p&&(r||null!=c):l?d&&(r||p):null==c?!1:r?e>=c:e>c;f?i=u+1:a=u}return yo(a,Eo)}function an(t,e,n){if("function"!=typeof t)return xa;if(e===b)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,a){return t.call(e,n,r,i,a)};case 5:return function(n,r,i,a,o){return t.call(e,n,r,i,a,o)}}return function(){return t.apply(e,arguments)}}function on(t){return to.call(t,0)}function sn(t,e,n){for(var r=n.length,i=-1,a=wo(t.length-r,0),o=-1,s=e.length,l=La(a+s);++o<s;)l[o]=e[o];for(;++i<r;)l[n[i]]=t[i];for(;a--;)l[o++]=t[i++];return l}function ln(t,e,n){for(var r=-1,i=n.length,a=-1,o=wo(t.length-i,0),s=-1,l=e.length,u=La(o+l);++a<o;)u[a]=t[a];for(var c=a;++s<l;)u[c+s]=e[s];for(;++r<i;)u[c+n[r]]=t[a++];return u}function un(t,e){return function(n,r,i){var a=e?e():{};if(r=Nn(r,i,3),Es(n))for(var o=-1,s=n.length;++o<s;){var l=n[o];t(a,l,r(l,o,n),n)}else zo(n,function(e,n,i){t(a,e,r(e,n,i),i)});return a}}function cn(t){return fi(function(e,n){var r=-1,i=null==e?0:n.length,a=i>2?n[i-2]:b,o=i>2?n[2]:b,s=i>1?n[i-1]:b;for("function"==typeof a?(a=an(a,s,5),i-=2):(a="function"==typeof s?s:b,i-=a?1:0),o&&Yn(n[0],n[1],o)&&(a=3>i?b:a,i=1);++r<i;){var l=n[r];l&&t(e,l,a)}return e})}function pn(t,e){return function(n,r){var i=n?Fo(n):0;if(!Zn(i))return t(n,r);for(var a=e?i:-1,o=sr(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}function dn(t){return function(e,n,r){for(var i=sr(e),a=r(e),o=a.length,s=t?o:-1;t?s--:++s<o;){var l=a[s];if(n(i[l],l,i)===!1)break}return e}}function fn(t,e){function n(){var i=this&&this!==Qt&&this instanceof n?r:t;return i.apply(e,arguments)}var r=mn(t);return n}function hn(t){return function(e){for(var n=-1,r=va(ra(e)),i=r.length,a="";++n<i;)a=t(a,r[n],n);return a}}function mn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4])}var n=Oo(t.prototype),r=t.apply(n,e);return Ai(r)?r:n}}function gn(t){function e(n,r,i){i&&Yn(n,r,i)&&(r=null);var a=Ln(n,t,null,null,null,null,null,r);return a.placeholder=e.placeholder,a}return e}function vn(t,e){return function(n,r,i){if(i&&Yn(n,r,i)&&(r=null),r=Nn(r,i,3),1==r.length){n=or(n);var a=oe(n,r,t,e);if(!n.length||a!==e)return a}return Te(n,r,t,e)}}function wn(t,n){return function(r,i,a){if(i=Nn(i,a,3),Es(r)){var o=e(r,i,n);return o>-1?r[o]:b}return Ee(r,i,t)}}function yn(t){return function(n,r,i){return n&&n.length?(r=Nn(r,i,3),e(n,r,t)):-1}}function xn(t){return function(e,n,r){return n=Nn(n,r,3),Ee(e,n,t,!0)}}function bn(t){return function(){for(var e,n=arguments.length,r=t?n:-1,i=0,a=La(n);t?r--:++r<n;){var o=a[i++]=arguments[r];if("function"!=typeof o)throw new Fa(D);!e&&Q.prototype.thru&&"wrapper"==$n(o)&&(e=new Q([]))}for(r=e?-1:n;++r<n;){o=a[r];var s=$n(o),l="wrapper"==s?Ho(o):null;e=l&&Kn(l[0])&&l[1]==(M|k|A|B)&&!l[4].length&&1==l[9]?e[$n(l[0])].apply(e,l[3]):1==o.length&&Kn(o)?e[s]():e.thru(o)}return function(){var t=arguments;if(e&&1==t.length&&Es(t[0]))return e.plant(t[0]).value();for(var r=0,i=n?a[r].apply(this,t):t[0];++r<n;)i=a[r].call(this,i);return i}}}function Pn(t,e){return function(n,r,i){return"function"==typeof r&&i===b&&Es(n)?t(n,r):e(n,an(r,i,3))}}function _n(t){return function(e,n,r){return("function"!=typeof n||r!==b)&&(n=an(n,r,3)),t(e,n,qi)}}function Tn(t){return function(e,n,r){return("function"!=typeof n||r!==b)&&(n=an(n,r,3)),t(e,n)}}function Sn(t){return function(e,n,r){var i={};return n=Nn(n,r,3),Me(e,function(e,r,a){var o=n(e,r,a);r=t?o:r,e=t?e:o,i[r]=e}),i}}function kn(t){return function(e,n,r){return e=i(e),(t?e:"")+Mn(e,n,r)+(t?"":e)}}function En(t){var e=fi(function(n,r){var i=m(r,e.placeholder);return Ln(n,t,null,r,i)});return e}function An(t,e){return function(n,r,i,a){var o=arguments.length<3;return"function"==typeof r&&a===b&&Es(n)?t(n,r,i,o):Ue(n,Nn(r,a,4),i,o,e)}}function Cn(t,e,n,r,i,a,o,s,l,u){function c(){for(var y=arguments.length,x=y,P=La(y);x--;)P[x]=arguments[x];if(r&&(P=sn(P,r,i)),a&&(P=ln(P,a,o)),h||v){var S=c.placeholder,k=m(P,S);if(y-=k.length,u>y){var E=s?ne(s):null,M=wo(u-y,0),B=h?k:null,I=h?null:k,L=h?P:null,O=h?null:P;e|=h?A:C,e&=~(h?C:A),g||(e&=~(_|T));var z=[t,e,n,L,B,O,I,E,l,M],j=Cn.apply(b,z);return Kn(t)&&Wo(j,z),j.placeholder=S,j}}var N=d?n:this,$=f?N[t]:t;return s&&(P=rr(P,s)),p&&l<P.length&&(P.length=l),this&&this!==Qt&&this instanceof c&&($=w||mn(t)),$.apply(N,P)}var p=e&M,d=e&_,f=e&T,h=e&k,g=e&S,v=e&E,w=f?null:mn(t);return c}function Mn(t,e,n){var r=t.length;if(e=+e,r>=e||!go(e))return"";var i=e-r;return n=null==n?" ":n+"",ua(n,eo(i/n.length)).slice(0,i)}function Bn(t,e,n,r){function i(){for(var e=-1,s=arguments.length,l=-1,u=r.length,c=La(s+u);++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++e];var p=this&&this!==Qt&&this instanceof i?o:t;return p.apply(a?n:this,c)}var a=e&_,o=mn(t);return i}function In(t){return function(e,n,r,i){var a=Nn(r);return null==r&&a===ye?nn(e,n,t):rn(e,n,a(r,i,1),t)}}function Ln(t,e,n,r,i,a,o,s){var l=e&T;if(!l&&"function"!=typeof t)throw new Fa(D);var u=r?r.length:0;if(u||(e&=~(A|C),r=i=null),u-=i?i.length:0,e&C){var c=r,p=i;r=i=null}var d=l?null:Ho(t),f=[t,e,n,r,i,c,p,a,o,s];if(d&&(tr(f,d),e=f[1],s=f[9]),f[9]=null==s?l?0:t.length:wo(s-u,0)||0,e==_)var h=fn(f[0],f[2]);else h=e!=A&&e!=(_|A)||f[4].length?Cn.apply(b,f):Bn.apply(b,f);var m=d?Do:Wo;return m(h,f)}function On(t,e,n,r,i,a,o){var s=-1,l=t.length,u=e.length;if(l!=u&&!(i&&u>l))return!1;for(;++s<l;){var c=t[s],p=e[s],d=r?r(i?p:c,i?c:p,s):b;if(d!==b){if(d)continue;return!1}if(i){if(!pe(e,function(t){return c===t||n(c,t,r,i,a,o)}))return!1}else if(c!==p&&!n(c,p,r,i,a,o))return!1}return!0}function zn(t,e,n){switch(n){case W:case G:return+t==+e;case V:return t.name==e.name&&t.message==e.message;case X:return t!=+t?e!=+e:t==+e;case J:case Z:return t==e+""}return!1}function jn(t,e,n,r,i,a,o){var s=Ds(t),l=s.length,u=Ds(e),c=u.length;if(l!=c&&!i)return!1;for(var p=l;p--;){var d=s[p];if(!(i?d in e:Xa.call(e,d)))return!1}for(var f=i;++p<l;){d=s[p];var h=t[d],m=e[d],g=r?r(i?m:h,i?h:m,d):b;if(!(g===b?n(h,m,r,i,a,o):g))return!1;f||(f="constructor"==d)}if(!f){var v=t.constructor,w=e.constructor;if(v!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w))return!1}return!0}function Nn(t,e,n){var r=q.callback||wa;return r=r===wa?ye:r,n?r(t,e,n):r}function $n(t){for(var e=t.name,n=Io[e],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function Dn(t,e,r){var i=q.indexOf||xr;return i=i===xr?n:i,t?i(t,e,r):i}function Rn(t){for(var e=Xi(t),n=e.length;n--;)e[n][2]=Qn(e[n][1]);return e}function Hn(t,e){var n=null==t?b:t[e];return Bi(n)?n:b}function Fn(t,e,n){for(var r=-1,i=n?n.length:0;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=yo(e,t+o);break;case"takeRight":t=wo(t,e-o)}}return{start:t,end:e}}function Wn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Xa.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Gn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Da),new e}function Vn(t,e,n){var r=t.constructor;switch(e){case tt:return on(t);case W:case G:return new r(+t);case et:case nt:case rt:case it:case at:case ot:case st:case lt:case ut:var i=t.buffer;return new r(n?on(i):i,t.byteOffset,t.length);case X:case Z:return new r(t);case J:var a=new r(t.source,At.exec(t));a.lastIndex=t.lastIndex}return a}function Un(t,e,n){null==t||Jn(e,t)||(e=lr(e),t=1==e.length?t:Le(t,qe(e,0,-1)),e=Pr(e));var r=null==t?t:t[e];return null==r?b:r.apply(t,n)}function qn(t){return null!=t&&Zn(Fo(t))}function Xn(t,e){return t="number"==typeof t||Bt.test(t)?+t:-1,e=null==e?Mo:e,t>-1&&t%1==0&&e>t}function Yn(t,e,n){if(!Ai(n))return!1;var r=typeof e;if("number"==r?qn(n)&&Xn(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function Jn(t,e){var n=typeof t;if("string"==n&&bt.test(t)||"number"==n)return!0;if(Es(t))return!1;var r=!xt.test(t);return r||null!=e&&t in sr(e)}function Kn(t){var e=$n(t);if(!(e in Ft.prototype))return!1;var n=q[e];if(t===n)return!0;var r=Ho(n);return!!r&&t===r[0]}function Zn(t){return"number"==typeof t&&t>-1&&t%1==0&&Mo>=t}function Qn(t){return t===t&&!Ai(t)}function tr(t,e){var n=t[1],r=e[1],i=n|r,a=M>i,o=r==M&&n==k||r==M&&n==B&&t[7].length<=e[8]||r==(M|B)&&n==k;if(!a&&!o)return t;r&_&&(t[2]=e[2],i|=n&_?0:S);var s=e[3];if(s){var l=t[3];t[3]=l?sn(l,s,e[4]):ne(s),t[4]=l?m(t[3],R):ne(e[4])}return s=e[5],s&&(l=t[5],t[5]=l?ln(l,s,e[6]):ne(s),t[6]=l?m(t[5],R):ne(e[6])),s=e[7],s&&(t[7]=ne(s)),r&M&&(t[8]=null==t[8]?e[8]:yo(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function er(t,e){t=sr(t);for(var n=-1,r=e.length,i={};++n<r;){var a=e[n];a in t&&(i[a]=t[a])}return i}function nr(t,e){var n={};return Ce(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function rr(t,e){for(var n=t.length,r=yo(e.length,n),i=ne(t);r--;){var a=e[r];t[r]=Xn(a,n)?i[a]:b}return t}function ir(t){{var e;q.support}if(!f(t)||Ja.call(t)!=Y||!Xa.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Ce(t,function(t,e){n=e}),n===b||Xa.call(t,n)}function ar(t){for(var e=qi(t),n=e.length,r=n&&t.length,i=!!r&&Zn(r)&&(Es(t)||bi(t)),a=-1,o=[];++a<n;){var s=e[a];(i&&Xn(s,r)||Xa.call(t,s))&&o.push(s)}return o}function or(t){return null==t?[]:qn(t)?Ai(t)?t:Da(t):Zi(t)}function sr(t){return Ai(t)?t:Da(t)}function lr(t){if(Es(t))return t;var e=[];return i(t).replace(Pt,function(t,n,r,i){e.push(r?i.replace(kt,"$1"):n||t)}),e}function ur(t){return t instanceof Ft?t.clone():new Q(t.__wrapped__,t.__chain__,ne(t.__actions__))}function cr(t,e,n){e=(n?Yn(t,e,n):null==e)?1:wo(+e||1,1);for(var r=0,i=t?t.length:0,a=-1,o=La(eo(i/e));i>r;)o[++a]=qe(t,r,r+=e);return o}function pr(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var a=t[e];a&&(i[++r]=a)}return i}function dr(t,e,n){var r=t?t.length:0;return r?((n?Yn(t,e,n):null==e)&&(e=1),qe(t,0>e?0:e)):[]}function fr(t,e,n){var r=t?t.length:0;return r?((n?Yn(t,e,n):null==e)&&(e=1),
e=r-(+e||0),qe(t,0,0>e?0:e)):[]}function hr(t,e,n){return t&&t.length?tn(t,Nn(e,n,3),!0,!0):[]}function mr(t,e,n){return t&&t.length?tn(t,Nn(e,n,3),!0):[]}function gr(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Yn(t,e,n)&&(n=0,r=i),Se(t,e,n,r)):[]}function vr(t){return t?t[0]:b}function wr(t,e,n){var r=t?t.length:0;return n&&Yn(t,e,n)&&(e=!1),r?Ae(t,e):[]}function yr(t){var e=t?t.length:0;return e?Ae(t,!0):[]}function xr(t,e,r){var i=t?t.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?wo(i+r,0):r;else if(r){var a=nn(t,e),o=t[a];return(e===e?e===o:o!==o)?a:-1}return n(t,e,r||0)}function br(t){return fr(t,1)}function Pr(t){var e=t?t.length:0;return e?t[e-1]:b}function _r(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?wo(r+n,0):yo(n||0,r-1))+1;else if(n){i=nn(t,e,!0)-1;var a=t[i];return(e===e?e===a:a!==a)?i:-1}if(e!==e)return d(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Tr(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Dn(),i=t.length;++n<i;)for(var a=0,o=t[n];(a=r(e,o,a))>-1;)uo.call(e,a,1);return e}function Sr(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,a=[],o=t.length;for(e=Nn(e,n,3);++i<o;){var s=t[i];e(s,i,t)&&(r.push(s),a.push(i))}return Ge(t,a),r}function kr(t){return dr(t,1)}function Er(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Yn(t,e,n)&&(e=0,n=r),qe(t,e,n)):[]}function Ar(t,e,n){var r=t?t.length:0;return r?((n?Yn(t,e,n):null==e)&&(e=1),qe(t,0,0>e?0:e)):[]}function Cr(t,e,n){var r=t?t.length:0;return r?((n?Yn(t,e,n):null==e)&&(e=1),e=r-(+e||0),qe(t,0>e?0:e)):[]}function Mr(t,e,n){return t&&t.length?tn(t,Nn(e,n,3),!1,!0):[]}function Br(t,e,n){return t&&t.length?tn(t,Nn(e,n,3)):[]}function Ir(t,e,r,i){var a=t?t.length:0;if(!a)return[];null!=e&&"boolean"!=typeof e&&(i=r,r=Yn(t,e,i)?null:e,e=!1);var o=Nn();return(null!=r||o!==ye)&&(r=o(r,i,3)),e&&Dn()==n?g(t,r):Ze(t,r)}function Lr(t){if(!t||!t.length)return[];var e=-1,n=0;t=se(t,function(t){return qn(t)?(n=wo(t.length,n),!0):void 0});for(var r=La(n);++e<n;)r[e]=le(t,Fe(e));return r}function Or(t,e,n){var r=t?t.length:0;if(!r)return[];var i=Lr(t);return null==e?i:(e=an(e,n,4),le(i,function(t){return ue(t,e,b,!0)}))}function zr(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(qn(n))var r=r?Pe(r,n).concat(Pe(n,r)):n}return r?Ze(r):[]}function jr(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Es(t[0])||(e=[]);++n<r;){var a=t[n];e?i[a]=e[n]:a&&(i[a[0]]=a[1])}return i}function Nr(t){var e=q(t);return e.__chain__=!0,e}function $r(t,e,n){return e.call(n,t),t}function Dr(t,e,n){return e.call(n,t)}function Rr(){return Nr(this)}function Hr(){return new Q(this.value(),this.__chain__)}function Fr(t){for(var e,n=this;n instanceof K;){var r=ur(n);e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function Wr(){var t=this.__wrapped__;return t instanceof Ft?(this.__actions__.length&&(t=new Ft(this)),new Q(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function Gr(){return this.value()+""}function Vr(){return en(this.__wrapped__,this.__actions__)}function Ur(t,e,n){var r=Es(t)?ae:_e;return n&&Yn(t,e,n)&&(e=null),("function"!=typeof e||n!==b)&&(e=Nn(e,n,3)),r(t,e)}function qr(t,e,n){var r=Es(t)?se:ke;return e=Nn(e,n,3),r(t,e)}function Xr(t,e){return rs(t,$e(e))}function Yr(t,e,n,r){var i=t?Fo(t):0;return Zn(i)||(t=Zi(t),i=t.length),i?(n="number"!=typeof n||r&&Yn(e,n,r)?0:0>n?wo(i+n,0):n||0,"string"==typeof t||!Es(t)&&zi(t)?i>n&&t.indexOf(e,n)>-1:Dn(t,e,n)>-1):!1}function Jr(t,e,n){var r=Es(t)?le:Ne;return e=Nn(e,n,3),r(t,e)}function Kr(t,e){return Jr(t,ka(e))}function Zr(t,e,n){var r=Es(t)?se:ke;return e=Nn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function Qr(t,e,n){if(n?Yn(t,e,n):null==e){t=or(t);var r=t.length;return r>0?t[Ve(0,r-1)]:b}var i=-1,a=Ri(t),r=a.length,o=r-1;for(e=yo(0>e?0:+e||0,r);++i<e;){var s=Ve(i,o),l=a[s];a[s]=a[i],a[i]=l}return a.length=e,a}function ti(t){return Qr(t,So)}function ei(t){var e=t?Fo(t):0;return Zn(e)?e:Ds(t).length}function ni(t,e,n){var r=Es(t)?pe:Xe;return n&&Yn(t,e,n)&&(e=null),("function"!=typeof e||n!==b)&&(e=Nn(e,n,3)),r(t,e)}function ri(t,e,n){if(null==t)return[];n&&Yn(t,e,n)&&(e=null);var r=-1;e=Nn(e,n,3);var i=Ne(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}});return Ye(i,s)}function ii(t,e,n,r){return null==t?[]:(r&&Yn(e,n,r)&&(n=null),Es(e)||(e=null==e?[]:[e]),Es(n)||(n=null==n?[]:[n]),Je(t,e,n))}function ai(t,e){return qr(t,$e(e))}function oi(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Fa(D);var n=t;t=e,e=n}return t=go(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function si(t,e,n){return n&&Yn(t,e,n)&&(e=null),e=t&&null==e?t.length:wo(+e||0,0),Ln(t,M,null,null,null,null,e)}function li(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Fa(D);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}}function ui(t,e,n){function r(){d&&no(d),l&&no(l),l=d=f=b}function i(){var n=e-(hs()-c);if(0>=n||n>e){l&&no(l);var r=f;l=d=f=b,r&&(h=hs(),u=t.apply(p,s),d||l||(s=p=null))}else d=lo(i,n)}function a(){d&&no(d),l=d=f=b,(g||m!==e)&&(h=hs(),u=t.apply(p,s),d||l||(s=p=null))}function o(){if(s=arguments,c=hs(),p=this,f=g&&(d||!v),m===!1)var n=v&&!d;else{l||v||(h=c);var r=m-(c-h),o=0>=r||r>m;o?(l&&(l=no(l)),h=c,u=t.apply(p,s)):l||(l=lo(a,r))}return o&&d?d=no(d):d||e===m||(d=lo(i,e)),n&&(o=!0,u=t.apply(p,s)),!o||d||l||(s=p=null),u}var s,l,u,c,p,d,f,h=0,m=!1,g=!0;if("function"!=typeof t)throw new Fa(D);if(e=0>e?0:+e||0,n===!0){var v=!0;g=!1}else Ai(n)&&(v=n.leading,m="maxWait"in n&&wo(+n.maxWait||0,e),g="trailing"in n?n.trailing:g);return o.cancel=r,o}function ci(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Fa(D);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new ci.Cache,n}function pi(t){if("function"!=typeof t)throw new Fa(D);return function(){return!t.apply(this,arguments)}}function di(t){return li(2,t)}function fi(t,e){if("function"!=typeof t)throw new Fa(D);return e=wo(e===b?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=wo(n.length-e,0),a=La(i);++r<i;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var o=La(e+1);for(r=-1;++r<e;)o[r]=n[r];return o[e]=a,t.apply(this,o)}}function hi(t){if("function"!=typeof t)throw new Fa(D);return function(e){return t.apply(this,e)}}function mi(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Fa(D);return n===!1?r=!1:Ai(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ht.leading=r,Ht.maxWait=+e,Ht.trailing=i,ui(t,e,Ht)}function gi(t,e){return e=null==e?xa:e,Ln(e,A,null,[t],[])}function vi(t,e,n,r){return e&&"boolean"!=typeof e&&Yn(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?xe(t,e,an(n,r,1)):xe(t,e)}function wi(t,e,n){return"function"==typeof e?xe(t,!0,an(e,n,1)):xe(t,!0)}function yi(t,e){return t>e}function xi(t,e){return t>=e}function bi(t){return f(t)&&qn(t)&&Ja.call(t)==H}function Pi(t){return t===!0||t===!1||f(t)&&Ja.call(t)==W}function _i(t){return f(t)&&Ja.call(t)==G}function Ti(t){return!!t&&1===t.nodeType&&f(t)&&Ja.call(t).indexOf("Element")>-1}function Si(t){return null==t?!0:qn(t)&&(Es(t)||zi(t)||bi(t)||f(t)&&Cs(t.splice))?!t.length:!Ds(t).length}function ki(t,e,n,r){n="function"==typeof n?an(n,r,3):b;var i=n?n(t,e):b;return i===b?Oe(t,e,n):!!i}function Ei(t){return f(t)&&"string"==typeof t.message&&Ja.call(t)==V}function Ai(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ci(t,e,n,r){return n="function"==typeof n?an(n,r,3):b,je(t,Rn(e),n)}function Mi(t){return Li(t)&&t!=+t}function Bi(t){return null==t?!1:Ja.call(t)==U?Za.test(qa.call(t)):f(t)&&Mt.test(t)}function Ii(t){return null===t}function Li(t){return"number"==typeof t||f(t)&&Ja.call(t)==X}function Oi(t){return f(t)&&Ja.call(t)==J}function zi(t){return"string"==typeof t||f(t)&&Ja.call(t)==Z}function ji(t){return f(t)&&Zn(t.length)&&!!Dt[Ja.call(t)]}function Ni(t){return t===b}function $i(t,e){return e>t}function Di(t,e){return e>=t}function Ri(t){var e=t?Fo(t):0;return Zn(e)?e?ne(t):[]:Zi(t)}function Hi(t){return we(t,qi(t))}function Fi(t,e,n){var r=Oo(t);return n&&Yn(t,e,n)&&(e=null),e?ge(r,e):r}function Wi(t){return Ie(t,qi(t))}function Gi(t,e,n){var r=null==t?b:Le(t,lr(e),e+"");return r===b?n:r}function Vi(t,e){if(null==t)return!1;var n=Xa.call(t,e);if(!n&&!Jn(e)){if(e=lr(e),t=1==e.length?t:Le(t,qe(e,0,-1)),null==t)return!1;e=Pr(e),n=Xa.call(t,e)}return n||Zn(t.length)&&Xn(e,t.length)&&(Es(t)||bi(t))}function Ui(t,e,n){n&&Yn(t,e,n)&&(e=null);for(var r=-1,i=Ds(t),a=i.length,o={};++r<a;){var s=i[r],l=t[s];e?Xa.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o}function qi(t){if(null==t)return[];Ai(t)||(t=Da(t));var e=t.length;e=e&&Zn(e)&&(Es(t)||bi(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,a=La(e),o=e>0;++r<e;)a[r]=r+"";for(var s in t)o&&Xn(s,e)||"constructor"==s&&(i||!Xa.call(t,s))||a.push(s);return a}function Xi(t){t=sr(t);for(var e=-1,n=Ds(t),r=n.length,i=La(r);++e<r;){var a=n[e];i[e]=[a,t[a]]}return i}function Yi(t,e,n){var r=null==t?b:t[e];return r===b&&(null==t||Jn(e,t)||(e=lr(e),t=1==e.length?t:Le(t,qe(e,0,-1)),r=null==t?b:t[Pr(e)]),r=r===b?n:r),Cs(r)?r.call(t):r}function Ji(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||Jn(e,t)?[r]:lr(e);for(var i=-1,a=e.length,o=a-1,s=t;null!=s&&++i<a;){var l=e[i];Ai(s)&&(i==o?s[l]=n:null==s[l]&&(s[l]=Xn(e[i+1])?[]:{})),s=s[l]}return t}function Ki(t,e,n,r){var i=Es(t)||ji(t);if(e=Nn(e,r,4),null==n)if(i||Ai(t)){var a=t.constructor;n=i?Es(t)?new a:[]:Oo(Cs(a)?a.prototype:null)}else n={};return(i?re:Me)(t,function(t,r,i){return e(n,t,r,i)}),n}function Zi(t){return Qe(t,Ds(t))}function Qi(t){return Qe(t,qi(t))}function ta(t,e,n){return e=+e||0,"undefined"==typeof n?(n=e,e=0):n=+n||0,t>=yo(e,n)&&t<wo(e,n)}function ea(t,e,n){n&&Yn(t,e,n)&&(e=n=null);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var a=_o();return yo(t+a*(e-t+ao("1e-"+((a+"").length-1))),e)}return Ve(t,e)}function na(t){return t=i(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function ra(t){return t=i(t),t&&t.replace(It,u).replace(St,"")}function ia(t,e,n){t=i(t),e+="";var r=t.length;return n=n===b?r:yo(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function aa(t){return t=i(t),t&&gt.test(t)?t.replace(ht,c):t}function oa(t){return t=i(t),t&&Tt.test(t)?t.replace(_t,"\\$&"):t}function sa(t,e,n){t=i(t),e=+e;var r=t.length;if(r>=e||!go(e))return t;var a=(e-r)/2,o=ro(a),s=eo(a);return n=Mn("",s,n),n.slice(0,o)+t+n}function la(t,e,n){return n&&Yn(t,e,n)&&(e=0),Po(t,e)}function ua(t,e){var n="";if(t=i(t),e=+e,1>e||!t||!go(e))return n;do e%2&&(n+=t),e=ro(e/2),t+=t;while(e);return n}function ca(t,e,n){return t=i(t),n=null==n?0:yo(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function pa(t,e,n){var r=q.templateSettings;n&&Yn(t,e,n)&&(e=n=null),t=i(t),e=me(ge({},n||e),r,he);var a,o,s=me(ge({},e.imports),r.imports,he),l=Ds(s),u=Qe(s,l),c=0,d=e.interpolate||Lt,f="__p += '",h=Ra((e.escape||Lt).source+"|"+d.source+"|"+(d===yt?Et:Lt).source+"|"+(e.evaluate||Lt).source+"|$","g"),m="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++$t+"]")+"\n";t.replace(h,function(e,n,r,i,s,l){return r||(r=i),f+=t.slice(c,l).replace(Ot,p),n&&(a=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),f+="';\n";var g=e.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(ct,""):f).replace(pt,"$1").replace(dt,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Ks(function(){return ja(l,m+"return "+f).apply(b,u)});if(v.source=f,Ei(v))throw v;return v}function da(t,e,n){var r=t;return(t=i(t))?(n?Yn(r,e,n):null==e)?t.slice(v(t),w(t)+1):(e+="",t.slice(a(t,e),o(t,e)+1)):t}function fa(t,e,n){var r=t;return t=i(t),t?t.slice((n?Yn(r,e,n):null==e)?v(t):a(t,e+"")):t}function ha(t,e,n){var r=t;return t=i(t),t?(n?Yn(r,e,n):null==e)?t.slice(0,w(t)+1):t.slice(0,o(t,e+"")+1):t}function ma(t,e,n){n&&Yn(t,e,n)&&(e=null);var r=I,a=L;if(null!=e)if(Ai(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,a="omission"in e?i(e.omission):a}else r=+e||0;if(t=i(t),r>=t.length)return t;var s=r-a.length;if(1>s)return a;var l=t.slice(0,s);if(null==o)return l+a;if(Oi(o)){if(t.slice(s).search(o)){var u,c,p=t.slice(0,s);for(o.global||(o=Ra(o.source,(At.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(p);)c=u.index;l=l.slice(0,null==c?s:c)}}else if(t.indexOf(o,s)!=s){var d=l.lastIndexOf(o);d>-1&&(l=l.slice(0,d))}return l+a}function ga(t){return t=i(t),t&&mt.test(t)?t.replace(ft,y):t}function va(t,e,n){return n&&Yn(t,e,n)&&(e=null),t=i(t),t.match(e||zt)||[]}function wa(t,e,n){return n&&Yn(t,e,n)&&(e=null),f(t)?ba(t):ye(t,e)}function ya(t){return function(){return t}}function xa(t){return t}function ba(t){return $e(xe(t,!0))}function Pa(t,e){return De(t,xe(e,!0))}function _a(t,e,n){if(null==n){var r=Ai(e),i=r?Ds(e):null,a=i&&i.length?Ie(e,i):null;(a?a.length:r)||(a=!1,n=e,e=t,t=this)}a||(a=Ie(e,Ds(e)));var o=!0,s=-1,l=Cs(t),u=a.length;n===!1?o=!1:Ai(n)&&"chain"in n&&(o=n.chain);for(;++s<u;){var c=a[s],p=e[c];t[c]=p,l&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(o||n){var r=t(this.__wrapped__),i=r.__actions__=ne(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}var a=[this.value()];return oo.apply(a,arguments),e.apply(t,a)}}(p))}return t}function Ta(){return h._=Ka,this}function Sa(){}function ka(t){return Jn(t)?Fe(t):We(t)}function Ea(t){return function(e){return Le(t,lr(e),e+"")}}function Aa(t,e,n){n&&Yn(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=wo(eo((e-t)/(n||1)),0),a=La(i);++r<i;)a[r]=t,t+=n;return a}function Ca(t,e,n){if(t=ro(t),1>t||!go(t))return[];var r=-1,i=La(yo(t,ko));for(e=an(e,n,1);++r<t;)ko>r?i[r]=e(r):e(r);return i}function Ma(t){var e=++Ya;return i(t)+e}function Ba(t,e){return(+t||0)+(+e||0)}function Ia(t,e,n){n&&Yn(t,e,n)&&(e=null);var r=Nn(),i=null==e;return i&&r===ye||(i=!1,e=r(e,n,3)),i?de(Es(t)?t:or(t)):Ke(t,e)}h=h?te.defaults(Qt.Object(),h,te.pick(Qt,Nt)):Qt;var La=h.Array,Oa=h.Date,za=h.Error,ja=h.Function,Na=h.Math,$a=h.Number,Da=h.Object,Ra=h.RegExp,Ha=h.String,Fa=h.TypeError,Wa=La.prototype,Ga=Da.prototype,Va=Ha.prototype,Ua=(Ua=h.window)?Ua.document:null,qa=ja.prototype.toString,Xa=Ga.hasOwnProperty,Ya=0,Ja=Ga.toString,Ka=h._,Za=Ra("^"+oa(qa.call(Xa)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qa=Hn(h,"ArrayBuffer"),to=Hn(Qa&&new Qa(0),"slice"),eo=Na.ceil,no=h.clearTimeout,ro=Na.floor,io=Hn(Da,"getPrototypeOf"),ao=h.parseFloat,oo=Wa.push,so=Hn(h,"Set"),lo=h.setTimeout,uo=Wa.splice,co=Hn(h,"Uint8Array"),po=Hn(h,"WeakMap"),fo=function(){try{var t=Hn(h,"Float64Array"),e=new t(new Qa(10),0,1)&&t}catch(n){}return e||null}(),ho=Hn(Da,"create"),mo=Hn(La,"isArray"),go=h.isFinite,vo=Hn(Da,"keys"),wo=Na.max,yo=Na.min,xo=Hn(Oa,"now"),bo=Hn($a,"isFinite"),Po=h.parseInt,_o=Na.random,To=$a.NEGATIVE_INFINITY,So=$a.POSITIVE_INFINITY,ko=4294967295,Eo=ko-1,Ao=ko>>>1,Co=fo?fo.BYTES_PER_ELEMENT:0,Mo=9007199254740991,Bo=po&&new po,Io={},Lo=q.support={};!function(t){var e=function(){this.x=t},n=[];e.prototype={valueOf:t,y:t};for(var r in new e)n.push(r);try{Lo.dom=11===Ua.createDocumentFragment().nodeType}catch(i){Lo.dom=!1}}(1,0),q.templateSettings={escape:vt,evaluate:wt,interpolate:yt,variable:"",imports:{_:q}};var Oo=function(){function t(){}return function(e){if(Ai(e)){t.prototype=e;var n=new t;t.prototype=null}return n||{}}}(),zo=pn(Me),jo=pn(Be,!0),No=dn(),$o=dn(!0),Do=Bo?function(t,e){return Bo.set(t,e),t}:xa;to||(on=Qa&&co?function(t){var e=t.byteLength,n=fo?ro(e/Co):0,r=n*Co,i=new Qa(e);if(n){var a=new fo(i,0,n);a.set(new fo(t,0,n))}return e!=r&&(a=new co(i,r),a.set(new co(t,r))),i}:ya(null));var Ro=ho&&so?function(t){return new Kt(t)}:ya(null),Ho=Bo?function(t){return Bo.get(t)}:Sa,Fo=Fe("length"),Wo=function(){var t=0,e=0;return function(n,r){var i=hs(),a=z-(i-e);if(e=i,a>0){if(++t>=O)return n}else t=0;return Do(n,r)}}(),Go=fi(function(t,e){return qn(t)?Pe(t,Ae(e,!1,!0)):[]}),Vo=yn(),Uo=yn(!0),qo=fi(function(t){for(var e=t.length,r=e,i=La(p),a=Dn(),o=a==n,s=[];r--;){var l=t[r]=qn(l=t[r])?l:[];i[r]=o&&l.length>=120?Ro(r&&l):null}var u=t[0],c=-1,p=u?u.length:0,d=i[0];t:for(;++c<p;)if(l=u[c],(d?Zt(d,l):a(s,l,0))<0){for(var r=e;--r;){var f=i[r];if((f?Zt(f,l):a(t[r],l,0))<0)continue t}d&&d.push(l),s.push(l)}return s}),Xo=fi(function(e,n){n=Ae(n);var r=ve(e,n);return Ge(e,n.sort(t)),r}),Yo=In(),Jo=In(!0),Ko=fi(function(t){return Ze(Ae(t,!1,!0))}),Zo=fi(function(t,e){return qn(t)?Pe(t,e):[]}),Qo=fi(Lr),ts=fi(function(t){var e=t.length,n=e>2?t[e-2]:b,r=e>1?t[e-1]:b;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):b,r=b),t.length=e,Or(t,n,r)}),es=fi(function(t,e){return ve(t,Ae(e))}),ns=un(function(t,e,n){Xa.call(t,n)?++t[n]:t[n]=1}),rs=wn(zo),is=wn(jo,!0),as=Pn(re,zo),os=Pn(ie,jo),ss=un(function(t,e,n){Xa.call(t,n)?t[n].push(e):t[n]=[e]}),ls=un(function(t,e,n){t[n]=e}),us=fi(function(t,e,n){var r=-1,i="function"==typeof e,a=Jn(e),o=qn(t)?La(t.length):[];return zo(t,function(t){var s=i?e:a&&null!=t?t[e]:null;o[++r]=s?s.apply(t,n):Un(t,e,n)}),o}),cs=un(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ps=An(ue,zo),ds=An(ce,jo),fs=fi(function(t,e){if(null==t)return[];var n=e[2];return n&&Yn(e[0],e[1],n)&&(e.length=1),Je(t,Ae(e),[])}),hs=xo||function(){return(new Oa).getTime()},ms=fi(function(t,e,n){var r=_;if(n.length){var i=m(n,ms.placeholder);r|=A}return Ln(t,r,e,n,i)}),gs=fi(function(t,e){e=e.length?Ae(e):Wi(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=Ln(t[i],_,t)}return t}),vs=fi(function(t,e,n){var r=_|T;if(n.length){var i=m(n,vs.placeholder);r|=A}return Ln(e,r,t,n,i)}),ws=gn(k),ys=gn(E),xs=fi(function(t,e){return be(t,1,e)}),bs=fi(function(t,e,n){return be(t,e,n)}),Ps=bn(),_s=bn(!0),Ts=En(A),Ss=En(C),ks=fi(function(t,e){return Ln(t,B,null,null,null,Ae(e))}),Es=mo||function(t){return f(t)&&Zn(t.length)&&Ja.call(t)==F};Lo.dom||(Ti=function(t){return!!t&&1===t.nodeType&&f(t)&&!Ms(t)});var As=bo||function(t){return"number"==typeof t&&go(t)},Cs=r(/x/)||co&&!r(co)?function(t){return Ja.call(t)==U}:r,Ms=io?function(t){if(!t||Ja.call(t)!=Y)return!1;var e=Hn(t,"valueOf"),n=e&&(n=io(e))&&io(n);return n?t==n||io(t)==n:ir(t)}:ir,Bs=cn(function(t,e,n){return n?me(t,e,n):ge(t,e)}),Is=fi(function(t){var e=t[0];return null==e?e:(t.push(fe),Bs.apply(b,t))}),Ls=xn(Me),Os=xn(Be),zs=_n(No),js=_n($o),Ns=Tn(Me),$s=Tn(Be),Ds=vo?function(t){var e=null==t?null:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&qn(t)?ar(t):Ai(t)?vo(t):[]}:ar,Rs=Sn(!0),Hs=Sn(),Fs=cn(Re),Ws=fi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=le(Ae(e),Ha);return er(t,Pe(qi(t),e))}var n=an(e[0],e[1],3);return nr(t,function(t,e,r){return!n(t,e,r)})}),Gs=fi(function(t,e){return null==t?{}:"function"==typeof e[0]?nr(t,an(e[0],e[1],3)):er(t,Ae(e))}),Vs=hn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Us=hn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qs=kn(),Xs=kn(!0);8!=Po(jt+"08")&&(la=function(t,e,n){return(n?Yn(t,e,n):null==e)?e=0:e&&(e=+e),t=da(t),Po(t,e||(Ct.test(t)?16:10))});var Ys=hn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Js=hn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Ks=fi(function(t,e){try{return t.apply(b,e)}catch(n){return Ei(n)?n:new za(n)}}),Zs=fi(function(t,e){return function(n){return Un(n,t,e)}}),Qs=fi(function(t,e){return function(n){return Un(t,n,e)}}),tl=vn(yi,To),el=vn($i,So);return q.prototype=K.prototype,Q.prototype=Oo(K.prototype),Q.prototype.constructor=Q,Ft.prototype=Oo(K.prototype),Ft.prototype.constructor=Ft,Ut.prototype["delete"]=qt,Ut.prototype.get=Xt,Ut.prototype.has=Yt,Ut.prototype.set=Jt,Kt.prototype.push=ee,ci.Cache=Ut,q.after=oi,q.ary=si,q.assign=Bs,q.at=es,q.before=li,q.bind=ms,q.bindAll=gs,q.bindKey=vs,q.callback=wa,q.chain=Nr,q.chunk=cr,q.compact=pr,q.constant=ya,q.countBy=ns,q.create=Fi,q.curry=ws,q.curryRight=ys,q.debounce=ui,q.defaults=Is,q.defer=xs,q.delay=bs,q.difference=Go,q.drop=dr,q.dropRight=fr,q.dropRightWhile=hr,q.dropWhile=mr,q.fill=gr,q.filter=qr,q.flatten=wr,q.flattenDeep=yr,q.flow=Ps,q.flowRight=_s,q.forEach=as,q.forEachRight=os,q.forIn=zs,q.forInRight=js,q.forOwn=Ns,q.forOwnRight=$s,q.functions=Wi,q.groupBy=ss,q.indexBy=ls,q.initial=br,q.intersection=qo,q.invert=Ui,q.invoke=us,q.keys=Ds,q.keysIn=qi,q.map=Jr,q.mapKeys=Rs,q.mapValues=Hs,q.matches=ba,q.matchesProperty=Pa,q.memoize=ci,q.merge=Fs,q.method=Zs,q.methodOf=Qs,q.mixin=_a,q.negate=pi,q.omit=Ws,q.once=di,q.pairs=Xi,q.partial=Ts,q.partialRight=Ss,q.partition=cs,q.pick=Gs,q.pluck=Kr,q.property=ka,q.propertyOf=Ea,q.pull=Tr,q.pullAt=Xo,q.range=Aa,q.rearg=ks,q.reject=Zr,q.remove=Sr,q.rest=kr,q.restParam=fi,q.set=Ji,q.shuffle=ti,q.slice=Er,q.sortBy=ri,q.sortByAll=fs,q.sortByOrder=ii,q.spread=hi,q.take=Ar,q.takeRight=Cr,q.takeRightWhile=Mr,q.takeWhile=Br,q.tap=$r,q.throttle=mi,q.thru=Dr,q.times=Ca,q.toArray=Ri,q.toPlainObject=Hi,q.transform=Ki,q.union=Ko,q.uniq=Ir,q.unzip=Lr,q.unzipWith=Or,q.values=Zi,q.valuesIn=Qi,q.where=ai,q.without=Zo,q.wrap=gi,q.xor=zr,q.zip=Qo,q.zipObject=jr,q.zipWith=ts,q.backflow=_s,q.collect=Jr,q.compose=_s,q.each=as,q.eachRight=os,q.extend=Bs,q.iteratee=wa,q.methods=Wi,q.object=jr,q.select=qr,q.tail=kr,q.unique=Ir,_a(q,q),q.add=Ba,q.attempt=Ks,q.camelCase=Vs,q.capitalize=na,q.clone=vi,q.cloneDeep=wi,q.deburr=ra,q.endsWith=ia,q.escape=aa,q.escapeRegExp=oa,q.every=Ur,q.find=rs,q.findIndex=Vo,q.findKey=Ls,q.findLast=is,q.findLastIndex=Uo,q.findLastKey=Os,q.findWhere=Xr,q.first=vr,q.get=Gi,q.gt=yi,q.gte=xi,q.has=Vi,q.identity=xa,q.includes=Yr,q.indexOf=xr,q.inRange=ta,q.isArguments=bi,q.isArray=Es,q.isBoolean=Pi,q.isDate=_i,q.isElement=Ti,q.isEmpty=Si,q.isEqual=ki,q.isError=Ei,q.isFinite=As,q.isFunction=Cs,q.isMatch=Ci,q.isNaN=Mi,q.isNative=Bi,q.isNull=Ii,q.isNumber=Li,q.isObject=Ai,q.isPlainObject=Ms,q.isRegExp=Oi,q.isString=zi,q.isTypedArray=ji,q.isUndefined=Ni,q.kebabCase=Us,q.last=Pr,q.lastIndexOf=_r,q.lt=$i,q.lte=Di,q.max=tl,q.min=el,q.noConflict=Ta,q.noop=Sa,q.now=hs,q.pad=sa,q.padLeft=qs,q.padRight=Xs,q.parseInt=la,q.random=ea,q.reduce=ps,q.reduceRight=ds,q.repeat=ua,q.result=Yi,q.runInContext=x,q.size=ei,q.snakeCase=Ys,q.some=ni,q.sortedIndex=Yo,q.sortedLastIndex=Jo,q.startCase=Js,q.startsWith=ca,q.sum=Ia,q.template=pa,q.trim=da,q.trimLeft=fa,q.trimRight=ha,q.trunc=ma,q.unescape=ga,q.uniqueId=Ma,q.words=va,q.all=Ur,q.any=ni,q.contains=Yr,q.eq=ki,q.detect=rs,q.foldl=ps,q.foldr=ds,q.head=vr,q.include=Yr,q.inject=ps,_a(q,function(){var t={};return Me(q,function(e,n){q.prototype[n]||(t[n]=e)}),t}(),!1),q.sample=Qr,q.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Qr(e,t)}):Qr(this.value())},q.VERSION=P,re(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){q[t].placeholder=q}),re(["dropWhile","filter","map","takeWhile"],function(t,e){var n=e!=$,r=e==j;Ft.prototype[t]=function(t,i){var a=this.__filtered__,o=a&&r?new Ft(this):this.clone(),s=o.__iteratees__||(o.__iteratees__=[]);return s.push({done:!1,count:0,index:0,iteratee:Nn(t,i,1),limit:-1,type:e}),o.__filtered__=a||n,o}}),re(["drop","take"],function(t,e){var n=t+"While";Ft.prototype[t]=function(n){var r=this.__filtered__,i=r&&!e?this.dropWhile():this.clone();if(n=null==n?1:wo(ro(n)||0,0),r)e?i.__takeCount__=yo(i.__takeCount__,n):Pr(i.__iteratees__).limit=n;else{var a=i.__views__||(i.__views__=[]);a.push({size:n,type:t+(i.__dir__<0?"Right":"")})}return i},Ft.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()},Ft.prototype[t+"RightWhile"]=function(t,e){return this.reverse()[n](t,e).reverse()}}),re(["first","last"],function(t,e){var n="take"+(e?"Right":"");Ft.prototype[t]=function(){return this[n](1).value()[0]}}),re(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Ft.prototype[t]=function(){return this[n](1)}}),re(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?$e:ka;Ft.prototype[t]=function(t){return this[n](r(t))}}),Ft.prototype.compact=function(){return this.filter(xa)},Ft.prototype.reject=function(t,e){return t=Nn(t,e,1),this.filter(function(e){return!t(e)})},Ft.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return 0>t?n=this.takeRight(-t):t&&(n=this.drop(t)),e!==b&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n},Ft.prototype.toArray=function(){return this.drop(0)},Me(Ft.prototype,function(t,e){var n=q[e];if(n){var r=/^(?:filter|map|reject)|While$/.test(e),i=/^(?:first|last)$/.test(e);q.prototype[e]=function(){var e=arguments,a=this.__chain__,o=this.__wrapped__,s=!!this.__actions__.length,l=o instanceof Ft,u=e[0],c=l||Es(o);c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var p=l&&!s;if(i&&!a)return p?t.call(o):n.call(q,this.value());var d=function(t){var r=[t];return oo.apply(r,e),n.apply(q,r)};if(c){var f=p?o:new Ft(this),h=t.apply(f,e);if(!i&&(s||h.__actions__)){var m=h.__actions__||(h.__actions__=[]);m.push({func:Dr,args:[d],thisArg:q})}return new Q(h,a)}return this.thru(d)}}}),re(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?Va:Wa)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);q.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),Me(Ft.prototype,function(t,e){var n=q[e];if(n){var r=n.name,i=Io[r]||(Io[r]=[]);i.push({name:e,func:n})}}),Io[Cn(null,T).name]=[{name:"wrapper",func:null}],Ft.prototype.clone=Wt,Ft.prototype.reverse=Gt,Ft.prototype.value=Vt,q.prototype.chain=Rr,q.prototype.commit=Hr,q.prototype.plant=Fr,q.prototype.reverse=Wr,q.prototype.toString=Gr,q.prototype.run=q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=Vr,q.prototype.collect=q.prototype.map,q.prototype.head=q.prototype.first,q.prototype.select=q.prototype.filter,q.prototype.tail=q.prototype.rest,q}var b,P="3.9.3",_=1,T=2,S=4,k=8,E=16,A=32,C=64,M=128,B=256,I=30,L="...",O=150,z=16,j=0,N=1,$=2,D="Expected a function",R="__lodash_placeholder__",H="[object Arguments]",F="[object Array]",W="[object Boolean]",G="[object Date]",V="[object Error]",U="[object Function]",q="[object Map]",X="[object Number]",Y="[object Object]",J="[object RegExp]",K="[object Set]",Z="[object String]",Q="[object WeakMap]",tt="[object ArrayBuffer]",et="[object Float32Array]",nt="[object Float64Array]",rt="[object Int8Array]",it="[object Int16Array]",at="[object Int32Array]",ot="[object Uint8Array]",st="[object Uint8ClampedArray]",lt="[object Uint16Array]",ut="[object Uint32Array]",ct=/\b__p \+= '';/g,pt=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ft=/&(?:amp|lt|gt|quot|#39|#96);/g,ht=/[&<>"'`]/g,mt=RegExp(ft.source),gt=RegExp(ht.source),vt=/<%-([\s\S]+?)%>/g,wt=/<%([\s\S]+?)%>/g,yt=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,bt=/^\w*$/,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,_t=/[.*+?^${}()|[\]\/\\]/g,Tt=RegExp(_t.source),St=/[\u0300-\u036f\ufe20-\ufe23]/g,kt=/\\(\\)?/g,Et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,At=/\w*$/,Ct=/^0[xX]/,Mt=/^\[object .+?Constructor\]$/,Bt=/^\d+$/,It=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Lt=/($^)/,Ot=/['\n\r\u2028\u2029\\]/g,zt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),jt=" 	\f\ufeff\n\r\u2028\u2029",Nt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],$t=-1,Dt={};Dt[et]=Dt[nt]=Dt[rt]=Dt[it]=Dt[at]=Dt[ot]=Dt[st]=Dt[lt]=Dt[ut]=!0,Dt[H]=Dt[F]=Dt[tt]=Dt[W]=Dt[G]=Dt[V]=Dt[U]=Dt[q]=Dt[X]=Dt[Y]=Dt[J]=Dt[K]=Dt[Z]=Dt[Q]=!1;var Rt={};Rt[H]=Rt[F]=Rt[tt]=Rt[W]=Rt[G]=Rt[et]=Rt[nt]=Rt[rt]=Rt[it]=Rt[at]=Rt[X]=Rt[Y]=Rt[J]=Rt[Z]=Rt[ot]=Rt[st]=Rt[lt]=Rt[ut]=!0,Rt[V]=Rt[U]=Rt[q]=Rt[K]=Rt[Q]=!1;var Ht={leading:!1,maxWait:0,trailing:!1},Ft={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Wt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Gt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Vt={"function":!0,object:!0},Ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qt=Vt[typeof exports]&&exports&&!exports.nodeType&&exports,Xt=Vt[typeof module]&&module&&!module.nodeType&&module,Yt=qt&&Xt&&"object"==typeof global&&global&&global.Object&&global,Jt=Vt[typeof self]&&self&&self.Object&&self,Kt=Vt[typeof window]&&window&&window.Object&&window,Zt=Xt&&Xt.exports===qt&&qt,Qt=Yt||Kt!==(this&&this.window)&&Kt||Jt||this,te=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Qt._=te,define(function(){return te})):qt&&Xt?Zt?(Xt.exports=te)._=te:qt._=te:Qt._=te}.call(this),function(){"use strict";function t(e,n,r){return("string"==typeof n?n:n.toString()).replace(e.define||a,function(t,n,i,a){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in r||(":"===i?(e.defineParams&&a.replace(e.defineParams,function(t,e,i){r[n]={arg:e,text:i}}),n in r||(r[n]=a)):new Function("def","def['"+n+"']="+a)(r)),""}).replace(e.use||a,function(n,i){e.useParams&&(i=i.replace(e.useParams,function(t,e,n,i){if(r[n]&&r[n].arg&&i){var a=(n+":"+i).replace(/'|\\/g,"_");return r.__exp=r.__exp||{},r.__exp[a]=r[n].text.replace(new RegExp("(^|[^\\w$])"+r[n].arg+"([^\\w$])","g"),"$1"+i+"$2"),e+"def.__exp['"+a+"']"}}));var a=new Function("def","return "+i)(r);return a?t(e,a,r):a})}function e(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var n,r={version:"1.0.3",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0};r.encodeHTMLSource=function(t){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=t?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(t){return t?t.toString().replace(n,function(t){return e[t]||t}):""}},n=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):n.doT=r;var i={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},a=/$^/;r.template=function(o,s,l){s=s||r.templateSettings;

var u,c,p=s.append?i.append:i.split,d=0,f=s.use||s.define?t(s,o,l||{}):o;f=("var out='"+(s.strip?f.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):f).replace(/'|\\/g,"\\$&").replace(s.interpolate||a,function(t,n){return p.start+e(n)+p.end}).replace(s.encode||a,function(t,n){return u=!0,p.startencode+e(n)+p.end}).replace(s.conditional||a,function(t,n,r){return n?r?"';}else if("+e(r)+"){out+='":"';}else{out+='":r?"';if("+e(r)+"){out+='":"';}out+='"}).replace(s.iterate||a,function(t,n,r,i){return n?(d+=1,c=i||"i"+d,n=e(n),"';var arr"+d+"="+n+";if(arr"+d+"){var "+r+","+c+"=-1,l"+d+"=arr"+d+".length-1;while("+c+"<l"+d+"){"+r+"=arr"+d+"["+c+"+=1];out+='"):"';} } out+='"}).replace(s.evaluate||a,function(t,n){return"';"+e(n)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),u&&(s.selfcontained||!n||n._encodeHTML||(n._encodeHTML=r.encodeHTMLSource(s.doNotSkipEncoded)),f="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+r.encodeHTMLSource.toString()+"("+(s.doNotSkipEncoded||"")+"));"+f);try{return new Function(s.varname,f)}catch(h){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+f),h}},r.compile=function(t,e){return r.template(t,null,e)}}(),function(){var t,e,n,r,i,a,o,s,l,u,c,p,d,f,h=[].slice;i="3.0.0",e="pending",r="resolved",n="rejected",l=function(t,e){return null!=t?t.hasOwnProperty(e):void 0},c=function(t){return l(t,"length")&&l(t,"callee")},p=function(t){return l(t,"promise")&&"function"==typeof(null!=t?t.promise:void 0)},s=function(t){return c(t)?s(Array.prototype.slice.call(t)):Array.isArray(t)?t.reduce(function(t,e){return Array.isArray(e)?t.concat(s(e)):(t.push(e),t)},[]):[t]},a=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},d=function(t,e){return function(){var n;return n=[t].concat(Array.prototype.slice.call(arguments,0)),e.apply(this,n)}},o=function(t,e,n){var r,i,a,o,l;for(o=s(t),l=[],i=0,a=o.length;a>i;i++)r=o[i],l.push(r.call.apply(r,[n].concat(h.call(e))));return l},t=function(){var i,a,l,u,c,d,f;return f=e,u=[],c=[],d=[],l={resolved:{},rejected:{},pending:{}},this.promise=function(i){var a,m;return i=i||{},i.state=function(){return f},m=function(t,n,r){return function(){return f===e&&n.push.apply(n,s(arguments)),t()&&o(arguments,l[r]),i}},i.done=m(function(){return f===r},u,r),i.fail=m(function(){return f===n},c,n),i.progress=m(function(){return f!==e},d,e),i.always=function(){var t;return(t=i.done.apply(i,arguments)).fail.apply(t,arguments)},a=function(e,n,r){var a,o;return o=new t,a=function(t,e,n){return i[t](n?function(){var t,r;return t=1<=arguments.length?h.call(arguments,0):[],r=n.apply(null,t),p(r)?r.done(o.resolve).fail(o.reject).progress(o.notify):o[e](r)}:o[e])},a("done","resolve",e),a("fail","reject",n),a("progress","notify",r),o},i.pipe=a,i.then=a,null==i.promise&&(i.promise=function(){return i}),i},this.promise(this),i=this,a=function(t,n,r){return function(){return f===e?(f=t,l[t]=arguments,o(n,l[t],r),i):this}},this.resolve=a(r,u),this.reject=a(n,c),this.notify=a(e,d),this.resolveWith=function(t,e){return a(r,u,t).apply(null,e)},this.rejectWith=function(t,e){return a(n,c,t).apply(null,e)},this.notifyWith=function(t,n){return a(e,d,t).apply(null,n)},this},f=function(){var e,n,r,i,o,l,u;if(n=s(arguments),1===n.length)return p(n[0])?n[0]:(new t).resolve(n[0]).promise();if(o=new t,!n.length)return o.resolve().promise();for(i=[],r=a(n.length,function(){return o.resolve.apply(o,i)}),n.forEach(function(t,e){return p(t)?t.done(function(){var t;return t=1<=arguments.length?h.call(arguments,0):[],i[e]=t.length>1?t:t[0],r()}):(i[e]=t,r())}),l=0,u=n.length;u>l;l++)e=n[l],p(e)&&e.fail(o.reject);return o.promise()},u=function(e){return e.Deferred=function(){return new t},e.ajax=d(e.ajax,function(e,n){var r,i,a,o;return null==n&&(n={}),i=new t,r=function(t,e){return d(t,function(){var t,n;return n=arguments[0],t=2<=arguments.length?h.call(arguments,1):[],n&&n.apply(null,t),e.apply(null,t)})},n.success=r(n.success,i.resolve),n.error=r(n.error,i.reject),o=e(n),a=i.promise(),a.abort=function(){return o.abort()},a}),e.when=f},"undefined"!=typeof exports?(exports.Deferred=function(){return new t},exports.when=f,exports.installInto=u):"function"==typeof define&&define.amd?define(function(){return"undefined"!=typeof Zepto?u(Zepto):(t.when=f,t.installInto=u,t)}):"undefined"!=typeof Zepto?u(Zepto):(this.Deferred=function(){return new t},this.Deferred.when=f,this.Deferred.installInto=u)}.call(this),function(t){function e(e){var n=e.length,r=typeof e;return h(r)||e===t?!1:1===e.nodeType&&n?!0:m(r)||0===n||"number"==typeof n&&n>0&&n-1 in e}function n(t,e){var n,r;this.originalEvent=t,r=function(t,e){this[t]="preventDefault"===t?function(){return this.defaultPrevented=!0,e[t]()}:"stopImmediatePropagation"===t?function(){return this.immediatePropagationStopped=!0,e[t]()}:h(e[t])?function(){return e[t]()}:e[t]};for(n in t)(t[n]||"function"==typeof t[n])&&r.call(this,n,t);g.extend(this,e,{isImmediatePropagationStopped:function(){return!!this.immediatePropagationStopped}})}var r,i=t.$,a=t.jBone,o=/^<(\w+)\s*\/?>$/,s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=[].slice,u=[].splice,c=Object.keys,p=document,d=function(t){return"string"==typeof t},f=function(t){return t instanceof Object},h=function(t){return"[object Function]"==={}.toString.call(t)},m=function(t){return Array.isArray(t)},g=function(t,e){return new r.init(t,e)};g.noConflict=function(){return t.$=i,t.jBone=a,g},r=g.fn=g.prototype={init:function(t,e){var n,r,i,a;if(!t)return this;if(d(t)){if(r=o.exec(t))return this[0]=p.createElement(r[1]),this.length=1,f(e)&&this.attr(e),this;if((r=s.exec(t))&&r[1]){for(a=p.createDocumentFragment(),i=p.createElement("div"),i.innerHTML=t;i.lastChild;)a.appendChild(i.firstChild);return n=l.call(a.childNodes),g.merge(this,n)}if(g.isElement(e))return g(e).find(t);try{return n=p.querySelectorAll(t),g.merge(this,n)}catch(u){return this}}return t.nodeType?(this[0]=t,this.length=1,this):h(t)?t():t instanceof g?t:g.makeArray(t,this)},pop:[].pop,push:[].push,reverse:[].reverse,shift:[].shift,sort:[].sort,splice:[].splice,slice:[].slice,indexOf:[].indexOf,forEach:[].forEach,unshift:[].unshift,concat:[].concat,join:[].join,every:[].every,some:[].some,filter:[].filter,map:[].map,reduce:[].reduce,reduceRight:[].reduceRight,length:0},r.constructor=g,r.init.prototype=r,g.setId=function(e){var n=e.jid;e===t?n="window":void 0===e.jid&&(e.jid=n=++g._cache.jid),g._cache.events[n]||(g._cache.events[n]={})},g.getData=function(e){e=e instanceof g?e[0]:e;var n=e===t?"window":e.jid;return{jid:n,events:g._cache.events[n]}},g.isElement=function(t){return t&&t instanceof g||t instanceof HTMLElement||d(t)},g._cache={events:{},jid:0},r.pushStack=function(t){var e=g.merge(this.constructor(),t);return e},g.merge=function(t,e){for(var n=e.length,r=t.length,i=0;n>i;)t[r++]=e[i++];return t.length=r,t},g.contains=function(t,e){return t.contains(e)},g.extend=function(t){var e;return u.call(arguments,1).forEach(function(n){if(e=t,n)for(var r in n)e[r]=n[r]}),t},g.makeArray=function(t,n){var r=n||[];return null!==t&&(e(t)?g.merge(r,d(t)?[t]:t):r.push(t)),r},g.unique=function(t){if(null==t)return[];for(var e=[],n=0,r=t.length;r>n;n++){var i=t[n];e.indexOf(i)<0&&e.push(i)}return e},g.Event=function(t,e){var n,r;return t.type&&!e&&(e=t,t=t.type),n=t.split(".").splice(1).join("."),r=t.split(".")[0],t=p.createEvent("Event"),t.initEvent(r,!0,!0),g.extend(t,{namespace:n,isDefaultPrevented:function(){return t.defaultPrevented}},e)},g.event={add:function(t,e,n,r,i){g.setId(t);var a,o,s,l=function(e){g.event.dispatch.call(t,e)},u=g.getData(t).events;for(e=e.split(" "),o=e.length;o--;)s=e[o],a=s.split(".")[0],u[a]=u[a]||[],u[a].length?l=u[a][0].fn:t.addEventListener&&t.addEventListener(a,l,!1),u[a].push({namespace:s.split(".").splice(1).join("."),fn:l,selector:i,data:r,originfn:n})},remove:function(t,e,n){var r,i,a=function(t,e,r,i,a){var o;(n&&a.originfn===n||!n)&&(o=a.fn),t[e][r].fn===o&&(t[e].splice(r,1),t[e].length||i.removeEventListener(e,o))},o=g.getData(t).events;if(o)return!e&&o?c(o).forEach(function(e){for(i=o[e],r=i.length;r--;)a(o,e,r,t,i[r])}):void e.split(" ").forEach(function(e){var n,s=e.split(".")[0],l=e.split(".").splice(1).join(".");if(o[s])for(i=o[s],r=i.length;r--;)n=i[r],(!l||l&&n.namespace===l)&&a(o,s,r,t,n);else l&&c(o).forEach(function(e){for(i=o[e],r=i.length;r--;)n=i[r],n.namespace.split(".")[0]===l.split(".")[0]&&a(o,e,r,t,n)})})},trigger:function(t,e){var n=[];d(e)?n=e.split(" ").map(function(t){return g.Event(t)}):(e=e instanceof Event?e:g.Event(e),n=[e]),n.forEach(function(e){e.type&&t.dispatchEvent&&t.dispatchEvent(e)})},dispatch:function(t){for(var e,r,i,a,o,s=0,l=0,u=this,c=g.getData(u).events[t.type],p=c.length,d=[],f=[];p>s;s++)d.push(c[s]);for(s=0,p=d.length;p>s&&~c.indexOf(d[s])&&(!a||!a.isImmediatePropagationStopped());s++)if(r=null,o={},i=d[s],i.data&&(o.data=i.data),i.selector){if(~(f=g(u).find(i.selector)).indexOf(t.target)&&(r=t.target)||u!==t.target&&u.contains(t.target)){if(!r)for(e=f.length,l=0;e>l;l++)f[l]&&f[l].contains(t.target)&&(r=f[l]);if(!r)continue;o.currentTarget=r,a=new n(t,o),t.namespace&&t.namespace!==i.namespace||i.originfn.call(r,a)}}else a=new n(t,o),t.namespace&&t.namespace!==i.namespace||i.originfn.call(u,a)}},r.on=function(t,e,n,r){var i=this.length,a=0;if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),!r)return this;for(;i>a;a++)g.event.add(this[a],t,r,n,e);return this},r.one=function(t){var e,n=arguments,r=0,i=this.length,a=l.call(n,1,n.length-1),o=l.call(n,-1)[0];for(e=function(e){var n=g(e);t.split(" ").forEach(function(t){var r=function(i){n.off(t,r),o.call(e,i)};n.on.apply(n,[t].concat(a,r))})};i>r;r++)e(this[r]);return this},r.trigger=function(t){var e=0,n=this.length;if(!t)return this;for(;n>e;e++)g.event.trigger(this[e],t);return this},r.off=function(t,e){for(var n=0,r=this.length;r>n;n++)g.event.remove(this[n],t,e);return this},r.find=function(t){for(var e=[],n=0,r=this.length,i=function(n){h(n.querySelectorAll)&&[].forEach.call(n.querySelectorAll(t),function(t){e.push(t)})};r>n;n++)i(this[n]);return g(e)},r.get=function(t){return null!=t?0>t?this[t+this.length]:this[t]:l.call(this)},r.eq=function(t){return g(this[t])},r.parent=function(){for(var t,e=[],n=0,r=this.length;r>n;n++)!~e.indexOf(t=this[n].parentElement)&&t&&e.push(t);return g(e)},r.toArray=function(){return l.call(this)},r.is=function(){var t=arguments;return this.some(function(e){return e.tagName.toLowerCase()===t[0]})},r.has=function(){var t=arguments;return this.some(function(e){return e.querySelectorAll(t[0]).length})},r.add=function(t,e){return this.pushStack(g.unique(g.merge(this.get(),g(t,e))))},r.attr=function(t,e){var n,r=arguments,i=0,a=this.length;if(d(t)&&1===r.length)return this[0]&&this[0].getAttribute(t);for(2===r.length?n=function(n){n.setAttribute(t,e)}:f(t)&&(n=function(e){c(t).forEach(function(n){e.setAttribute(n,t[n])})});a>i;i++)n(this[i]);return this},r.removeAttr=function(t){for(var e=0,n=this.length;n>e;e++)this[e].removeAttribute(t);return this},r.val=function(t){var e=0,n=this.length;if(0===arguments.length)return this[0]&&this[0].value;for(;n>e;e++)this[e].value=t;return this},r.css=function(e,n){var r,i=arguments,a=0,o=this.length;if(d(e)&&1===i.length)return this[0]&&t.getComputedStyle(this[0])[e];for(2===i.length?r=function(t){t.style[e]=n}:f(e)&&(r=function(t){c(e).forEach(function(n){t.style[n]=e[n]})});o>a;a++)r(this[a]);return this},r.data=function(t,e){var n,r=arguments,i={},a=0,o=this.length,s=function(t,e,n){f(n)?(t.jdata=t.jdata||{},t.jdata[e]=n):t.dataset[e]=n},l=function(t){return"true"===t?!0:"false"===t?!1:t};if(0===r.length)return this[0].jdata&&(i=this[0].jdata),c(this[0].dataset).forEach(function(t){i[t]=l(this[0].dataset[t])},this),i;if(1===r.length&&d(t))return this[0]&&l(this[0].dataset[t]||this[0].jdata&&this[0].jdata[t]);for(1===r.length&&f(t)?n=function(e){c(t).forEach(function(n){s(e,n,t[n])})}:2===r.length&&(n=function(n){s(n,t,e)});o>a;a++)n(this[a]);return this},r.removeData=function(t){for(var e,n,r=0,i=this.length;i>r;r++)if(e=this[r].jdata,n=this[r].dataset,t)e&&e[t]&&delete e[t],delete n[t];else{for(t in e)delete e[t];for(t in n)delete n[t]}return this},r.addClass=function(t){for(var e=0,n=0,r=this.length,i=t?t.trim().split(/\s+/):[];r>e;e++)for(n=0,n=0;n<i.length;n++)this[e].classList.add(i[n]);return this},r.removeClass=function(t){for(var e=0,n=0,r=this.length,i=t?t.trim().split(/\s+/):[];r>e;e++)for(n=0,n=0;n<i.length;n++)this[e].classList.remove(i[n]);return this},r.toggleClass=function(t,e){var n=0,r=this.length,i="toggle";if(e===!0&&(i="add")||e===!1&&(i="remove"),t)for(;r>n;n++)this[n].classList[i](t);return this},r.hasClass=function(t){var e=0,n=this.length;if(t)for(;n>e;e++)if(this[e].classList.contains(t))return!0;return!1},r.html=function(t){var e,n=arguments;return 1===n.length&&void 0!==t?this.empty().append(t):0===n.length&&(e=this[0])?e.innerHTML:this},r.append=function(t){var e,n=0,r=this.length;for(d(t)&&s.exec(t)?t=g(t):f(t)||(t=document.createTextNode(t)),t=t instanceof g?t:g(t),e=function(e,n){t.forEach(function(t){e.appendChild(n?t.cloneNode(!0):t)})};r>n;n++)e(this[n],n);return this},r.appendTo=function(t){return g(t).append(this),this},r.empty=function(){for(var t,e=0,n=this.length;n>e;e++)for(t=this[e];t.lastChild;)t.removeChild(t.lastChild);return this},r.remove=function(){var t,e=0,n=this.length;for(this.off();n>e;e++)t=this[e],delete t.jdata,t.parentNode&&t.parentNode.removeChild(t);return this},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=g:"function"==typeof define&&define.amd?(define(function(){return g}),t.jBone=t.$=g):"object"==typeof t&&"object"==typeof t.document&&(t.jBone=t.$=g)}(window),function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if("undefined"!=typeof exports){var n=require("underscore");e(t,exports,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,r){{var i=t.Backbone,a=[],o=(a.push,a.slice);a.splice}e.VERSION="1.1.2",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=e.Events={on:function(t,e,n){if(!u(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,r){if(!u(this,"once",t,[e,r])||!e)return this;var i=this,a=n.once(function(){i.off(t,a),e.apply(this,arguments)});return a._callback=e,this.on(t,a,r)},off:function(t,e,r){var i,a,o,s,l,c,p,d;if(!this._events||!u(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return this._events=void 0,this;for(s=t?[t]:n.keys(this._events),l=0,c=s.length;c>l;l++)if(t=s[l],o=this._events[t]){if(this._events[t]=i=[],e||r)for(p=0,d=o.length;d>p;p++)a=o[p],(e&&e!==a.callback&&e!==a.callback._callback||r&&r!==a.context)&&i.push(a);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!u(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&c(n,e),r&&c(r,arguments),this},stopListening:function(t,e,r){var i=this._listeningTo;if(!i)return this;var a=!e&&!r;r||"object"!=typeof e||(r=this),t&&((i={})[t._listenId]=t);for(var o in i)t=i[o],t.off(e,r,this),(a||n.isEmpty(t._events))&&delete this._listeningTo[o];return this}},l=/\s+/,u=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(l.test(n)){for(var a=n.split(l),o=0,s=a.length;s>o;o++)t[e].apply(t,[a[o]].concat(r));return!1}return!0},c=function(t,e){var n,r=-1,i=t.length,a=e[0],o=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,a);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,a,o);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,a,o,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(t,e){s[e]=function(e,r,i){var a=this._listeningTo||(this._listeningTo={}),o=e._listenId||(e._listenId=n.uniqueId("l"));return a[o]=e,i||"object"!=typeof r||(i=this),e[t](r,i,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(e,s);var d=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,r){var i,a,o,s,l,u,c,p;if(null==t)return this;if("object"==typeof t?(a=t,r=e):(a={})[t]=e,r||(r={}),!this._validate(a,r))return!1;o=r.unset,l=r.silent,s=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={}),p=this.attributes,c=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(i in a)e=a[i],n.isEqual(p[i],e)||s.push(i),n.isEqual(c[i],e)?delete this.changed[i]:this.changed[i]=e,o?delete p[i]:p[i]=e;if(!l){s.length&&(this._pending=r);for(var d=0,f=s.length;f>d;d++)this.trigger("change:"+s[d],this,p[s[d]],r)}if(u)return this;if(!l)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var a in t)n.isEqual(i[a],e=t[a])||((r||(r={}))[a]=e);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,r=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(r&&r(e,n,t),void e.trigger("sync",e,n,t)):!1},N(this,t),this.sync("read",this,t)},save:function(t,e,r){var i,a,o,s=this.attributes;if(null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},s,i)),void 0===r.parse&&(r.parse=!0);var l=this,u=r.success;return r.success=function(t){l.attributes=s;var e=l.parse(t,r);return r.wait&&(e=n.extend(i||{},e)),n.isObject(e)&&!l.set(e,r)?!1:(u&&u(l,t,r),void l.trigger("sync",l,t,r))},N(this,r),a=this.isNew()?"create":r.patch?"patch":"update","patch"===a&&(r.attrs=i),o=this.sync(a,this,r),i&&r.wait&&(this.attributes=s),o},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&i(),r&&r(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;N(this,t);var a=this.sync("delete",this,t);return t.wait||i(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||j();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];n.each(f,function(t){d.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var h=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(h.prototype,s,{model:d,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,g))},remove:function(t,e){var r=!n.isArray(t);t=r?[t]:n.clone(t),e||(e={});var i,a,o,s;for(i=0,a=t.length;a>i;i++)s=t[i]=this.get(t[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,e.silent||(e.index=o,s.trigger("remove",s,this,e)),this._removeReference(s,e));return r?t[0]:t},set:function(t,e){e=n.defaults({},e,m),e.parse&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?t?[t]:[]:n.clone(t);var i,a,o,s,l,u,c,p=e.at,f=this.model,h=this.comparator&&null==p&&e.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=[],w=[],y={},x=e.add,b=e.merge,P=e.remove,_=!h&&x&&P?[]:!1;for(i=0,a=t.length;a>i;i++){if(l=t[i]||{},o=l instanceof d?s=l:l[f.prototype.idAttribute||"id"],u=this.get(o))P&&(y[u.cid]=!0),b&&(l=l===s?s.attributes:l,e.parse&&(l=u.parse(l,e)),u.set(l,e),h&&!c&&u.hasChanged(g)&&(c=!0)),t[i]=u;else if(x){if(s=t[i]=this._prepareModel(l,e),!s)continue;v.push(s),this._addReference(s,e)}s=u||s,!_||!s.isNew()&&y[s.id]||_.push(s),y[s.id]=!0}if(P){for(i=0,a=this.length;a>i;++i)y[(s=this.models[i]).cid]||w.push(s);w.length&&this.remove(w,e)}if(v.length||_&&_.length)if(h&&(c=!0),this.length+=v.length,null!=p)for(i=0,a=v.length;a>i;i++)this.models.splice(p+i,0,v[i]);else{_&&(this.models.length=0);var T=_||v;for(i=0,a=T.length;a>i;i++)this.models.push(T[i])}if(c&&this.sort({silent:!0}),!e.silent){for(i=0,a=v.length;a>i;i++)(s=v[i]).trigger("add",s,this,e);(c||_&&_.length)&&this.trigger("sort",this,e)}return r?t[0]:t},reset:function(t,e){e||(e={});for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return o.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e(r,n,t),r.trigger("sync",r,n,t)},N(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var r=this,i=e.success;return e.success=function(t,n){e.wait&&r.add(t,e),i&&i(t,n,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof d)return t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_addReference:function(t,e){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(t){h.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var w=["groupBy","countBy","sortBy","indexBy"];n.each(w,function(t){h.prototype[t]=function(e,r){var i=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,i,r)}});var y=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,b)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,b=["model","collection","el","id","attributes","className","tagName","events"];n.extend(y.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[t[e]]),r){var i=e.match(x),a=i[1],o=i[2];r=n.bind(r,this),a+=".delegateEvents"+this.cid,""===o?this.$el.on(a,r):this.$el.on(a,o,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));var r=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(r,!1)}}}),e.sync=function(t,r,i){var a=_[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:a,dataType:"json"};if(i.url||(o.url=n.result(r,"url")||j()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",i.emulateJSON&&(o.data._method=a);var s=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",a),s?s.apply(this,arguments):void 0}}"GET"===o.type||i.emulateJSON||(o.processData=!1),"PATCH"===o.type&&P&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=e.ajax(n.extend(o,i));return r.trigger("request",r,l,i),l};var P=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),_={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var T=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,E=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(T.prototype,s,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var a=this;return e.history.route(t,function(n){var o=a._extractParameters(t,n);a.execute(i,o),a.trigger.apply(a,["route:"+r].concat(o)),a.trigger("route",r,o),e.history.trigger("route",a,r,o)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(A,"\\$&").replace(S,"(?:$1)?").replace(k,function(t,e){return e?t:"([^/?]+)"}).replace(E,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var C=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,I=/msie [\w.]+/,L=/\/$/,O=/#.*$/;C.started=!1,n.extend(C.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(L,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(M,"")},start:function(t){if(C.started)throw new Error("Backbone.history has already been started");C.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,a=I.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);if(this.root=("/"+this.root+"/").replace(B,"/"),a&&this._wantsHashChange){var o=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(M,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),C.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!C.started)return!1;e&&e!==!0||(e={
trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(O,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new C;var z=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var a=function(){this.constructor=r};return a.prototype=i.prototype,r.prototype=new a,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};d.extend=h.extend=T.extend=y.extend=C.extend=z;var j=function(){throw new Error('A "url" property or function must be specified')},N=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}};return e}),function(){"use strict";function t(t){t.fn.swiper=function(n){var r;return t(this).each(function(){var t=new e(this,n);r||(r=t)}),r}}var e=function(t,r){function i(){return"horizontal"===g.params.direction}function a(){g.autoplayTimeoutId=setTimeout(function(){g.params.loop?(g.fixLoop(),g._slideNext()):g.isEnd?r.autoplayStopOnLast?g.stopAutoplay():g._slideTo(0):g._slideNext()},g.params.autoplay)}function o(t,e){var n=v(t.target);if(!n.is(e))if("string"==typeof e)n=n.parents(e);else if(e.nodeType){var r;return n.parents().each(function(t,n){n===e&&(r=e)}),r?e:void 0}return 0===n.length?void 0:n[0]}function s(t,e){e=e||{};var n=window.MutationObserver||window.WebkitMutationObserver,r=new n(function(t){t.forEach(function(t){g.onResize(!0),g.emit("onObserverUpdate",g,t)})});r.observe(t,{attributes:"undefined"==typeof e.attributes?!0:e.attributes,childList:"undefined"==typeof e.childList?!0:e.childList,characterData:"undefined"==typeof e.characterData?!0:e.characterData}),g.observers.push(r)}function l(t){t.originalEvent&&(t=t.originalEvent);var e=t.keyCode||t.charCode;if(!g.params.allowSwipeToNext&&(i()&&39===e||!i()&&40===e))return!1;if(!g.params.allowSwipeToPrev&&(i()&&37===e||!i()&&38===e))return!1;if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===e||39===e||38===e||40===e){var n=!1;if(g.container.parents(".swiper-slide").length>0&&0===g.container.parents(".swiper-slide-active").length)return;var r={left:window.pageXOffset,top:window.pageYOffset},a=window.innerWidth,o=window.innerHeight,s=g.container.offset();g.rtl&&(s.left=s.left-g.container[0].scrollLeft);for(var l=[[s.left,s.top],[s.left+g.width,s.top],[s.left,s.top+g.height],[s.left+g.width,s.top+g.height]],u=0;u<l.length;u++){var c=l[u];c[0]>=r.left&&c[0]<=r.left+a&&c[1]>=r.top&&c[1]<=r.top+o&&(n=!0)}if(!n)return}i()?((37===e||39===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),(39===e&&!g.rtl||37===e&&g.rtl)&&g.slideNext(),(37===e&&!g.rtl||39===e&&g.rtl)&&g.slidePrev()):((38===e||40===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),40===e&&g.slideNext(),38===e&&g.slidePrev())}}function u(t){t.originalEvent&&(t=t.originalEvent);var e=g.mousewheel.event,n=0;if(t.detail)n=-t.detail;else if("mousewheel"===e)if(g.params.mousewheelForceToAxis)if(i()){if(!(Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)))return;n=t.wheelDeltaX}else{if(!(Math.abs(t.wheelDeltaY)>Math.abs(t.wheelDeltaX)))return;n=t.wheelDeltaY}else n=t.wheelDelta;else if("DOMMouseScroll"===e)n=-t.detail;else if("wheel"===e)if(g.params.mousewheelForceToAxis)if(i()){if(!(Math.abs(t.deltaX)>Math.abs(t.deltaY)))return;n=-t.deltaX}else{if(!(Math.abs(t.deltaY)>Math.abs(t.deltaX)))return;n=-t.deltaY}else n=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-t.deltaX:-t.deltaY;if(g.params.mousewheelInvert&&(n=-n),g.params.freeMode){var r=g.getWrapperTranslate()+n;if(r>0&&(r=0),r<g.maxTranslate()&&(r=g.maxTranslate()),g.setWrapperTransition(0),g.setWrapperTranslate(r),g.updateProgress(),g.updateActiveIndex(),g.params.freeModeSticky&&(clearTimeout(g.mousewheel.timeout),g.mousewheel.timeout=setTimeout(function(){g.slideReset()},300)),0===r||r===g.maxTranslate())return}else{if((new window.Date).getTime()-g.mousewheel.lastScrollTime>60)if(0>n)if(g.isEnd){if(g.params.mousewheelReleaseOnEdges)return!0}else g.slideNext();else if(g.isBeginning){if(g.params.mousewheelReleaseOnEdges)return!0}else g.slidePrev();g.mousewheel.lastScrollTime=(new window.Date).getTime()}return g.params.autoplay&&g.stopAutoplay(),t.preventDefault?t.preventDefault():t.returnValue=!1,!1}function c(t,e){t=v(t);var n,r,a;n=t.attr("data-swiper-parallax")||"0",r=t.attr("data-swiper-parallax-x"),a=t.attr("data-swiper-parallax-y"),r||a?(r=r||"0",a=a||"0"):i()?(r=n,a="0"):(a=n,r="0"),r=r.indexOf("%")>=0?parseInt(r,10)*e+"%":r*e+"px",a=a.indexOf("%")>=0?parseInt(a,10)*e+"%":a*e+"px",t.transform("translate3d("+r+", "+a+",0px)")}function p(t){return 0!==t.indexOf("on")&&(t=t[0]!==t[0].toUpperCase()?"on"+t[0].toUpperCase()+t.substring(1):"on"+t),t}if(!(this instanceof e))return new e(t,r);var d={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",runCallbacksOnInit:!0},f=r&&r.virtualTranslate;r=r||{};for(var h in d)if("undefined"==typeof r[h])r[h]=d[h];else if("object"==typeof r[h])for(var m in d[h])"undefined"==typeof r[h][m]&&(r[h][m]=d[h][m]);var g=this;g.version="3.0.8",g.params=r,g.classNames=[];var v;if(v="undefined"==typeof n?window.Dom7||window.Zepto||window.jQuery:n,v&&(g.$=v,g.container=v(t),0!==g.container.length)){if(g.container.length>1)return void g.container.each(function(){new e(this,r)});g.container[0].swiper=g,g.container.data("swiper",g),g.classNames.push("swiper-container-"+g.params.direction),g.params.freeMode&&g.classNames.push("swiper-container-free-mode"),g.support.flexbox||(g.classNames.push("swiper-container-no-flexbox"),g.params.slidesPerColumn=1),(g.params.parallax||g.params.watchSlidesVisibility)&&(g.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(g.params.effect)>=0&&(g.support.transforms3d?(g.params.watchSlidesProgress=!0,g.classNames.push("swiper-container-3d")):g.params.effect="slide"),"slide"!==g.params.effect&&g.classNames.push("swiper-container-"+g.params.effect),"cube"===g.params.effect&&(g.params.resistanceRatio=0,g.params.slidesPerView=1,g.params.slidesPerColumn=1,g.params.slidesPerGroup=1,g.params.centeredSlides=!1,g.params.spaceBetween=0,g.params.virtualTranslate=!0,g.params.setWrapperSize=!1),"fade"===g.params.effect&&(g.params.slidesPerView=1,g.params.slidesPerColumn=1,g.params.slidesPerGroup=1,g.params.watchSlidesProgress=!0,g.params.spaceBetween=0,"undefined"==typeof f&&(g.params.virtualTranslate=!0)),g.params.grabCursor&&g.support.touch&&(g.params.grabCursor=!1),g.wrapper=g.container.children("."+g.params.wrapperClass),g.params.pagination&&(g.paginationContainer=v(g.params.pagination),g.params.paginationClickable&&g.paginationContainer.addClass("swiper-pagination-clickable")),g.rtl=i()&&("rtl"===g.container[0].dir.toLowerCase()||"rtl"===g.container.css("direction")),g.rtl&&g.classNames.push("swiper-container-rtl"),g.rtl&&(g.wrongRTL="-webkit-box"===g.wrapper.css("display")),g.params.slidesPerColumn>1&&g.classNames.push("swiper-container-multirow"),g.device.android&&g.classNames.push("swiper-container-android"),g.container.addClass(g.classNames.join(" ")),g.translate=0,g.progress=0,g.velocity=0,g.lockSwipeToNext=function(){g.params.allowSwipeToNext=!1},g.lockSwipeToPrev=function(){g.params.allowSwipeToPrev=!1},g.lockSwipes=function(){g.params.allowSwipeToNext=g.params.allowSwipeToPrev=!1},g.unlockSwipeToNext=function(){g.params.allowSwipeToNext=!0},g.unlockSwipeToPrev=function(){g.params.allowSwipeToPrev=!0},g.unlockSwipes=function(){g.params.allowSwipeToNext=g.params.allowSwipeToPrev=!0},g.params.grabCursor&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grab",g.container[0].style.cursor="-moz-grab",g.container[0].style.cursor="grab"),g.imagesToLoad=[],g.imagesLoaded=0,g.loadImage=function(t,e,n,r){function i(){r&&r()}var a;t.complete&&n?i():e?(a=new window.Image,a.onload=i,a.onerror=i,a.src=e):i()},g.preloadImages=function(){function t(){"undefined"!=typeof g&&null!==g&&(void 0!==g.imagesLoaded&&g.imagesLoaded++,g.imagesLoaded===g.imagesToLoad.length&&(g.params.updateOnImagesReady&&g.update(),g.emit("onImagesReady",g)))}g.imagesToLoad=g.container.find("img");for(var e=0;e<g.imagesToLoad.length;e++)g.loadImage(g.imagesToLoad[e],g.imagesToLoad[e].currentSrc||g.imagesToLoad[e].getAttribute("src"),!0,t)},g.autoplayTimeoutId=void 0,g.autoplaying=!1,g.autoplayPaused=!1,g.startAutoplay=function(){return"undefined"!=typeof g.autoplayTimeoutId?!1:g.params.autoplay?g.autoplaying?!1:(g.autoplaying=!0,g.emit("onAutoplayStart",g),void a()):!1},g.stopAutoplay=function(t){g.autoplayTimeoutId&&(g.autoplayTimeoutId&&clearTimeout(g.autoplayTimeoutId),g.autoplaying=!1,g.autoplayTimeoutId=void 0,g.emit("onAutoplayStop",g))},g.pauseAutoplay=function(t){g.autoplayPaused||(g.autoplayTimeoutId&&clearTimeout(g.autoplayTimeoutId),g.autoplayPaused=!0,0===t?(g.autoplayPaused=!1,a()):g.wrapper.transitionEnd(function(){g&&(g.autoplayPaused=!1,g.autoplaying?a():g.stopAutoplay())}))},g.minTranslate=function(){return-g.snapGrid[0]},g.maxTranslate=function(){return-g.snapGrid[g.snapGrid.length-1]},g.updateContainerSize=function(){var t,e;t="undefined"!=typeof g.params.width?g.params.width:g.container[0].clientWidth,e="undefined"!=typeof g.params.height?g.params.height:g.container[0].clientHeight,0===t&&i()||0===e&&!i()||(g.width=t,g.height=e,g.size=i()?g.width:g.height)},g.updateSlidesSize=function(){g.slides=g.wrapper.children("."+g.params.slideClass),g.snapGrid=[],g.slidesGrid=[],g.slidesSizesGrid=[];var t,e=g.params.spaceBetween,n=0,r=0,a=0;"string"==typeof e&&e.indexOf("%")>=0&&(e=parseFloat(e.replace("%",""))/100*g.size),g.virtualSize=-e,g.slides.css(g.rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var o;g.params.slidesPerColumn>1&&(o=Math.floor(g.slides.length/g.params.slidesPerColumn)===g.slides.length/g.params.slidesPerColumn?g.slides.length:Math.ceil(g.slides.length/g.params.slidesPerColumn)*g.params.slidesPerColumn);var s,l=g.params.slidesPerColumn,u=o/l,c=u-(g.params.slidesPerColumn*u-g.slides.length);for(t=0;t<g.slides.length;t++){s=0;var p=g.slides.eq(t);if(g.params.slidesPerColumn>1){var d,f,h;"column"===g.params.slidesPerColumnFill?(f=Math.floor(t/l),h=t-f*l,(f>c||f===c&&h===l-1)&&++h>=l&&(h=0,f++),d=f+h*o/l,p.css({"-webkit-box-ordinal-group":d,"-moz-box-ordinal-group":d,"-ms-flex-order":d,"-webkit-order":d,order:d})):(h=Math.floor(t/u),f=t-h*u),p.css({"margin-top":0!==h&&g.params.spaceBetween&&g.params.spaceBetween+"px"}).attr("data-swiper-column",f).attr("data-swiper-row",h)}"none"!==p.css("display")&&("auto"===g.params.slidesPerView?s=i()?p.outerWidth(!0):p.outerHeight(!0):(s=(g.size-(g.params.slidesPerView-1)*e)/g.params.slidesPerView,i()?g.slides[t].style.width=s+"px":g.slides[t].style.height=s+"px"),g.slides[t].swiperSlideSize=s,g.slidesSizesGrid.push(s),g.params.centeredSlides?(n=n+s/2+r/2+e,0===t&&(n=n-g.size/2-e),Math.abs(n)<.001&&(n=0),a%g.params.slidesPerGroup===0&&g.snapGrid.push(n),g.slidesGrid.push(n)):(a%g.params.slidesPerGroup===0&&g.snapGrid.push(n),g.slidesGrid.push(n),n=n+s+e),g.virtualSize+=s+e,r=s,a++)}g.virtualSize=Math.max(g.virtualSize,g.size);var m;if(g.rtl&&g.wrongRTL&&("slide"===g.params.effect||"coverflow"===g.params.effect)&&g.wrapper.css({width:g.virtualSize+g.params.spaceBetween+"px"}),(!g.support.flexbox||g.params.setWrapperSize)&&g.wrapper.css(i()?{width:g.virtualSize+g.params.spaceBetween+"px"}:{height:g.virtualSize+g.params.spaceBetween+"px"}),g.params.slidesPerColumn>1&&(g.virtualSize=(s+g.params.spaceBetween)*o,g.virtualSize=Math.ceil(g.virtualSize/g.params.slidesPerColumn)-g.params.spaceBetween,g.wrapper.css({width:g.virtualSize+g.params.spaceBetween+"px"}),g.params.centeredSlides)){for(m=[],t=0;t<g.snapGrid.length;t++)g.snapGrid[t]<g.virtualSize+g.snapGrid[0]&&m.push(g.snapGrid[t]);g.snapGrid=m}if(!g.params.centeredSlides){for(m=[],t=0;t<g.snapGrid.length;t++)g.snapGrid[t]<=g.virtualSize-g.size&&m.push(g.snapGrid[t]);g.snapGrid=m,Math.floor(g.virtualSize-g.size)>Math.floor(g.snapGrid[g.snapGrid.length-1])&&g.snapGrid.push(g.virtualSize-g.size)}0===g.snapGrid.length&&(g.snapGrid=[0]),0!==g.params.spaceBetween&&g.slides.css(i()?g.rtl?{marginLeft:e+"px"}:{marginRight:e+"px"}:{marginBottom:e+"px"}),g.params.watchSlidesProgress&&g.updateSlidesOffset()},g.updateSlidesOffset=function(){for(var t=0;t<g.slides.length;t++)g.slides[t].swiperSlideOffset=i()?g.slides[t].offsetLeft:g.slides[t].offsetTop},g.updateSlidesProgress=function(t){if("undefined"==typeof t&&(t=g.translate||0),0!==g.slides.length){"undefined"==typeof g.slides[0].swiperSlideOffset&&g.updateSlidesOffset();var e=g.params.centeredSlides?-t+g.size/2:-t;g.rtl&&(e=g.params.centeredSlides?t-g.size/2:t);{g.container[0].getBoundingClientRect(),i()?"left":"top",i()?"right":"bottom"}g.slides.removeClass(g.params.slideVisibleClass);for(var n=0;n<g.slides.length;n++){var r=g.slides[n],a=g.params.centeredSlides===!0?r.swiperSlideSize/2:0,o=(e-r.swiperSlideOffset-a)/(r.swiperSlideSize+g.params.spaceBetween);if(g.params.watchSlidesVisibility){var s=-(e-r.swiperSlideOffset-a),l=s+g.slidesSizesGrid[n],u=s>=0&&s<g.size||l>0&&l<=g.size||0>=s&&l>=g.size;u&&g.slides.eq(n).addClass(g.params.slideVisibleClass)}r.progress=g.rtl?-o:o}}},g.updateProgress=function(t){"undefined"==typeof t&&(t=g.translate||0);var e=g.maxTranslate()-g.minTranslate();0===e?(g.progress=0,g.isBeginning=g.isEnd=!0):(g.progress=(t-g.minTranslate())/e,g.isBeginning=g.progress<=0,g.isEnd=g.progress>=1),g.isBeginning&&g.emit("onReachBeginning",g),g.isEnd&&g.emit("onReachEnd",g),g.params.watchSlidesProgress&&g.updateSlidesProgress(t),g.emit("onProgress",g,g.progress)},g.updateActiveIndex=function(){var t,e,n,r=g.rtl?g.translate:-g.translate;for(e=0;e<g.slidesGrid.length;e++)"undefined"!=typeof g.slidesGrid[e+1]?r>=g.slidesGrid[e]&&r<g.slidesGrid[e+1]-(g.slidesGrid[e+1]-g.slidesGrid[e])/2?t=e:r>=g.slidesGrid[e]&&r<g.slidesGrid[e+1]&&(t=e+1):r>=g.slidesGrid[e]&&(t=e);(0>t||"undefined"==typeof t)&&(t=0),n=Math.floor(t/g.params.slidesPerGroup),n>=g.snapGrid.length&&(n=g.snapGrid.length-1),t!==g.activeIndex&&(g.snapIndex=n,g.previousIndex=g.activeIndex,g.activeIndex=t,g.updateClasses())},g.updateClasses=function(){g.slides.removeClass(g.params.slideActiveClass+" "+g.params.slideNextClass+" "+g.params.slidePrevClass);var t=g.slides.eq(g.activeIndex);if(t.addClass(g.params.slideActiveClass),t.next("."+g.params.slideClass).addClass(g.params.slideNextClass),t.prev("."+g.params.slideClass).addClass(g.params.slidePrevClass),g.bullets&&g.bullets.length>0){g.bullets.removeClass(g.params.bulletActiveClass);var e;g.params.loop?(e=Math.ceil(g.activeIndex-g.loopedSlides)/g.params.slidesPerGroup,e>g.slides.length-1-2*g.loopedSlides&&(e-=g.slides.length-2*g.loopedSlides),e>g.bullets.length-1&&(e-=g.bullets.length)):e="undefined"!=typeof g.snapIndex?g.snapIndex:g.activeIndex||0,g.paginationContainer.length>1?g.bullets.each(function(){v(this).index()===e&&v(this).addClass(g.params.bulletActiveClass)}):g.bullets.eq(e).addClass(g.params.bulletActiveClass)}g.params.loop||(g.params.prevButton&&(g.isBeginning?(v(g.params.prevButton).addClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.disable(v(g.params.prevButton))):(v(g.params.prevButton).removeClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.enable(v(g.params.prevButton)))),g.params.nextButton&&(g.isEnd?(v(g.params.nextButton).addClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.disable(v(g.params.nextButton))):(v(g.params.nextButton).removeClass(g.params.buttonDisabledClass),g.params.a11y&&g.a11y&&g.a11y.enable(v(g.params.nextButton)))))},g.updatePagination=function(){if(g.params.pagination&&g.paginationContainer&&g.paginationContainer.length>0){for(var t="",e=g.params.loop?Math.ceil((g.slides.length-2*g.loopedSlides)/g.params.slidesPerGroup):g.snapGrid.length,n=0;e>n;n++)t+=g.params.paginationBulletRender?g.params.paginationBulletRender(n,g.params.bulletClass):'<span class="'+g.params.bulletClass+'"></span>';g.paginationContainer.html(t),g.bullets=g.paginationContainer.find("."+g.params.bulletClass)}},g.update=function(t){function e(){r=Math.min(Math.max(g.translate,g.maxTranslate()),g.minTranslate()),g.setWrapperTranslate(r),g.updateActiveIndex(),g.updateClasses()}if(g.updateContainerSize(),g.updateSlidesSize(),g.updateProgress(),g.updatePagination(),g.updateClasses(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),t){var n,r;g.params.freeMode?e():(n="auto"===g.params.slidesPerView&&g.isEnd&&!g.params.centeredSlides?g.slideTo(g.slides.length-1,0,!1,!0):g.slideTo(g.activeIndex,0,!1,!0),n||e())}},g.onResize=function(t){if(g.updateContainerSize(),g.updateSlidesSize(),g.updateProgress(),("auto"===g.params.slidesPerView||g.params.freeMode||t)&&g.updatePagination(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),g.params.freeMode){var e=Math.min(Math.max(g.translate,g.maxTranslate()),g.minTranslate());g.setWrapperTranslate(e),g.updateActiveIndex(),g.updateClasses()}else g.updateClasses(),"auto"===g.params.slidesPerView&&g.isEnd&&!g.params.centeredSlides?g.slideTo(g.slides.length-1,0,!1,!0):g.slideTo(g.activeIndex,0,!1,!0)};var w=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?w=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(w=["MSPointerDown","MSPointerMove","MSPointerUp"]),g.touchEvents={start:g.support.touch||!g.params.simulateTouch?"touchstart":w[0],move:g.support.touch||!g.params.simulateTouch?"touchmove":w[1],end:g.support.touch||!g.params.simulateTouch?"touchend":w[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===g.params.touchEventsTarget?g.container:g.wrapper).addClass("swiper-wp8-"+g.params.direction),g.initEvents=function(t){var e=t?"off":"on",n=t?"removeEventListener":"addEventListener",i="container"===g.params.touchEventsTarget?g.container[0]:g.wrapper[0],a=g.support.touch?i:document,o=g.params.nested?!0:!1;g.browser.ie?(i[n](g.touchEvents.start,g.onTouchStart,!1),a[n](g.touchEvents.move,g.onTouchMove,o),a[n](g.touchEvents.end,g.onTouchEnd,!1)):(g.support.touch&&(i[n](g.touchEvents.start,g.onTouchStart,!1),i[n](g.touchEvents.move,g.onTouchMove,o),i[n](g.touchEvents.end,g.onTouchEnd,!1)),!r.simulateTouch||g.device.ios||g.device.android||(i[n]("mousedown",g.onTouchStart,!1),document[n]("mousemove",g.onTouchMove,o),document[n]("mouseup",g.onTouchEnd,!1))),window[n]("resize",g.onResize),g.params.nextButton&&(v(g.params.nextButton)[e]("click",g.onClickNext),g.params.a11y&&g.a11y&&v(g.params.nextButton)[e]("keydown",g.a11y.onEnterKey)),g.params.prevButton&&(v(g.params.prevButton)[e]("click",g.onClickPrev),g.params.a11y&&g.a11y&&v(g.params.prevButton)[e]("keydown",g.a11y.onEnterKey)),g.params.pagination&&g.params.paginationClickable&&v(g.paginationContainer)[e]("click","."+g.params.bulletClass,g.onClickIndex),(g.params.preventClicks||g.params.preventClicksPropagation)&&i[n]("click",g.preventClicks,!0)},g.attachEvents=function(t){g.initEvents()},g.detachEvents=function(){g.initEvents(!0)},g.allowClick=!0,g.preventClicks=function(t){g.allowClick||(g.params.preventClicks&&t.preventDefault(),g.params.preventClicksPropagation&&g.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))},g.onClickNext=function(t){t.preventDefault(),g.slideNext()},g.onClickPrev=function(t){t.preventDefault(),g.slidePrev()},g.onClickIndex=function(t){t.preventDefault();var e=v(this).index()*g.params.slidesPerGroup;g.params.loop&&(e+=g.loopedSlides),g.slideTo(e)},g.updateClickedSlide=function(t){var e=o(t,"."+g.params.slideClass),n=!1;if(e)for(var r=0;r<g.slides.length;r++)g.slides[r]===e&&(n=!0);if(!e||!n)return g.clickedSlide=void 0,void(g.clickedIndex=void 0);if(g.clickedSlide=e,g.clickedIndex=v(e).index(),g.params.slideToClickedSlide&&void 0!==g.clickedIndex&&g.clickedIndex!==g.activeIndex){var i,a=g.clickedIndex;if(g.params.loop)if(i=v(g.clickedSlide).attr("data-swiper-slide-index"),a>g.slides.length-g.params.slidesPerView)g.fixLoop(),a=g.wrapper.children("."+g.params.slideClass+'[data-swiper-slide-index="'+i+'"]').eq(0).index(),setTimeout(function(){g.slideTo(a)},0);else if(a<g.params.slidesPerView-1){g.fixLoop();var s=g.wrapper.children("."+g.params.slideClass+'[data-swiper-slide-index="'+i+'"]');a=s.eq(s.length-1).index(),setTimeout(function(){g.slideTo(a)},0)}else g.slideTo(a);else g.slideTo(a)}};var y,x,b,P,_,T,S,k,E,A="input, select, textarea, button",C=Date.now(),M=[];g.animating=!1,g.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var B,I;if(g.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),B="touchstart"===t.type,B||!("which"in t)||3!==t.which){if(g.params.noSwiping&&o(t,"."+g.params.noSwipingClass))return void(g.allowClick=!0);if(!g.params.swipeHandler||o(t,g.params.swipeHandler)){if(y=!0,x=!1,P=void 0,I=void 0,g.touches.startX=g.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,g.touches.startY=g.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,b=Date.now(),g.allowClick=!0,g.updateContainerSize(),g.swipeDirection=void 0,g.params.threshold>0&&(S=!1),"touchstart"!==t.type){var e=!0;v(t.target).is(A)&&(e=!1),document.activeElement&&v(document.activeElement).is(A)&&document.activeElement.blur(),e&&t.preventDefault()}g.emit("onTouchStart",g,t)}}},g.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!(B&&"mousemove"===t.type||t.preventedByNestedSwiper)){if(g.params.onlyExternal)return x=!0,void(g.allowClick=!1);if(B&&document.activeElement&&t.target===document.activeElement&&v(t.target).is(A))return x=!0,void(g.allowClick=!1);if(g.emit("onTouchMove",g,t),!(t.targetTouches&&t.targetTouches.length>1)){if(g.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,g.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,"undefined"==typeof P){var e=180*Math.atan2(Math.abs(g.touches.currentY-g.touches.startY),Math.abs(g.touches.currentX-g.touches.startX))/Math.PI;P=i()?e>g.params.touchAngle:90-e>g.params.touchAngle}if(P&&g.emit("onTouchMoveOpposite",g,t),"undefined"==typeof I&&g.browser.ieTouch&&(g.touches.currentX!==g.touches.startX||g.touches.currentY!==g.touches.startY)&&(I=!0),y){if(P)return void(y=!1);if(I||!g.browser.ieTouch){g.allowClick=!1,g.emit("onSliderMove",g,t),t.preventDefault(),g.params.touchMoveStopPropagation&&!g.params.nested&&t.stopPropagation(),x||(r.loop&&g.fixLoop(),T=g.getWrapperTranslate(),g.setWrapperTransition(0),g.animating&&g.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),g.params.autoplay&&g.autoplaying&&(g.params.autoplayDisableOnInteraction?g.stopAutoplay():g.pauseAutoplay()),E=!1,g.params.grabCursor&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grabbing",g.container[0].style.cursor="-moz-grabbin",g.container[0].style.cursor="grabbing")),x=!0;var n=g.touches.diff=i()?g.touches.currentX-g.touches.startX:g.touches.currentY-g.touches.startY;n*=g.params.touchRatio,g.rtl&&(n=-n),g.swipeDirection=n>0?"prev":"next",_=n+T;var a=!0;if(n>0&&_>g.minTranslate()?(a=!1,g.params.resistance&&(_=g.minTranslate()-1+Math.pow(-g.minTranslate()+T+n,g.params.resistanceRatio))):0>n&&_<g.maxTranslate()&&(a=!1,g.params.resistance&&(_=g.maxTranslate()+1-Math.pow(g.maxTranslate()-T-n,g.params.resistanceRatio))),a&&(t.preventedByNestedSwiper=!0),!g.params.allowSwipeToNext&&"next"===g.swipeDirection&&T>_&&(_=T),!g.params.allowSwipeToPrev&&"prev"===g.swipeDirection&&_>T&&(_=T),g.params.followFinger){if(g.params.threshold>0){if(!(Math.abs(n)>g.params.threshold||S))return void(_=T);if(!S)return S=!0,g.touches.startX=g.touches.currentX,g.touches.startY=g.touches.currentY,_=T,void(g.touches.diff=i()?g.touches.currentX-g.touches.startX:g.touches.currentY-g.touches.startY)}(g.params.freeMode||g.params.watchSlidesProgress)&&g.updateActiveIndex(),g.params.freeMode&&(0===M.length&&M.push({position:g.touches[i()?"startX":"startY"],time:b}),M.push({position:g.touches[i()?"currentX":"currentY"],time:(new window.Date).getTime()})),g.updateProgress(_),g.setWrapperTranslate(_)}}}}}},g.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),g.emit("onTouchEnd",g,t),y){g.params.grabCursor&&x&&y&&(g.container[0].style.cursor="move",g.container[0].style.cursor="-webkit-grab",g.container[0].style.cursor="-moz-grab",g.container[0].style.cursor="grab");var e=Date.now(),n=e-b;if(g.allowClick&&(g.updateClickedSlide(t),g.emit("onTap",g,t),300>n&&e-C>300&&(k&&clearTimeout(k),k=setTimeout(function(){g&&(g.params.paginationHide&&g.paginationContainer.length>0&&!v(t.target).hasClass(g.params.bulletClass)&&g.paginationContainer.toggleClass(g.params.paginationHiddenClass),g.emit("onClick",g,t))},300)),300>n&&300>e-C&&(k&&clearTimeout(k),g.emit("onDoubleTap",g,t))),C=Date.now(),setTimeout(function(){g&&(g.allowClick=!0)},0),!y||!x||!g.swipeDirection||0===g.touches.diff||_===T)return void(y=x=!1);y=x=!1;var r;if(r=g.params.followFinger?g.rtl?g.translate:-g.translate:-_,g.params.freeMode){if(r<-g.minTranslate())return void g.slideTo(g.activeIndex);if(r>-g.maxTranslate())return void g.slideTo(g.slides.length<g.snapGrid.length?g.snapGrid.length-1:g.slides.length-1);if(g.params.freeModeMomentum){if(M.length>1){var i=M.pop(),a=M.pop(),o=i.position-a.position,s=i.time-a.time;g.velocity=o/s,g.velocity=g.velocity/2,Math.abs(g.velocity)<.02&&(g.velocity=0),(s>150||(new window.Date).getTime()-i.time>300)&&(g.velocity=0)}else g.velocity=0;M.length=0;var l=1e3*g.params.freeModeMomentumRatio,u=g.velocity*l,c=g.translate+u;g.rtl&&(c=-c);var p,d=!1,f=20*Math.abs(g.velocity)*g.params.freeModeMomentumBounceRatio;if(c<g.maxTranslate())g.params.freeModeMomentumBounce?(c+g.maxTranslate()<-f&&(c=g.maxTranslate()-f),p=g.maxTranslate(),d=!0,E=!0):c=g.maxTranslate();else if(c>g.minTranslate())g.params.freeModeMomentumBounce?(c-g.minTranslate()>f&&(c=g.minTranslate()+f),p=g.minTranslate(),d=!0,E=!0):c=g.minTranslate();else if(g.params.freeModeSticky){var h,m=0;for(m=0;m<g.snapGrid.length;m+=1)if(g.snapGrid[m]>-c){h=m;break}c=Math.abs(g.snapGrid[h]-c)<Math.abs(g.snapGrid[h-1]-c)||"next"===g.swipeDirection?g.snapGrid[h]:g.snapGrid[h-1],g.rtl||(c=-c)}if(0!==g.velocity)l=Math.abs(g.rtl?(-c-g.translate)/g.velocity:(c-g.translate)/g.velocity);else if(g.params.freeModeSticky)return void g.slideReset();g.params.freeModeMomentumBounce&&d?(g.updateProgress(p),g.setWrapperTransition(l),g.setWrapperTranslate(c),g.onTransitionStart(),g.animating=!0,g.wrapper.transitionEnd(function(){g&&E&&(g.emit("onMomentumBounce",g),g.setWrapperTransition(g.params.speed),g.setWrapperTranslate(p),g.wrapper.transitionEnd(function(){g&&g.onTransitionEnd()}))})):g.velocity?(g.updateProgress(c),g.setWrapperTransition(l),g.setWrapperTranslate(c),g.onTransitionStart(),g.animating||(g.animating=!0,g.wrapper.transitionEnd(function(){g&&g.onTransitionEnd()}))):g.updateProgress(c),g.updateActiveIndex()}return void((!g.params.freeModeMomentum||n>=g.params.longSwipesMs)&&(g.updateProgress(),g.updateActiveIndex()))}var w,P=0,S=g.slidesSizesGrid[0];for(w=0;w<g.slidesGrid.length;w+=g.params.slidesPerGroup)"undefined"!=typeof g.slidesGrid[w+g.params.slidesPerGroup]?r>=g.slidesGrid[w]&&r<g.slidesGrid[w+g.params.slidesPerGroup]&&(P=w,S=g.slidesGrid[w+g.params.slidesPerGroup]-g.slidesGrid[w]):r>=g.slidesGrid[w]&&(P=w,S=g.slidesGrid[g.slidesGrid.length-1]-g.slidesGrid[g.slidesGrid.length-2]);var A=(r-g.slidesGrid[P])/S;if(n>g.params.longSwipesMs){if(!g.params.longSwipes)return void g.slideTo(g.activeIndex);"next"===g.swipeDirection&&g.slideTo(A>=g.params.longSwipesRatio?P+g.params.slidesPerGroup:P),"prev"===g.swipeDirection&&g.slideTo(A>1-g.params.longSwipesRatio?P+g.params.slidesPerGroup:P)}else{if(!g.params.shortSwipes)return void g.slideTo(g.activeIndex);"next"===g.swipeDirection&&g.slideTo(P+g.params.slidesPerGroup),"prev"===g.swipeDirection&&g.slideTo(P)}}},g._slideTo=function(t,e){return g.slideTo(t,e,!0,!0)},g.slideTo=function(t,e,n,r){"undefined"==typeof n&&(n=!0),"undefined"==typeof t&&(t=0),0>t&&(t=0),g.snapIndex=Math.floor(t/g.params.slidesPerGroup),g.snapIndex>=g.snapGrid.length&&(g.snapIndex=g.snapGrid.length-1);var a=-g.snapGrid[g.snapIndex];if(!g.params.allowSwipeToNext&&a<g.translate&&a<g.minTranslate())return!1;if(!g.params.allowSwipeToPrev&&a>g.translate&&a>g.maxTranslate())return!1;g.params.autoplay&&g.autoplaying&&(r||!g.params.autoplayDisableOnInteraction?g.pauseAutoplay(e):g.stopAutoplay()),g.updateProgress(a);for(var o=0;o<g.slidesGrid.length;o++)-a>=g.slidesGrid[o]&&(t=o);if("undefined"==typeof e&&(e=g.params.speed),g.previousIndex=g.activeIndex||0,g.activeIndex=t,a===g.translate)return g.updateClasses(),!1;g.updateClasses(),g.onTransitionStart(n);i()?a:0,i()?0:a;return 0===e?(g.setWrapperTransition(0),g.setWrapperTranslate(a),g.onTransitionEnd(n)):(g.setWrapperTransition(e),g.setWrapperTranslate(a),g.animating||(g.animating=!0,g.wrapper.transitionEnd(function(){g&&g.onTransitionEnd(n)}))),!0},g.onTransitionStart=function(t){"undefined"==typeof t&&(t=!0),g.lazy&&g.lazy.onTransitionStart(),t&&(g.emit("onTransitionStart",g),g.activeIndex!==g.previousIndex&&g.emit("onSlideChangeStart",g))},g.onTransitionEnd=function(t){g.animating=!1,g.setWrapperTransition(0),"undefined"==typeof t&&(t=!0),g.lazy&&g.lazy.onTransitionEnd(),t&&(g.emit("onTransitionEnd",g),g.activeIndex!==g.previousIndex&&g.emit("onSlideChangeEnd",g)),g.params.hashnav&&g.hashnav&&g.hashnav.setHash();

},g.slideNext=function(t,e,n){if(g.params.loop){if(g.animating)return!1;g.fixLoop();{g.container[0].clientLeft}return g.slideTo(g.activeIndex+g.params.slidesPerGroup,e,t,n)}return g.slideTo(g.activeIndex+g.params.slidesPerGroup,e,t,n)},g._slideNext=function(t){return g.slideNext(!0,t,!0)},g.slidePrev=function(t,e,n){if(g.params.loop){if(g.animating)return!1;g.fixLoop();{g.container[0].clientLeft}return g.slideTo(g.activeIndex-1,e,t,n)}return g.slideTo(g.activeIndex-1,e,t,n)},g._slidePrev=function(t){return g.slidePrev(!0,t,!0)},g.slideReset=function(t,e,n){return g.slideTo(g.activeIndex,e,t)},g.setWrapperTransition=function(t,e){g.wrapper.transition(t),"slide"!==g.params.effect&&g.effects[g.params.effect]&&g.effects[g.params.effect].setTransition(t),g.params.parallax&&g.parallax&&g.parallax.setTransition(t),g.params.scrollbar&&g.scrollbar&&g.scrollbar.setTransition(t),g.params.control&&g.controller&&g.controller.setTransition(t,e),g.emit("onSetTransition",g,t)},g.setWrapperTranslate=function(t,e,n){var r=0,a=0,o=0;i()?r=g.rtl?-t:t:a=t,g.params.virtualTranslate||g.wrapper.transform(g.support.transforms3d?"translate3d("+r+"px, "+a+"px, "+o+"px)":"translate("+r+"px, "+a+"px)"),g.translate=i()?r:a,e&&g.updateActiveIndex(),"slide"!==g.params.effect&&g.effects[g.params.effect]&&g.effects[g.params.effect].setTranslate(g.translate),g.params.parallax&&g.parallax&&g.parallax.setTranslate(g.translate),g.params.scrollbar&&g.scrollbar&&g.scrollbar.setTranslate(g.translate),g.params.control&&g.controller&&g.controller.setTranslate(g.translate,n),g.emit("onSetTranslate",g,g.translate)},g.getTranslate=function(t,e){var n,r,i,a;return"undefined"==typeof e&&(e="x"),g.params.virtualTranslate?g.rtl?-g.translate:g.translate:(i=window.getComputedStyle(t,null),window.WebKitCSSMatrix?a=new window.WebKitCSSMatrix("none"===i.webkitTransform?"":i.webkitTransform):(a=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),"x"===e&&(r=window.WebKitCSSMatrix?a.m41:parseFloat(16===n.length?n[12]:n[4])),"y"===e&&(r=window.WebKitCSSMatrix?a.m42:parseFloat(16===n.length?n[13]:n[5])),g.rtl&&r&&(r=-r),r||0)},g.getWrapperTranslate=function(t){return"undefined"==typeof t&&(t=i()?"x":"y"),g.getTranslate(g.wrapper[0],t)},g.observers=[],g.initObservers=function(){if(g.params.observeParents)for(var t=g.container.parents(),e=0;e<t.length;e++)s(t[e]);s(g.container[0],{childList:!1}),s(g.wrapper[0],{attributes:!1})},g.disconnectObservers=function(){for(var t=0;t<g.observers.length;t++)g.observers[t].disconnect();g.observers=[]},g.createLoop=function(){g.wrapper.children("."+g.params.slideClass+"."+g.params.slideDuplicateClass).remove();var t=g.wrapper.children("."+g.params.slideClass);g.loopedSlides=parseInt(g.params.loopedSlides||g.params.slidesPerView,10),g.loopedSlides=g.loopedSlides+g.params.loopAdditionalSlides,g.loopedSlides>t.length&&(g.loopedSlides=t.length);var e,n=[],r=[];for(t.each(function(e,i){var a=v(this);e<g.loopedSlides&&r.push(i),e<t.length&&e>=t.length-g.loopedSlides&&n.push(i),a.attr("data-swiper-slide-index",e)}),e=0;e<r.length;e++)g.wrapper.append(v(r[e].cloneNode(!0)).addClass(g.params.slideDuplicateClass));for(e=n.length-1;e>=0;e--)g.wrapper.prepend(v(n[e].cloneNode(!0)).addClass(g.params.slideDuplicateClass))},g.destroyLoop=function(){g.wrapper.children("."+g.params.slideClass+"."+g.params.slideDuplicateClass).remove(),g.slides.removeAttr("data-swiper-slide-index")},g.fixLoop=function(){var t;g.activeIndex<g.loopedSlides?(t=g.slides.length-3*g.loopedSlides+g.activeIndex,t+=g.loopedSlides,g.slideTo(t,0,!1,!0)):("auto"===g.params.slidesPerView&&g.activeIndex>=2*g.loopedSlides||g.activeIndex>g.slides.length-2*g.params.slidesPerView)&&(t=-g.slides.length+g.activeIndex+g.loopedSlides,t+=g.loopedSlides,g.slideTo(t,0,!1,!0))},g.appendSlide=function(t){if(g.params.loop&&g.destroyLoop(),"object"==typeof t&&t.length)for(var e=0;e<t.length;e++)t[e]&&g.wrapper.append(t[e]);else g.wrapper.append(t);g.params.loop&&g.createLoop(),g.params.observer&&g.support.observer||g.update(!0)},g.prependSlide=function(t){g.params.loop&&g.destroyLoop();var e=g.activeIndex+1;if("object"==typeof t&&t.length){for(var n=0;n<t.length;n++)t[n]&&g.wrapper.prepend(t[n]);e=g.activeIndex+t.length}else g.wrapper.prepend(t);g.params.loop&&g.createLoop(),g.params.observer&&g.support.observer||g.update(!0),g.slideTo(e,0,!1)},g.removeSlide=function(t){g.params.loop&&(g.destroyLoop(),g.slides=g.wrapper.children("."+g.params.slideClass));var e,n=g.activeIndex;if("object"==typeof t&&t.length){for(var r=0;r<t.length;r++)e=t[r],g.slides[e]&&g.slides.eq(e).remove(),n>e&&n--;n=Math.max(n,0)}else e=t,g.slides[e]&&g.slides.eq(e).remove(),n>e&&n--,n=Math.max(n,0);g.params.loop&&g.createLoop(),g.params.observer&&g.support.observer||g.update(!0),g.params.loop?g.slideTo(n+g.loopedSlides,0,!1):g.slideTo(n,0,!1)},g.removeAllSlides=function(){for(var t=[],e=0;e<g.slides.length;e++)t.push(e);g.removeSlide(t)},g.effects={fade:{setTranslate:function(){for(var t=0;t<g.slides.length;t++){var e=g.slides.eq(t),n=e[0].swiperSlideOffset,r=-n;g.params.virtualTranslate||(r-=g.translate);var a=0;i()||(a=r,r=0);var o=g.params.fade.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);e.css({opacity:o}).transform("translate3d("+r+"px, "+a+"px, 0px)")}},setTransition:function(t){if(g.slides.transition(t),g.params.virtualTranslate&&0!==t){var e=!1;g.slides.transitionEnd(function(){if(!e&&g){e=!0,g.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<t.length;n++)g.wrapper.trigger(t[n])}})}}},cube:{setTranslate:function(){var t,e=0;g.params.cube.shadow&&(i()?(t=g.wrapper.find(".swiper-cube-shadow"),0===t.length&&(t=v('<div class="swiper-cube-shadow"></div>'),g.wrapper.append(t)),t.css({height:g.width+"px"})):(t=g.container.find(".swiper-cube-shadow"),0===t.length&&(t=v('<div class="swiper-cube-shadow"></div>'),g.container.append(t))));for(var n=0;n<g.slides.length;n++){var r=g.slides.eq(n),a=90*n,o=Math.floor(a/360);g.rtl&&(a=-a,o=Math.floor(-a/360));var s=Math.max(Math.min(r[0].progress,1),-1),l=0,u=0,c=0;n%4===0?(l=4*-o*g.size,c=0):(n-1)%4===0?(l=0,c=4*-o*g.size):(n-2)%4===0?(l=g.size+4*o*g.size,c=g.size):(n-3)%4===0&&(l=-g.size,c=3*g.size+4*g.size*o),g.rtl&&(l=-l),i()||(u=l,l=0);var p="rotateX("+(i()?0:-a)+"deg) rotateY("+(i()?a:0)+"deg) translate3d("+l+"px, "+u+"px, "+c+"px)";if(1>=s&&s>-1&&(e=90*n+90*s,g.rtl&&(e=90*-n-90*s)),r.transform(p),g.params.cube.slideShadows){var d=r.find(i()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),f=r.find(i()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===d.length&&(d=v('<div class="swiper-slide-shadow-'+(i()?"left":"top")+'"></div>'),r.append(d)),0===f.length&&(f=v('<div class="swiper-slide-shadow-'+(i()?"right":"bottom")+'"></div>'),r.append(f));{r[0].progress}d.length&&(d[0].style.opacity=-r[0].progress),f.length&&(f[0].style.opacity=r[0].progress)}}if(g.wrapper.css({"-webkit-transform-origin":"50% 50% -"+g.size/2+"px","-moz-transform-origin":"50% 50% -"+g.size/2+"px","-ms-transform-origin":"50% 50% -"+g.size/2+"px","transform-origin":"50% 50% -"+g.size/2+"px"}),g.params.cube.shadow)if(i())t.transform("translate3d(0px, "+(g.width/2+g.params.cube.shadowOffset)+"px, "+-g.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+g.params.cube.shadowScale+")");else{var h=Math.abs(e)-90*Math.floor(Math.abs(e)/90),m=1.5-(Math.sin(2*h*Math.PI/360)/2+Math.cos(2*h*Math.PI/360)/2),w=g.params.cube.shadowScale,y=g.params.cube.shadowScale/m,x=g.params.cube.shadowOffset;t.transform("scale3d("+w+", 1, "+y+") translate3d(0px, "+(g.height/2+x)+"px, "+-g.height/2/y+"px) rotateX(-90deg)")}var b=g.isSafari||g.isUiWebView?-g.size/2:0;g.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(i()?0:e)+"deg) rotateY("+(i()?-e:0)+"deg)")},setTransition:function(t){g.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),g.params.cube.shadow&&!i()&&g.container.find(".swiper-cube-shadow").transition(t)}},coverflow:{setTranslate:function(){for(var t=g.translate,e=i()?-t+g.width/2:-t+g.height/2,n=i()?g.params.coverflow.rotate:-g.params.coverflow.rotate,r=g.params.coverflow.depth,a=0,o=g.slides.length;o>a;a++){var s=g.slides.eq(a),l=g.slidesSizesGrid[a],u=s[0].swiperSlideOffset,c=(e-u-l/2)/l*g.params.coverflow.modifier,p=i()?n*c:0,d=i()?0:n*c,f=-r*Math.abs(c),h=i()?0:g.params.coverflow.stretch*c,m=i()?g.params.coverflow.stretch*c:0;Math.abs(m)<.001&&(m=0),Math.abs(h)<.001&&(h=0),Math.abs(f)<.001&&(f=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0);var w="translate3d("+m+"px,"+h+"px,"+f+"px)  rotateX("+d+"deg) rotateY("+p+"deg)";if(s.transform(w),s[0].style.zIndex=-Math.abs(Math.round(c))+1,g.params.coverflow.slideShadows){var y=s.find(i()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),x=s.find(i()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===y.length&&(y=v('<div class="swiper-slide-shadow-'+(i()?"left":"top")+'"></div>'),s.append(y)),0===x.length&&(x=v('<div class="swiper-slide-shadow-'+(i()?"right":"bottom")+'"></div>'),s.append(x)),y.length&&(y[0].style.opacity=c>0?c:0),x.length&&(x[0].style.opacity=-c>0?-c:0)}}if(g.browser.ie){var b=g.wrapper[0].style;b.perspectiveOrigin=e+"px 50%"}},setTransition:function(t){g.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}}},g.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,e){if("undefined"!=typeof t&&("undefined"==typeof e&&(e=!0),0!==g.slides.length)){var n=g.slides.eq(t),r=n.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!n.hasClass("swiper-lazy")||n.hasClass("swiper-lazy-loaded")||n.hasClass("swiper-lazy-loading")||r.add(n[0]),0!==r.length&&r.each(function(){var t=v(this);t.addClass("swiper-lazy-loading");var r=t.attr("data-background"),i=t.attr("data-src");g.loadImage(t[0],i||r,!1,function(){if(r?(t.css("background-image","url("+r+")"),t.removeAttr("data-background")):(t.attr("src",i),t.removeAttr("data-src")),t.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),n.find(".swiper-lazy-preloader, .preloader").remove(),g.params.loop&&e){var a=n.attr("data-swiper-slide-index");if(n.hasClass(g.params.slideDuplicateClass)){var o=g.wrapper.children('[data-swiper-slide-index="'+a+'"]:not(.'+g.params.slideDuplicateClass+")");g.lazy.loadImageInSlide(o.index(),!1)}else{var s=g.wrapper.children("."+g.params.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]');g.lazy.loadImageInSlide(s.index(),!1)}}g.emit("onLazyImageReady",g,n[0],t[0])}),g.emit("onLazyImageLoad",g,n[0],t[0])})}},load:function(){var t;if(g.params.watchSlidesVisibility)g.wrapper.children("."+g.params.slideVisibleClass).each(function(){g.lazy.loadImageInSlide(v(this).index())});else if(g.params.slidesPerView>1)for(t=g.activeIndex;t<g.activeIndex+g.params.slidesPerView;t++)g.slides[t]&&g.lazy.loadImageInSlide(t);else g.lazy.loadImageInSlide(g.activeIndex);if(g.params.lazyLoadingInPrevNext)if(g.params.slidesPerView>1){for(t=g.activeIndex+g.params.slidesPerView;t<g.activeIndex+g.params.slidesPerView+g.params.slidesPerView;t++)g.slides[t]&&g.lazy.loadImageInSlide(t);for(t=g.activeIndex-g.params.slidesPerView;t<g.activeIndex;t++)g.slides[t]&&g.lazy.loadImageInSlide(t)}else{var e=g.wrapper.children("."+g.params.slideNextClass);e.length>0&&g.lazy.loadImageInSlide(e.index());var n=g.wrapper.children("."+g.params.slidePrevClass);n.length>0&&g.lazy.loadImageInSlide(n.index())}},onTransitionStart:function(){g.params.lazyLoading&&(g.params.lazyLoadingOnTransitionStart||!g.params.lazyLoadingOnTransitionStart&&!g.lazy.initialImageLoaded)&&g.lazy.load()},onTransitionEnd:function(){g.params.lazyLoading&&!g.params.lazyLoadingOnTransitionStart&&g.lazy.load()}},g.scrollbar={set:function(){if(g.params.scrollbar){var t=g.scrollbar;t.track=v(g.params.scrollbar),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=v('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=i()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=g.size/g.virtualSize,t.moveDivider=t.divider*(t.trackSize/g.size),t.dragSize=t.trackSize*t.divider,i()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.track[0].style.display=t.divider>=1?"none":"",g.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(g.params.scrollbar){var t,e=g.scrollbar,n=(g.translate||0,e.dragSize);t=(e.trackSize-e.dragSize)*g.progress,g.rtl&&i()?(t=-t,t>0?(n=e.dragSize-t,t=0):-t+e.dragSize>e.trackSize&&(n=e.trackSize+t)):0>t?(n=e.dragSize+t,t=0):t+e.dragSize>e.trackSize&&(n=e.trackSize-t),i()?(e.drag.transform(g.support.transforms3d?"translate3d("+t+"px, 0, 0)":"translateX("+t+"px)"),e.drag[0].style.width=n+"px"):(e.drag.transform(g.support.transforms3d?"translate3d(0px, "+t+"px, 0)":"translateY("+t+"px)"),e.drag[0].style.height=n+"px"),g.params.scrollbarHide&&(clearTimeout(e.timeout),e.track[0].style.opacity=1,e.timeout=setTimeout(function(){e.track[0].style.opacity=0,e.track.transition(400)},1e3))}},setTransition:function(t){g.params.scrollbar&&g.scrollbar.drag.transition(t)}},g.controller={setTranslate:function(t,n){function r(e){t=e.rtl&&"horizontal"===e.params.direction?-g.translate:g.translate,i=(e.maxTranslate()-e.minTranslate())/(g.maxTranslate()-g.minTranslate()),a=(t-g.minTranslate())*i+e.minTranslate(),g.params.controlInverse&&(a=e.maxTranslate()-a),e.updateProgress(a),e.setWrapperTranslate(a,!1,g),e.updateActiveIndex()}var i,a,o=g.params.control;if(g.isArray(o))for(var s=0;s<o.length;s++)o[s]!==n&&o[s]instanceof e&&r(o[s]);else o instanceof e&&n!==o&&r(o)},setTransition:function(t,n){function r(e){e.setWrapperTransition(t,g),0!==t&&(e.onTransitionStart(),e.wrapper.transitionEnd(function(){a&&e.onTransitionEnd()}))}var i,a=g.params.control;if(g.isArray(a))for(i=0;i<a.length;i++)a[i]!==n&&a[i]instanceof e&&r(a[i]);else a instanceof e&&n!==a&&r(a)}},g.hashnav={init:function(){if(g.params.hashnav){g.hashnav.initialized=!0;var t=document.location.hash.replace("#","");if(t)for(var e=0,n=0,r=g.slides.length;r>n;n++){var i=g.slides.eq(n),a=i.attr("data-hash");if(a===t&&!i.hasClass(g.params.slideDuplicateClass)){var o=i.index();g.slideTo(o,e,g.params.runCallbacksOnInit,!0)}}}},setHash:function(){g.hashnav.initialized&&g.params.hashnav&&(document.location.hash=g.slides.eq(g.activeIndex).attr("data-hash")||"")}},g.disableKeyboardControl=function(){v(document).off("keydown",l)},g.enableKeyboardControl=function(){v(document).on("keydown",l)},g.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},g.params.mousewheelControl){if(void 0!==document.onmousewheel&&(g.mousewheel.event="mousewheel"),!g.mousewheel.event)try{new window.WheelEvent("wheel"),g.mousewheel.event="wheel"}catch(L){}g.mousewheel.event||(g.mousewheel.event="DOMMouseScroll")}g.disableMousewheelControl=function(){return g.mousewheel.event?(g.container.off(g.mousewheel.event,u),!0):!1},g.enableMousewheelControl=function(){return g.mousewheel.event?(g.container.on(g.mousewheel.event,u),!0):!1},g.parallax={setTranslate:function(){g.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){c(this,g.progress)}),g.slides.each(function(){var t=v(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=Math.min(Math.max(t[0].progress,-1),1);c(this,e)})})},setTransition:function(t){"undefined"==typeof t&&(t=g.params.speed),g.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=v(this),n=parseInt(e.attr("data-swiper-parallax-duration"),10)||t;0===t&&(n=0),e.transition(n)})}},g._plugins=[];for(var O in g.plugins){var z=g.plugins[O](g,g.params[O]);z&&g._plugins.push(z)}return g.callPlugins=function(t){for(var e=0;e<g._plugins.length;e++)t in g._plugins[e]&&g._plugins[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},g.emitterEventListeners={},g.emit=function(t){g.params[t]&&g.params[t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var e;if(g.emitterEventListeners[t])for(e=0;e<g.emitterEventListeners[t].length;e++)g.emitterEventListeners[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);g.callPlugins&&g.callPlugins(t,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},g.on=function(t,e){return t=p(t),g.emitterEventListeners[t]||(g.emitterEventListeners[t]=[]),g.emitterEventListeners[t].push(e),g},g.off=function(t,e){var n;if(t=p(t),"undefined"==typeof e)return g.emitterEventListeners[t]=[],g;if(g.emitterEventListeners[t]&&0!==g.emitterEventListeners[t].length){for(n=0;n<g.emitterEventListeners[t].length;n++)g.emitterEventListeners[t][n]===e&&g.emitterEventListeners[t].splice(n,1);return g}},g.once=function(t,e){t=p(t);var n=function(){e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),g.off(t,n)};return g.on(t,n),g},g.a11y={makeFocusable:function(t){return t[0].tabIndex="0",t},addRole:function(t,e){return t.attr("role",e),t},addLabel:function(t,e){return t.attr("aria-label",e),t},disable:function(t){return t.attr("aria-disabled",!0),t},enable:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){13===t.keyCode&&(v(t.target).is(g.params.nextButton)?(g.onClickNext(t),g.a11y.notify(g.isEnd?g.params.lastSlideMsg:g.params.nextSlideMsg)):v(t.target).is(g.params.prevButton)&&(g.onClickPrev(t),g.a11y.notify(g.isBeginning?g.params.firstSlideMsg:g.params.prevSlideMsg)))},liveRegion:v('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(t){var e=g.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},init:function(){if(g.params.nextButton){var t=v(g.params.nextButton);g.a11y.makeFocusable(t),g.a11y.addRole(t,"button"),g.a11y.addLabel(t,g.params.nextSlideMsg)}if(g.params.prevButton){var e=v(g.params.prevButton);g.a11y.makeFocusable(e),g.a11y.addRole(e,"button"),g.a11y.addLabel(e,g.params.prevSlideMsg)}v(g.container).append(g.a11y.liveRegion)},destroy:function(){g.a11y.liveRegion&&g.a11y.liveRegion.length>0&&g.a11y.liveRegion.remove()}},g.init=function(){g.params.loop&&g.createLoop(),g.updateContainerSize(),g.updateSlidesSize(),g.updatePagination(),g.params.scrollbar&&g.scrollbar&&g.scrollbar.set(),"slide"!==g.params.effect&&g.effects[g.params.effect]&&(g.params.loop||g.updateProgress(),g.effects[g.params.effect].setTranslate()),g.params.loop?g.slideTo(g.params.initialSlide+g.loopedSlides,0,g.params.runCallbacksOnInit):(g.slideTo(g.params.initialSlide,0,g.params.runCallbacksOnInit),0===g.params.initialSlide&&(g.parallax&&g.params.parallax&&g.parallax.setTranslate(),g.lazy&&g.params.lazyLoading&&(g.lazy.load(),g.lazy.initialImageLoaded=!0))),g.attachEvents(),g.params.observer&&g.support.observer&&g.initObservers(),g.params.preloadImages&&!g.params.lazyLoading&&g.preloadImages(),g.params.autoplay&&g.startAutoplay(),g.params.keyboardControl&&g.enableKeyboardControl&&g.enableKeyboardControl(),g.params.mousewheelControl&&g.enableMousewheelControl&&g.enableMousewheelControl(),g.params.hashnav&&g.hashnav&&g.hashnav.init(),g.params.a11y&&g.a11y&&g.a11y.init(),g.emit("onInit",g)},g.cleanupStyles=function(){g.container.removeClass(g.classNames.join(" ")).removeAttr("style"),g.wrapper.removeAttr("style"),g.slides&&g.slides.length&&g.slides.removeClass([g.params.slideVisibleClass,g.params.slideActiveClass,g.params.slideNextClass,g.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),g.paginationContainer&&g.paginationContainer.length&&g.paginationContainer.removeClass(g.params.paginationHiddenClass),g.bullets&&g.bullets.length&&g.bullets.removeClass(g.params.bulletActiveClass),g.params.prevButton&&v(g.params.prevButton).removeClass(g.params.buttonDisabledClass),g.params.nextButton&&v(g.params.nextButton).removeClass(g.params.buttonDisabledClass),g.params.scrollbar&&g.scrollbar&&(g.scrollbar.track&&g.scrollbar.track.length&&g.scrollbar.track.removeAttr("style"),g.scrollbar.drag&&g.scrollbar.drag.length&&g.scrollbar.drag.removeAttr("style"))},g.destroy=function(t,e){g.detachEvents(),g.stopAutoplay(),g.params.loop&&g.destroyLoop(),e&&g.cleanupStyles(),g.disconnectObservers(),g.params.keyboardControl&&g.disableKeyboardControl&&g.disableKeyboardControl(),g.params.mousewheelControl&&g.disableMousewheelControl&&g.disableMousewheelControl(),g.params.a11y&&g.a11y&&g.a11y.destroy(),g.emit("onDestroy"),t!==!1&&(g=null)},g.init(),g}};e.prototype={isSafari:function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var t=navigator.userAgent,e=t.match(/(Android);?[\s\/]+([\d.]+)?/),n=t.match(/(iPad).*OS\s([\d_]+)/),r=(t.match(/(iPod)(.*OS\s([\d_]+))?/),!n&&t.match(/(iPhone\sOS)\s([\d_]+)/));return{ios:n||r||n,android:e}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var t=document.createElement("div").style;return"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t}(),flexbox:function(){for(var t=document.createElement("div").style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<e.length;n++)if(e[n]in t)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var n=(function(){var t=function(t){var e=this,n=0;for(n=0;n<t.length;n++)e[n]=t[n];return e.length=t.length,this},e=function(e,n){var r=[],i=0;if(e&&!n&&e instanceof t)return e;if(e)if("string"==typeof e){var a,o,s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),o=document.createElement(l),o.innerHTML=e,i=0;i<o.childNodes.length;i++)r.push(o.childNodes[i])}else for(a=n||"#"!==e[0]||e.match(/[ .<>:~]/)?(n||document).querySelectorAll(e):[document.getElementById(e.split("#")[1])],i=0;i<a.length;i++)a[i]&&r.push(a[i])}else if(e.nodeType||e===window||e===document)r.push(e);else if(e.length>0&&e[0].nodeType)for(i=0;i<e.length;i++)r.push(e[i]);return new t(r)};return t.prototype={addClass:function(t){if("undefined"==typeof t)return this;for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.add(e[n]);return this},removeClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.remove(e[n]);return this},hasClass:function(t){return this[0]?this[0].classList.contains(t):!1},toggleClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.toggle(e[n]);return this},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(t,e);else for(var r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this},removeAttr:function(t){for(var e=0;e<this.length;e++)this[e].removeAttribute(t);return this},data:function(t,e){if("undefined"==typeof e){if(this[0]){var n=this[0].getAttribute("data-"+t);return n?n:this[0].dom7ElementDataStorage&&t in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[t]:void 0}return void 0}for(var r=0;r<this.length;r++){var i=this[r];i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[t]=e}return this},transform:function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this},on:function(t,n,r,i){function a(t){var i=t.target;if(e(i).is(n))r.call(i,t);else for(var a=e(i).parents(),o=0;o<a.length;o++)e(a[o]).is(n)&&r.call(a[o],t)}var o,s,l=t.split(" ");for(o=0;o<this.length;o++)if("function"==typeof n||n===!1)for("function"==typeof n&&(r=arguments[1],i=arguments[2]||!1),s=0;s<l.length;s++)this[o].addEventListener(l[s],r,i);else for(s=0;s<l.length;s++)this[o].dom7LiveListeners||(this[o].dom7LiveListeners=[]),this[o].dom7LiveListeners.push({listener:r,liveListener:a}),this[o].addEventListener(l[s],a,i);return this},off:function(t,e,n,r){for(var i=t.split(" "),a=0;a<i.length;a++)for(var o=0;o<this.length;o++)if("function"==typeof e||e===!1)"function"==typeof e&&(n=arguments[1],r=arguments[2]||!1),this[o].removeEventListener(i[a],n,r);else if(this[o].dom7LiveListeners)for(var s=0;s<this[o].dom7LiveListeners.length;s++)this[o].dom7LiveListeners[s].listener===n&&this[o].removeEventListener(i[a],this[o].dom7LiveListeners[s].liveListener,r);return this},once:function(t,e,n,r){function i(o){n(o),a.off(t,e,i,r)}var a=this;"function"==typeof e&&(e=!1,n=arguments[1],r=arguments[2]),a.on(t,e,i,r)},trigger:function(t,e){for(var n=0;n<this.length;n++){var r;try{r=new window.CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0})}catch(i){r=document.createEvent("Event"),r.initEvent(t,!0,!0),r.detail=e}this[n].dispatchEvent(r)}return this},transitionEnd:function(t){function e(a){if(a.target===this)for(t.call(this,a),n=0;n<r.length;n++)i.off(r[n],e)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(t)for(n=0;n<r.length;n++)i.on(r[n],e);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(t){return this.length>0?t?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(t){return this.length>0?t?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var t=this[0],e=t.getBoundingClientRect(),n=document.body,r=t.clientTop||n.clientTop||0,i=t.clientLeft||n.clientLeft||0,a=window.pageYOffset||t.scrollTop,o=window.pageXOffset||t.scrollLeft;return{top:e.top+a-r,left:e.left+o-i}}return null},css:function(t,e){var n;if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n++)for(var r in t)this[n].style[r]=t[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n++)this[n].style[t]=e;return this}return this},each:function(t){for(var e=0;e<this.length;e++)t.call(this[e],e,this[e]);return this},html:function(t){if("undefined"==typeof t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e++)this[e].innerHTML=t;return this},is:function(n){if(!this[0])return!1;var r,i;if("string"==typeof n){var a=this[0];if(a===document)return n===document;if(a===window)return n===window;if(a.matches)return a.matches(n);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector)return a.mozMatchesSelector(n);if(a.msMatchesSelector)return a.msMatchesSelector(n);for(r=e(n),i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof t){for(r=n.nodeType?[n]:n,i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var t=this[0],e=0;null!==(t=t.previousSibling);)1===t.nodeType&&e++;return e}return void 0},eq:function(e){if("undefined"==typeof e)return this;var n,r=this.length;return e>r-1?new t([]):0>e?(n=r+e,new t(0>n?[]:[this[n]])):new t([this[e]])},append:function(e){var n,r;for(n=0;n<this.length;n++)if("string"==typeof e){var i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)this[n].appendChild(i.firstChild)}else if(e instanceof t)for(r=0;r<e.length;r++)this[n].appendChild(e[r]);else this[n].appendChild(e);return this},prepend:function(e){var n,r;for(n=0;n<this.length;n++)if("string"==typeof e){var i=document.createElement("div");for(i.innerHTML=e,r=i.childNodes.length-1;r>=0;r--)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(e instanceof t)for(r=0;r<e.length;r++)this[n].insertBefore(e[r],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},insertBefore:function(t){for(var n=e(t),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0]);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i])},insertAfter:function(t){for(var n=e(t),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0].nextSibling);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i].nextSibling)},next:function(n){return new t(this.length>0?n?this[0].nextElementSibling&&e(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(n){var r=[],i=this[0];if(!i)return new t([]);for(;i.nextElementSibling;){var a=i.nextElementSibling;n?e(a).is(n)&&r.push(a):r.push(a),i=a}return new t(r)},prev:function(n){return new t(this.length>0?n?this[0].previousElementSibling&&e(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(n){var r=[],i=this[0];if(!i)return new t([]);for(;i.previousElementSibling;){var a=i.previousElementSibling;n?e(a).is(n)&&r.push(a):r.push(a),i=a}return new t(r)},parent:function(t){for(var n=[],r=0;r<this.length;r++)t?e(this[r].parentNode).is(t)&&n.push(this[r].parentNode):n.push(this[r].parentNode);return e(e.unique(n))},parents:function(t){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].parentNode;i;)t?e(i).is(t)&&n.push(i):n.push(i),i=i.parentNode;return e(e.unique(n))},find:function(e){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].querySelectorAll(e),a=0;a<i.length;a++)n.push(i[a]);return new t(n)},children:function(n){for(var r=[],i=0;i<this.length;i++)for(var a=this[i].childNodes,o=0;o<a.length;o++)n?1===a[o].nodeType&&e(a[o]).is(n)&&r.push(a[o]):1===a[o].nodeType&&r.push(a[o]);return new t(e.unique(r))},remove:function(){for(var t=0;t<this.length;t++)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){var t,n,r=this;for(t=0;t<arguments.length;t++){var i=e(arguments[t]);for(n=0;n<i.length;n++)r[r.length]=i[n],r.length++}return r}},e.fn=t.prototype,e.unique=function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},e}()),r=["jQuery","Zepto","Dom7"],i=0;i<r.length;i++)window[r[i]]&&t(window[r[i]]);

var a;a="undefined"==typeof n?window.Dom7||window.Zepto||window.jQuery:n,a&&("transitionEnd"in a.fn||(a.fn.transitionEnd=function(t){function e(a){if(a.target===this)for(t.call(this,a),n=0;n<r.length;n++)i.off(r[n],e)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(t)for(n=0;n<r.length;n++)i.on(r[n],e);return this}),"transform"in a.fn||(a.fn.transform=function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this}),"transition"in a.fn||(a.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this})),window.Swiper=e}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),function(t){"use strict";t.APP=t.APP||{},APP.languages=APP.languages||{},APP.languages.en={language:"Language",languageName:"English",shortLanguageName:"Eng",appName:"CB",notification:{storyByStoryOn:'Mode "story by story" is enabled',storyByStoryOff:'Mode "story by story" is disabled'},rateUs:{header:"If you like out app, please rate it. Thanks!",rateNow:"Rate Now",remindMeLater:"Remind Me Later",noThanks:"No, Thanks"}}}(window),function(t){"use strict";t.APP=t.APP||{},APP.languages=APP.languages||{},APP.languages.ru={language:"",languageName:"",shortLanguageName:"",appName:"CB",notification:{storyByStoryOn:' "  " - ',storyByStoryOff:' "  " - '},hint:{autoplay:'/ |"  ".|(     )',removeAds:" .| .",thanksForBuy:"!|     !",showTitle:"    ,    .",showText:"     -    .",stopAndStartPlay:"/ ."},rateUs:{header:"    , ,  . !",rateNow:"",remindMeLater:" ",noThanks:", "}}}(window),function(t){"use strict";function e(){return logger.log.apply(logger,arguments)}t.logger={on:function(){console.log("Logger is Enabled"),this.isEnable=!0},off:function(){console.log("Logger is Disabled"),this.isEnable=!1},isEnable:!1,log:function(){return this.isEnable&&console.log.apply(console,arguments)}},t.log=e}(window),function(t){"use strict";t.APP=t.APP||{},t.APP.util={assortArray:function(t){return t.sort(function(){return.5-Math.random()})},getPath:function(t,e,n){return e+=1,10>e&&(e="0"+e),t+"/"+t+"-"+e+"."+n},arrayRemoveByValue:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getBetween:function(t,e,n){return e=Math.min(e,n),e=Math.max(e,t)},getRandomBetween:function(t,e){return Math.round(Math.random()*(e-t)+t)},toTop:function(){t.scrollTo(0,0)},copyJSON:function(t){return JSON.parse(JSON.stringify(t))},runIfConnect:function(t,e){var n=new Image;n.addEventListener("load",t.bind(e),!1),n.src="http://statlex.com/i/statlex-icon.png?t="+Date.now()},getAudioDuration:function(){function e(t){var e=new Audio,n=$.Deferred();return e.addEventListener("canplay",function(){console.log(this.src,this.duration),n.resolve()},!1),e.src=t,n.promise()}var n=t.APP.info.get("language"),r=t.APP.booksData,i=r[n],a=$.Deferred(),o=a.promise(),s=this.getPath,l=[];_.each(i,function(t){_.each(t.pages,function(e,r){e.time||l.push(["books",n,s(t.folder,r,"mp3")].join("/"))})}),_.each(l,function(t){o=o.then(function(){return e(t)})}),a.resolve()},createBookList:function(){function e(t,e){var r,i=$.Deferred();return e.sound?(r=new Audio,r.addEventListener("canplay",function(){console.log(this.src,this.duration),e.time=this.duration,i.resolve()},!1),r.src=["books",n,a(t.folder,e.sound,"mp3")].join("/")):i.resolve(),i.promise()}var n=t.APP.info.get("language"),r=t.APP.booksData,i=r[n],a=this.getPath,o=$.Deferred(),s=o.promise();_.each(i,function(t){_.each(t.pages,function(n){s=s.then(function(){return e(t,n)})})}),s=s.then(function(){console.log(JSON.stringify(i))}),o.resolve()}}}(window),function(t,e,n){"use strict";var r,i=!1;t.APP=t.APP||{},r={isNormal:i,link:{ios:{normal:"",pro:""},android:{normal:"https://play.google.com/store/apps/details?id=com.elitapp.coolbook",pro:"https://play.google.com/store/apps/details?id=com.elitapp.coolbookpro"}},ls:t.localStorage,savedItem:"cool-book-stories",attr:{},systemAttr:{},defaultLanguage:"ru",availableLanguages:["ru"],init:function(){var t=this;t.attr=JSON.parse(t.ls.getItem(t.savedItem)||"{}"),t.setLanguage(),t.set("isPhone",Math.max(n.clientHeight,n.clientWidth)<=736,!0),t.set("isTouch","ontouchstart"in e,!0),t.setOS(),t.detectCssJsPrefix(),t.detectTransitionEndEventName(),t.detectAnimationEndEventName(),t.setSettings()},setLanguage:function(){var t,e=this;t=e.get("language")||navigator.language||navigator.userLanguage||this.defaultLanguage,t=t.split("-")[0].toLowerCase(),t=-1===e.availableLanguages.indexOf(t)?e.defaultLanguage:t,t=t.toLowerCase(),e.set("language",t)},setOS:function(){var e=this,n=t.navigator.userAgent,r=/MSIE/.test(n),i=/android/i.test(n),a=/iPad|iPhone|iPod/.test(n);e.set("isIE",r,!0),e.set("isAndroid",i,!0),e.set("isIOS",a,!0),r&&e.set("os","wp",!0),i&&e.set("os","android",!0),a&&e.set("os","ios",!0),e.get("os",!0)||(e.set("os","ios",!0),e.set("isIOS",!0,!0))},detectCssJsPrefix:function(){var t={js:"",css:""},n=e.createElement("div").style,r=["t","webkitT","MozT","msT","OT"];r.forEach(function(e){var r=e+"ransform";n.hasOwnProperty(r)&&(e=e.replace(/t$/i,""),t.js=e,e=e.toLowerCase(),e&&(t.css="-"+e+"-"))}),this.set("cssJsPrefix",t,!0)},detectTransitionEndEventName:function(){var t,n=e.createElement("div"),r={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},i="transitionend";for(t in r)r.hasOwnProperty(t)&&void 0!==n.style[t]&&(i=r[t]);this.set("transitionEnd",i,!0)},detectAnimationEndEventName:function(){var t,n=e.createElement("div"),r={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"},i="animationend";for(t in r)r.hasOwnProperty(t)&&void 0!==n.style[t]&&(i=r[t]);this.set("animationEnd",i,!0)},set:function(t,e,n){return n?this.systemAttr[t]=e:(this.attr[t]=e,this.ls.setItem(this.savedItem,JSON.stringify(this.attr))),t},get:function(t,e){return e?this.systemAttr[t]:this.attr[t]},remove:function(t,e){return e?(this.systemAttr[t]=null,delete this.systemAttr[t]):(this.attr[t]=null,delete this.attr[t],this.ls.setItem(this.savedItem,JSON.stringify(this.attr))),t},setSettings:function(){var t,e,n=this,r={installTime:Date.now(),versionCode:1,screenAnimation:"off",storyByStory:n.isNormal?"off":"on",hint:{}};for(t in r)r.hasOwnProperty(t)&&(e=n.get(t)||r[t],n.set(t,e))},hintIsDone:function(t){var e=this,n=e.get("hint")[t];return Boolean(n&&"done"===n.state)},getLinkToStore:function(t){return this.link[this.get("os",!0)][t||"normal"]}},r.init(),t.APP.info=r}(window,document,document.documentElement),function(t,e,n){"use strict";t.APP=t.APP||{},t.APP.BB=t.APP.BB||{},t.APP.BB.DeviceModel=Backbone.Model.extend({defaults:{width:0,height:0,orientation:""},initialize:function(){var t=this;t.bindEventListeners(),t.onResize()},bindEventListeners:function(){var e=this;t.addEventListener("resize",function(){e.onResize()},!1)},onResize:function(){var t=this,e=n.clientWidth,r=n.clientHeight,i=e>r?"-":"|";t.set({width:e,height:r,orientation:i}),t.trigger("resize")}})}(window,window.document,window.document.documentElement),function(t){"use strict";t.APP=t.APP||{};var e={attr:{},set:function(t){this.attr=APP.languages[t]},get:function(t){return t?this.attr[t]:this.attr}};e.set(APP.info.get("language")),APP.lang=e}(window),function(t,e){"use strict";t.APP=t.APP||{};var n;n={templateSelector:'script[type="text/x-template"]',tmplText:{},tmplFn:{},init:function(){var t=e.querySelectorAll(this.templateSelector);Array.prototype.forEach.call(t,function(t){var e,n=t.getAttribute("data-name"),r=t.textContent;this.tmplText[n]=r,e=doT.template(r),this.tmplFn[n]=function(t){return e(t).trim()},t.parentNode.removeChild(t)},this)}},t.APP.templateMaster=n}(window,document),function(t){"use strict";t.APP=t.APP||{};var e={attr:{},set:function(t,e){return this.attr[t]=e,this},get:function(t){return this.attr[t]},showAd:function(){t.Android&&t.APP.info.isNormal&&t.Android.displayInterstitial()},init:function(){}};t.APP.ad=e}(window),function(t){"use strict";var e={attr:{},set:function(t,e){return this.attr[t]=e,this},get:function(t){return this.attr[t]},changeBg:function(){var t,e=this,n=e.get("$wrapper"),r=e.get("lastBgIndex");n.removeClass("bgi-"+r);do t=Math.round(4*Math.random());while(r===t);n.addClass("bgi-"+t),e.set("lastBgIndex",t)},init:function(){var t=this,e=$(".js-wrapper");t.set("$wrapper",e),t.loadAllBgs()},loadImg:function(t){var e=$.Deferred(),n=new Image;return n.addEventListener("load",e.resolve.bind(e),!1),n.addEventListener("error",e.reject.bind(e),!1),n.src=t,e.promise()},loadAllBgs:function(){var t,e=this,n=$.Deferred(),r=n.promise();for(t=0;4>=t;t+=1)r=r.always(e.loadImg.bind(e,"./i/background/"+t+".png"));n.resolve()}};t.APP=t.APP||{},t.APP.bg=e}(window),function(t){"use strict";t.APP=t.APP||{};var e;e={init:function(){var e=this;e.initPlayers(),t.addEventListener("hashchange",e.playBgSound.bind(e),!1)},roads:[{},{},{},{}],initPlayers:function(){var e,n=this,r=t.AndAud_0,i=t.Media;r&&(e=t.APP.soundMaster.androidPlayer),i&&(e=t.APP.soundMaster.iosPlayer),e=e||t.APP.soundMaster.webPlayer,e.init(),n.player=e},getPlayer:function(){return this.player},playBgSound:function(){var t=this,e=t.getCurrentBgSound();e&&t.play({sound:e,isLoop:!0,road:0})},getCurrentBgSound:function(){return!1},play:function(e){var n=this,r=n.getPlayer(),i=n.roads[e.road],a=JSON.stringify(e),o=JSON.stringify(i);a===o&&e.isLoop||(n.stop(e),n.roads[e.road]=JSON.parse(a),"off"!==t.APP.info.get("music")&&r.play(e))},stop:function(t){var e=this,n=e.getPlayer();n.stop(t)},stopBgSound:function(){var t=this,e=t.roads[0];t.stop(e)},restoreBgSound:function(){var t=this,e=JSON.parse(JSON.stringify(t.roads[0]));t.roads[0]={},t.play(e)}},t.APP.soundMaster=e}(window),function(t){"use strict";t.APP.soundMaster=t.APP.soundMaster||{},t.APP.soundMaster.webPlayer={roads:new Array(4),pathPrefix:"",init:function(){var t=this;t.roads=_.map(t.roads,function(){return new Audio})},play:function(e){var n,r=this,i=e.road,a=e.isLoop,o=e.sound;r.stop(e),n=new Audio,a&&n.addEventListener("ended",function(){if("off"!==t.APP.info.get("music")){var e=this;e.currentTime=0,e.play()}},!1),n.addEventListener("canplay",function(){if("off"!==t.APP.info.get("music")){var e=this;e.play()}}),r.roads[i].src="",r.roads[i]=n,n.src=r.pathPrefix+o},stop:function(t){var e=this,n=t.road,r=e.roads[n];r&&r.pause&&r.pause(),r&&r.currentTime&&r.currentTime<.1&&(r.currentTime=0)}}}(window),function(t){"use strict";t.APP.soundMaster=t.APP.soundMaster||{},t.APP.soundMaster.androidPlayer={pathPrefix:"www/",init:function(){},play:function(t){var e=this,n=t.road,r=t.isLoop,i=t.sound,a=e.pathPrefix+i,o=window["AndAud_"+n];r?o.playAudioLooping(a):o.playAudio(a)},stop:function(t){var e=t.road,n=window["AndAud_"+e];n.stop()}}}(window),function(t){"use strict";t.APP.soundMaster=t.APP.soundMaster||{},t.APP.soundMaster.iosPlayer={roads:new Array(4),pathPrefix:"",init:function(){},play:function(t){var e,n=this,r=t.road,i=t.isLoop,a=t.sound,o={playAudioWhenScreenIsLocked:!1};n.stop(t),e=new Media(n.pathPrefix+a),i&&(o.numberOfLoops=9),e.play(o),n.roads[r]=e},stop:function(t){var e=this,n=t.road,r=e.roads[n];r&&r.release&&(e.roads[n].stop(),e.roads[n].release())}}}(window),function(t){"use strict";t.APP=t.APP||{},t.APP.BB=t.APP.BB||{},t.APP.BB.Router=Backbone.Router.extend({routes:{"":"home",page:"page","book/:bookFolder":"openBook"},home:function(){new t.APP.BB.HomeView},openBook:function(e){new t.APP.BB.BookView({bookFolder:e})},getAction:function(){var e,n=window.event||{},r=n.newURL||"",i=n.oldURL||"",a=t.APP.BB.BaseView.prototype.popupUrl;return-1!==r.indexOf(a)&&(e="showPopup"),-1!==i.indexOf(a)&&(e="hidePopup"),e},constructor:function(){var e=this,n={},r=APP.BB.Router.prototype;return _.each(e.routes,function(e){n[e]=r[e],r[e]=function(){var r=this,i=r.getAction(),a=t.APP.BB.BaseView.prototype;if(!i)return n[e].apply(r,arguments);switch(i){case"hidePopup":a.hidePopup();break;case"showPopup":}}}),Backbone.Router.prototype.constructor.apply(e,arguments)}})}(window),function(t,e,n){"use strict";t.APP=t.APP||{},t.APP.BB=t.APP.BB||{},t.APP.BB.BaseView=Backbone.View.extend({events:{"click [data-sound]":"playSound","click [data-route]":"routeTo","click .js-back":"routeBack","click .js-external-link":"toExternalLink","click .js-stop-event":"stopEvent",hide:"hide","click .js-hide-popup":"hidePopupByRouter","touchstart .js-scroll-area-container":"touchStartAutoScroll","click .js-list-backward[data-group-name]":"changeSelect","click .js-list-changed-item[data-group-name]":"changeSelect","click .js-list-forward[data-group-name]":"changeSelect","click .js-tab-button":"tabAction","click .js-tab-close":"tabClose"},extraEvents:{noScroll:["mousewheel","touchmove","gesturestart","gesturechange","gestureend"]},popupUrl:"popup=true",selectors:{wrapper:".js-wrapper",viewWrapper:".js-view-wrapper",verticalSwiper:".js-scroll-container",noScroll:".js-no-scroll"},eventTypes:{down:["mousedown","touchstart"],move:["mousemove","touchmove"],up:["mouseup","touchend"]},initStatic:function(){var r,i=this,a=t.APP.info,o=a.get("isTouch",!0),s=Number(o),l=i.eventTypes,u=t.APP.BB.BaseView.prototype;u.$wrapper=$(i.selectors.wrapper),i.tmpl=t.APP.templateMaster.tmplFn,i.info=t.APP.info,r=Math.round(14*Math.pow(n.clientWidth*n.clientHeight/153600,.5)),r=Math.min(r,24),r=Math.max(r,14),r=2*Math.round(r/2),n.style.fontSize=r+"px",a.set("remSize",r,!0),_.each(l,function(t,e){l[e]=t[s]}),$(e.body).on("contextmenu",i.stopEvent)},constructor:function(){var e=this,n=t.APP.BB.BaseView.prototype,r={},i=n.extraEvents.noScroll,a=n.selectors.noScroll;return e.events=$.extend({},n.events,e.events),_.each(e.events,function(t,n){r[e.getFullEventNameAndSelector(n)]=t}),_.each(i,function(t){r[t+" "+a]="stopEvent"}),"stopEvent"===r.scroll&&(r.scroll=null,delete r.scroll,_.each(i,function(t){r[t]="stopEvent"})),e.events=r,e.selectors=$.extend({},n.selectors,e.selectors),e.attr={},e.setClassNames(),e.proto=n,Backbone.View.prototype.constructor.apply(e,arguments)},setClassNames:function(){this.classNames={},_.each(this.selectors,function(t,e){this[e]=t.replace(/\./g," ").trim()},this.classNames)},getFullEventNameAndSelector:function(t){var e=this,n=t.split(" "),r=e.eventTypes[n[0]];return r?[r,n[1]].join(" "):t},changeSelect:function(t){var e,n=$(t.currentTarget),r=n.hasClass("js-list-backward")?-1:1,i=n.attr("data-group-name"),a=this.$el.find('.js-list-changed-item[data-full-list][data-group-name="'+i+'"]'),o=JSON.parse(decodeURI(a.attr("data-full-list"))),s=o.length,l=a.attr("data-key"),u=0;o.every(function(t,e){return t.key.toString()===l?(u=e+r,!1):!0}),0>u&&(u=s-1),u>=s&&(u=0),e=o[u],a.attr("data-key",e.key),a.attr("data-value",e.value),a.html(e.value),a.trigger("change")},destroyView:function(){var t=this;t.undelegateEvents(),t.$el.removeData().remove().empty(),t.remove(),Backbone.View.prototype.remove.call(t)},hide:function(){var t=this,e=t.info,n=t.$el,r=e.get("animationEnd",!0),i="on"===e.get("screenAnimation"),a=$.Deferred();return t.unbindEventListeners&&t.unbindEventListeners(),i&&n.hasClass("show-view-animation")?(n.one(r,function(){t.destroyView(),a.resolve()}),n.addClass("hide-view-animation")):(t.destroyView(),a.resolve()),a.promise()},render:function(){var t=this,e=t.$wrapper.find(t.selectors.viewWrapper);return e.trigger("hide"),t.$el.addClass(t.classNames.viewWrapper),t.$wrapper.append(t.$el),t.showAppearAnimation()},showAppearAnimation:function(){var t=this,e=t.info,n="on"===e.get("screenAnimation"),r=t.$el,i=$.Deferred(),a=e.get("animationEnd",!0);return n?(r.one(a,function(){i.resolve()}),r.addClass("show-view-animation")):(r.addClass("show-view-no-animation"),i.resolve()),i.promise()},navigate:function(){t.APP.bb.router.navigate.apply(t.APP.bb.router,arguments)},routeTo:function(t){var e=this,n=$(t.currentTarget),r=n.attr("data-route");e.navigate(r,!0)},routeByUrl:function(t,e){this.navigate(t,e)},routeToPopup:function(){var t=this;t.routeByUrl(Backbone.history.fragment+"?"+t.popupUrl)},routeBack:function(t){this.stopEvent(t),location.hash&&Backbone.history.history.back()},backTo:function(e){var n=this;!function r(){t.setTimeout(function(){Backbone.history.fragment!==e&&Backbone.history.fragment&&(n.routeBack(),r())},10)}()},showPopup:function(t){var e,n=this,r=$.Deferred();return n.hidePopup(),e=new APP.BB.PopupView(t),e.set("deferred",r),r.promise()},hidePopupByRouter:function(){var e=this,n=Backbone.history.fragment,r=t.APP.BB.BaseView.prototype.popupUrl;-1!==n.indexOf(r)&&e.routeBack()},hidePopup:function(){$(".js-popup-wrapper").trigger("hide")},isPopupExist:function(){var e=this,n=t.location.href,r=e.popupUrl;return-1!==n.indexOf(r)},stopEvent:function(t){t&&(t.preventDefault(),t.stopPropagation())},toExternalLink:function(e){var n=this,r=$(e.currentTarget),i=r.attr("data-need-confirm"),a=r.attr("data-href");return n.stopEvent(e),"yes"===i?n.needConfirmLinkPrompt({url:a}):void t.open(a)},needConfirmLinkPrompt:function(e){var n,r,i=this,a=t.APP.util,o=a.getRandomBetween,s=o(5,9),l=o(5,9),u=s+l,c=[s,l].sort(),p=[];for(n=0,r=6;r>n;n+=1)p[n]=u+n-4;return i.showPopup({name:"need-confirm",cssClass:"popup-title",data:{a:c[0],b:c[1],answer:u,answers:a.assortArray(p),url:e.url}})},checkConnection:function(){var t=$.Deferred(),e="https://www.gstatic.com/android/market_images/web/play_one_bar_logo.png?t="+Math.random(),n=$('<img alt=""/>');return n.on("load",function(){$(this).off().remove(),t.resolve()}),n.on("error",function(){$(this).off().remove(),t.reject()}),n.attr("src",e),t.promise()},rateUsPopup:function(){var e=this,n=e.info,r=n.get("rate-us")||{},i=Date.now(),a=r.lastShow,o=r.lastNoThanks,s=r.lastRateNow,l=1728e5,u=3*l;a&&l>i-a||s||o&&u>i-a||e.checkConnection().done(function(){return r.lastShow=i,n.set("rate-us",r),e.showPopup({name:"rate-us",cssClass:"popup-title",extraEvents:[{selector:".js-rate-us-rate-now",event:"click",fn:function(){var e=t.APP.info,n=e.get("rate-us")||{};n.lastRateNow=Date.now(),e.set("rate-us",n)}},{selector:".js-rate-us-no-thanks",event:"click",fn:function(){var e=t.APP.info,n=e.get("rate-us")||{};n.lastNoThanks=Date.now(),e.set("rate-us",n)}}],data:{url:n.getLinkToStore()}})})},loadUrl:function(){Backbone.history.loadUrl()},changeBy:function(t,e){return this.set(t,this.get(t)+e)},set:function(t,e){return this.attr[t]=e,e},get:function(t){return this.attr[t]},extendFromObj:function(t){_.extend(this.attr,t)},setVerticalSwiper:function(){var t,e=this,n=e.$el;n.find(".swiper-slide").css("height","auto"),t=new Swiper(n.find(e.selectors.verticalSwiper),{scrollbar:".swiper-scrollbar",direction:"vertical",slidesPerView:"auto",mousewheelControl:!0,freeMode:!0}),e.set("vertical-swiper",t)},scrollToTop:function(){e.body.scrollTop=0},touchStartAutoScroll:function(t){if(this.info.get("isIOS",!0)){var e,n,r,i=$(t.currentTarget),a=i.find(":scope > div"),o=i.scrollTop;if(0>=o)return void i.scrollTop(1);e=i[0].clientHeight,n=a[0].clientHeight,r=n-e,o>=r&&i.scrollTop(r-1)}},tabAction:function(t){var e=this,n=e.$el,r=$(t.currentTarget),i=r.attr("data-tab-id"),a=r.attr("data-tab-state"),o="tab-button-",s=".js-tab-block",l=".js-tab-button",u=n.find(s+'[data-tab-id="'+i+'"]'),c=n.find(s),p=n.find(l);c.addClass("hidden"),p.addClass(o+"close").removeClass(o+"open").attr("data-tab-state","close"),"close"===a&&(r.attr("data-tab-state","open").removeClass(o+"close").addClass(o+"open"),u.removeClass("hidden"))},tabClose:function(){var t=this,e=t.$el,n="tab-button-",r=".js-tab-block",i=".js-tab-button",a=e.find(r),o=e.find(i);a.addClass("hidden"),o.addClass(n+"close").removeClass(n+"open").attr("data-tab-state","close")},playSound:function(e){var n=$(e.currentTarget),r=n.attr("data-sound");t.APP.soundMaster.play({sound:r,road:3,isLoop:!1})}})}(window,window.document,window.document.documentElement),function(t){"use strict";t.APP=t.APP||{},t.APP.BB=t.APP.BB||{},APP.BB.PopupView=APP.BB.BaseView.extend({events:{click:"hidePopupByRouter",scroll:"stopEvent"},selectors:{popupContainer:".js-popup-container"},initialize:function(e){var n=this,r=n.popupUrl,i=t.location.href;-1===i.indexOf(r)&&n.routeToPopup(),n.extendFromObj(e),n.$el=$(n.tmpl["popup-wrapper"]()),e.cssClass&&n.$el.addClass(e.cssClass),n.proto.initialize.apply(this,arguments),n.render(),n.showInAnimation(),n.bindEventListeners()},bindEventListeners:function(){var t,e=this,n=e.get("timeout");n&&(t=setTimeout(function(){e.hidePopupByRouter()},n),e.set("timeoutId",t)),e.bindExtraEvents()},unbindEventListeners:function(){var t=this,e=t.get("timeout");e&&clearTimeout(t.get("timeoutId")),t.unbindExtraEvents()},bindExtraEvents:function(){var t=this,e=t.$el,n=t.get("extraEvents");_.each(n,function(t){e.find(t.selector).on(t.event,t.fn)})},unbindExtraEvents:function(){var t=this,e=t.$el,n=t.get("extraEvents");_.each(n,function(t){e.find(t.selector).off(t.event,t.fn)})},render:function(){var e,n=this,r=(n.get("append$el"),n.get("data")||{}),i=n.get("sound"),a=$(n.tmpl[n.get("name")](r)),o=n.$el.find(n.selectors.popupContainer),s=n.get("onShow");i&&t.APP.soundMaster.play(i),o.append(a),n.$wrapper.append(n.$el),s&&(e=s.context||n,e[s.fn].apply(e,s.args))},hide:function(){var t=this;t.showOutAnimation().then(function(){var e,n=t.get("onHide");n&&(e=n.context||t,e[n.fn].apply(e,n.args)),t.proto.hide.call(t),t.get("deferred").resolve()})},showInAnimation:function(){var t=this;t.$el.addClass("popup-show-in")},showOutAnimation:function(){var t=this,e=t.$el,n=$.Deferred(),r=t.info.get("animationEnd",!0);return e.one(r,function(){n.resolve()}),e.addClass("popup-show-out"),n.promise()}})}(window),function(t){"use strict";t.APP=t.APP||{},t.APP.BB=t.APP.BB||{},APP.BB.HomeView=APP.BB.BaseView.extend({events:{"click .js-story-by-story":"setStoryByStory","click .js-title-book-wrapper":"openBook"},initialize:function(){var e,n=this;n.$el=$(n.tmpl.home({shelf:n.getBooksOnShelfNumber()})),Math.random()>.5,n.proto.initialize.apply(n,arguments),n.bindEventListeners(),n.render(),n.setVerticalSwiper(),n.scrollToTop(),n.info.hintIsDone("autoplay")||(e=new t.APP.BB.HintView({name:"autoplay"}),e.onHide(function(){new t.APP.BB.HintView(n.info.isNormal?{name:"removeAds"}:{name:"thanksForBuy"})})),t.APP.bg.changeBg()},getBooksOnShelfNumber:function(){var e=this,n=t.APP.bb.device,r=e.info.get("remSize",!0),i=8.8,a=n.get("width")/r,o=Math.floor(a/i),s=a%i/2+.6;return{firstBookMarginLeft:s+"rem",booksOnShelf:o}},setStoryByStory:function(e){var n,r=this,i=$(e.currentTarget),a=r.info,o=t.APP.lang,s=o.get("notification"),l="on"===a.get("storyByStory");l?(i.removeClass("active-on-off"),a.set("storyByStory","off"),n=s.storyByStoryOff):(i.addClass("active-on-off"),a.set("storyByStory","on"),n=s.storyByStoryOn),r.showPopup({name:"notification",timeout:3e3,data:{text:n}})},bindEventListeners:function(){var e,n=this,r=t.APP.bb.device;n.listenTo(r,"change:orientation",function(){$(".js-hint-wrapper").trigger("hide",{doNotTrack:!0}),n.loadUrl()}),e=setTimeout(function(){Date.now()-n.info.get("installTime")>2e4&&n.rateUsPopup()},2e3),n.set("rateUsTimeoutId",e)},unbindEventListeners:function(){var e=this,n=t.APP.bb.device,r=e.get("rateUsTimeoutId");e.stopListening(n),e.get("vertical-swiper").destroy(),clearTimeout(r)},openBook:function(t){var e=this,n=$(t.currentTarget),r=n.attr("data-is-clicked");return r?void e.routeByUrl(n.attr("data-js-route"),!0):void n.attr("data-is-clicked","1").addClass("book-titles-wrapper-clicked")}})}(window),function(t){"use strict";t.APP=t.APP||{},t.APP.BB=t.APP.BB||{},APP.BB.BookView=APP.BB.BaseView.extend({events:{"click .js-play-pause":"playPause","click .js-book-page":"toggleState","click .js-show-inner-html":"showInnerHtml"},selectors:{playPauseButton:".js-play-pause",bookPage:".js-book-page",pageText:".js-page-text",bookPageImage:".js-book-page-image",backPageTextWrapper:".js-back-page-wrapper"},initialize:function(e){var n=this,r=e||{},i=n.info,a=i.get("language"),o=t.APP.booksData[a],s=_.find(o,{folder:r.bookFolder});n.set("withText",!1),n.set("pageMode","normal"),n.$el=$(n.tmpl.book({book:s,settings:{withText:n.get("withText")}})),n.set("book",s),n.set("url",Backbone.history.fragment),n.set("playerState","playing"),n.set("previousPageIndex",0),n.proto.initialize.apply(n,arguments),n.loadBooksImages().then(function(){if(n.render(),n.checkNeedUrl()){if(n.initSwiper(),n.bindEventListeners(),n.info.hintIsDone("showTitle"))n.runPage({index:0});else{var e=new t.APP.BB.HintView({name:"showTitle"});e.onHide(function(){var e=new t.APP.BB.HintView({name:"showText"});e.onHide(function(){var e=new t.APP.BB.HintView({name:"stopAndStartPlay"});e.onHide(n.runPage,[{index:0}],n)})})}t.APP.bg.changeBg(),n.onResize()}})},checkNeedUrl:function(){return this.get("url")===Backbone.history.fragment},initSwiper:function(){var t,e=this;t=new Swiper(".swiper-container",{direction:"horizontal",loop:!1}),e.set("swiper",t)},bindEventListeners:function(){var e=this,n=e.get("swiper"),r=t.APP.bb.device;n.on("onTransitionEnd",function(t){var n=(e.get("book"),t.activeIndex),r=e.isPageChanged(n);r&&("normal"===e.get("pageMode")||"playing"===e.get("playerState"))&&e.runPage({index:n})}),e.listenTo(r,"resize",e.onResize)},unbindEventListeners:function(){var e=this,n=e.get("swiper"),r=e.get("nextActionTimeoutId"),i=e.get("textAnimationIntervalId"),a=t.APP.bb.device;e.stopListening(a),t.clearTimeout(r),t.clearInterval(i),t.APP.soundMaster.stop({road:0}),n&&(n.off("onTransitionEnd"),n.detachEvents(),n.destroy())},onResize:function(){var e=this,n=t.APP.bb.device,r=e.selectors,i=r.pageText,a=r.bookPageImage,o=e.$el.find(r.bookPage),s=3.4*e.info.get("remSize",!0);o.forEach(function(t){var r,o,l,u,c=$(t),p=c.find(i),d=p.length&&p[0].clientHeight,f=c.find(a),h=f.get(0),m=e.get("withText")?1:.9,g={width:n.get("width"),height:n.get("height")-d-s},v={width:h.naturalWidth,height:h.naturalHeight};g.aspectRatio=g.height/g.width,v.aspectRatio=v.height/v.width,u=g.aspectRatio>v.aspectRatio?v.width/g.width:v.height/g.height,r=Math.floor(v.width/u*m),o=Math.floor(v.height/u*m),l=Math.floor((g.height-v.height/u)/2+v.height/u*m*(1-m)/2)+s,f.css({width:r+"px",height:o+"px",top:l+"px"}),p.css({top:l+o+"px"})})},loadBooksImages:function(){function e(t){var e=$.Deferred(),n=new Image;return n.addEventListener("load",function r(){this.removeEventListener("load",r,!1),e.resolve()},!1),n.src=[i,o,c(s,t,"jpg")].join("/"),e.promise()}var n=this,r=n.get("book"),i="books",a=r.pages,o=n.info.get("language"),s=r.folder,l=$.Deferred(),u=l.promise(),c=t.APP.util.getPath,p=$.Deferred();return _.each(a,function(t,n){u=u.then(function(){return e(n)})}),u.then(function(){return p.resolve()}),l.resolve(),p.promise()},runPage:function(e){var n=this,r=e||{},i=n.info,a=i.get("language"),o=n.get("book"),s=t.APP.util.getPath,l=r.index,u=t.APP.soundMaster;u.play({sound:["books",a,s(o.folder,l,"mp3")].join("/"),road:0,isLoop:!1}),n.set("playerState","playing"),n.autoSetPlayPauseButtonState(),n.doNextActionAfter(o.pages[l].time)},autoSetPlayPauseButtonState:function(){var t=this,e=t.get("playerState"),n=t.$el.find(t.selectors.playPauseButton);"pause"===e&&n.removeClass("book-pause-button").addClass("book-play-button"),"playing"===e&&n.removeClass("book-play-button").addClass("book-pause-button")},animateText:function(){var t=this,e=t.selectors,n=t.get("swiper"),r=n.activeIndex,i=t.$el.find(".swiper-slide"),a=i.eq(r),o=t.$el.find(e.pageText),s=a.find(e.pageText),l=t.get("book"),u=l.pages[r],c=u.text;o.empty(),t.showTextAnimation({$el:s,text:c})},showTextAnimation:function(e){var n=this,r=e||{},i=0,a=n.get("textAnimationIntervalId");t.clearInterval(a),a=t.setInterval(function(){return r.text&&r.text[i]?"pause"===n.get("playerState")?(t.clearInterval(n.get("textAnimationIntervalId")),void n.$el.find(n.selectors.pageText).empty()):(i+=1,void r.$el.html(r.text.substring(0,i).replace(/\|/g,"<br />"))):void t.clearInterval(n.get("textAnimationIntervalId"))},25),n.set("textAnimationIntervalId",a)},doNextActionAfter:function(e){var n,r=this,i=r.get("swiper"),a=r.get("nextActionTimeoutId");t.clearTimeout(a),n=t.setTimeout(function(){var e,n=i.slideNext();n||(e="on"===r.info.get("storyByStory"),e?r.hide().then(function(){if(0===Backbone.history.fragment.indexOf("book/")){var e=r.info,n=e.get("language"),i=t.APP.booksData,a=i[n],o=Math.floor(a.length*Math.random()),s=a[o];new t.APP.BB.BookView({bookFolder:s.folder})}}):(r.routeBack(),setTimeout(t.APP.ad.showAd,3e3)))},1e3*e),r.set("nextActionTimeoutId",n)},playPause:function(){var t=this,e=t.get("playerState");"playing"===e&&t.stopCurrentPage(),"pause"===e&&t.playCurrentPage()},stopCurrentPage:function(){var e=this,n=t.APP.soundMaster;e.set("playerState","pause"),e.autoSetPlayPauseButtonState(),n.stop({road:0}),t.clearTimeout(e.get("nextActionTimeoutId"))},playCurrentPage:function(){{var t=this,e=t.get("swiper"),n=e.activeIndex;t.get("book")}t.runPage({index:n})},isPageChanged:function(t){var e=this,n=e.get("previousPageIndex"),r=t;return n===r?!1:(e.set("previousPageIndex",r),!0)},toggleState:function(){var t=this,e=t.get("pageMode"),n=t.selectors,r=t.$el,i=r.find(n.bookPageImage),a=r.find(n.pageText),o=r.find(n.backPageTextWrapper);switch(e){case"fullText":t.set("pageMode","normal"),i.removeClass("hidden"),a.removeClass("hidden"),o.addClass("hidden");break;case"normal":t.set("pageMode","fullText"),i.addClass("hidden"),a.addClass("hidden"),o.removeClass("hidden")}},showInnerHtml:function(t){var e=this,n=$(t.currentTarget).html();e.showPopup({name:"notification",timeout:9e3,cssClass:"popup-title",data:{text:n}})},hide:function(){var t=this;return $(".js-hint-wrapper").trigger("hide",{doNotTrack:!0}),t.proto.hide.call(t)}})}(window),function(t){"use strict";t.APP=t.APP||{},t.APP.BB=t.APP.BB||{};var e={autoplay:{x1:.3,y1:0,width:4.9,height:3.7,submitType:"normal"},removeAds:{x1:-.3,y1:0,width:4.9,height:3.7,submitType:"normal"},thanksForBuy:{x1:-.3,y1:0,width:4.9,height:3.7,submitType:"normal"},showTitle:{x1:3.3,y1:.3,x2:-3.3,height:3,submitType:"normal"},showText:{x1:3,y1:10,x2:-3,y2:-11,submitType:"normal"},stopAndStartPlay:{x1:-.3,y1:0,width:3.7,height:3.6,submitType:"normal"}},n="rem";APP.BB.HintView=APP.BB.BaseView.extend({selectors:{hintFocus:".js-hint-focus",text:".js-hint-text",hintArrow:".js-hint-arrow"},events:{click:"hide",scroll:"stopEvent"},initialize:function(n){var r=this,i=n.name;r.extendFromObj(n),r.extendFromObj(e[i]),r.$el=$(r.tmpl.hint({text:t.APP.lang.get("hint")[i]})),r.proto.initialize.apply(r,arguments),r.bindEventListeners(),r.render()},render:function(){var t,n=this,r=n.$wrapper,i=n.info,a=i.get("isAndroid",!0);t=a?function(t,e){setTimeout(t,e)}:function(t){t()},n.setCoordinates({$hintFocus:n.$el.find(n.selectors.hintFocus),$text:n.$el.find(n.selectors.text),coordinates:e[n.get("name")]}),t(function(){r.append(n.$el)},50),t(function(){n.showInAnimation()},100)},showInAnimation:function(){var t=this,e=t.info,n="on"===e.get("screenAnimation");t.$el.addClass(n?"hint-container-show-in":"hint-container-show-in-no-animation")},showOutAnimation:function(){var t=this,e=t.$el,n=$.Deferred(),r=t.info,i=r.get("animationEnd",!0),a="on"===r.get("screenAnimation");return a&&e.hasClass("hint-container-show-in")?(e.one(i,function(){n.resolve()}),e.addClass("hint-container-show-out")):n.resolve(),
n.promise()},setCoordinates:function(t){var e=this,n=e.getAllCoordinates(t);e.setFadeCoordinates({$hintFocus:t.$hintFocus,allCoordinates:n}),e.setHintCoordinates({$text:t.$text,allCoordinates:n})},setHintCoordinates:function(t){var e,r,i,a=this,o=12,s=o/2,l=t.allCoordinates,u=l.maxWidth,c=1,p=u-c,d=0;e=l.center.bottom.x-s,r=l.center.bottom.y,i=e+o,c>=e&&(d=c-e),i>=p&&(d=p-i),t.$text.css({width:o+n,top:r+n,left:e+d+n}),t.$text.find(a.selectors.hintArrow).css({left:s-d+n})},setFadeCoordinates:function(t){var e=this,r=e.info,i="on"===r.get("screenAnimation"),a=t.allCoordinates;i?t.$hintFocus.css({left:a.x1+n,top:a.y1+n,width:a.width+n,height:a.height+n}):t.$hintFocus.remove()},getAllCoordinates:function(e){var n,r,i=this,a=i.info.get("remSize",!0),o=t.APP.bb.device,s=o.get("width")/a,l=o.get("height")/a,u=e.coordinates,c=u.width,p=u.height,d=u.x1,f=u.y1;return 0>d&&(d=s+d-c),0>f&&(f=l+f-p),u.hasOwnProperty("width")?n=d+c:(n=u.x2,n=n>=0?n:s+n,c=n-d),u.hasOwnProperty("height")?r=f+p:(r=u.y2,r=r>=0?r:l+r,p=r-f),{x1:d,y1:f,x2:n,y2:r,width:c,height:p,maxWidth:s,maxHeight:l,center:{bottom:{x:d+c/2,y:r}}}},hide:function(t,e){var n=this,r=e||{},i=n.get("submitType"),a=n.info,o=a.get("hint"),s=n.get("name");o[s]=o[s]||{},r.doNotTrack?n.clearOnHides():"normal"===i&&(o[s].state="done",a.set("hint",o)),n.showOutAnimation().then(function(){n.proto.hide.call(n),n.runOnHides()})},bindEventListeners:function(){},unbindEventListeners:function(){},onHide:function(t,e,n){var r=this,i=r.get("onHides")||[];return i.push({fn:t,args:e,context:n}),r.set("onHides",i),r},runOnHides:function(){var t=this,e=t.get("onHides")||[];_.each(e,function(t){t.fn.apply(t.context,t.args)}),t.set("onHides",null)},clearOnHides:function(){this.set("onHides",null)}})}(window),function(t){"use strict";t.APP.booksData={ru:[{folder:"baba-yaga-i-yagody",title:{text:"   "},pages:[{text:"  ,   ,   ,      .      -,          ,          -  .            :    ,    .",time:33.818375},{text:"-         ,   :         ,   ,   .   , ,      ,    .|       .     ,      .  -    :|-  ,   !",time:37.815125},{text:"  ,         ,     ,   ,   :|-        !    !|   ,      ,   .          .",time:30.657625},{text:"  ,  ,        ,   ,         .| ,       :|- -, , !|  ,   ,    .         .",time:31.310625},{text:"       ,  -  -  !   .     , ,  :|- --!    ,  !|, ,     ,      ,        .      ,        ,        .|   .",time:45.1555}]},{folder:"bagazh",title:{text:""},pages:[{text:"   |,|,|,|,|,||  .",time:11.8755},{text:"   |  | ,   :|,|,|,|,|,||  .",time:15.584875},{text:"   .|   .|!  :|,|,|,|,|,||  .|   ,|   .",time:19.29425},{text:"   :|  .|   :|,|,|,|,|,|...|!  ?",time:15.480375},{text:" :   |  .|    ,|,   ,|,|,|,|   .",time:18.353875},{text:"   .|  |   :|,|,|,|,|,|,|   .",time:19.633875},{text:"-  .|   :|! ! !| -   !|  ,|  ,|,|,|...|  !",time:22.89925},{text:", !  ,|  ,|   :|,|,|,|,|,||  .||  || !",time:50.406125}]},{folder:"kolobok",title:{text:""},pages:[{text:"-   .| :|- , , .|-   -?  .|- - , !   ,   ;    .",time:39.748125},{text:"  ,   ,   ,      .",time:8.375125},{text:"  ,        .",time:8.793125},{text:" -,         ,    ,     ,     ,    ,    ,    ,   .",time:25.772625},{text:"   ,    :|- , !   !|-   ,  !    ,    :|   ,   ,|   ,   ;|   ,    ,| , ,   !|   ;     !",time:33.113125},{text:" ,    :|- , !   !|-   ,  !    !|   ,   ,|   ,   ;|   ,    ,|   ,| , ,   !|   ;     !",time:31.624125},{text:" ,    :|- , !   .|-  , ,  !|   ,   ,|   ,   ;|   ,    ,|   ,    ,| , ,   !|  ;     !",time:36.796375},{text:",  ,    :|- , !   !|  :|   ,   ,|   ,   ;|   ,    ,|   ,    ,|  ,| , ,   !",time:49.700875},{text:"-   !   . -   , ,  ,  ; -   ,     .|         .|- , !  ,   ! -        , -      .|     ,   -  ! -  .",time:93.664875}]},{folder:"kurochka-ryaba",title:{text:" "},pages:[{text:"    ,",time:21.828125},{text:"     .",time:4.378375},{text:"  .",time:17.8315},{text:"   - .",time:3.908125},{text:" ,  -  .",time:18.406125},{text:" ,  -  .",time:5.867375},{text:" ,  ,|   .",time:8.740875},{text:" ,  .",time:4.718},{text:"  :|'  ,   ,",time:8.14},{text:"    ,| ,  '.",time:11.17025}]},{folder:"pro-glupogo-zmeya-i-umnogo-soldata",title:{text:"     "},pages:[{text:"  ,        .        .  , ,  .        .      :|-  !    !|   - .      ,     .    -     .       .  - ,       .|- , -  , -      ?|    ,  .     -      .           ,    .|- , ! -  .",time:76.162875},{text:"- , , -  , -   , ,   !|-       ?|-  ,      ,   ,   .     ,    .   ,   -  .|-    ,   ! -  . -     ,   ,     .|  ,    ,     -   .       :|-  ,      ,   !|-   ? -  .|-     ?|- ,      !",time:68.56125},{text:"- ,  ,   ! -  , -      !|- , !|       :|- ,       ,    !|-    ,  !|    , ,   ,      .  ,     .|- ,  , ! -  ,       ?|- ,    ! -  .|-   ,  !  !|   ,        .  ,   .    ,     .",time:65.8445},{text:"-  ,  ,  ?|- , ,     .       !|-  , !|     -     ,     .|-   ? -  . -   ,   .     ,      !|    ,       ,       ,       .|- ! -    , - , !             !|-  ,      ?|-  ,   . -  ,  !     ,    - .",time:73.36775},{text:"- , -        .   ,    !|- , ,      . - -  ,   ,  ,  ,   !|   .  - :   .   ,           .| ,         .|- ,    ?|-  !         ,   .|-   , , !   ?   !|    , ,  ,      .",time:61.53425},{text:"-    ? ,      ?|- ,   !| ,       .|-  , -   , -   !   .   .|   ,      !    .   ,      .  ,      .|- ,    ?|-  ,        ,       .|- ,   - ,        !|        .",time:58.242875},{text:"  :|-     ,     ,   ,    !|   ,   ,   ,   ,   .      ,     .| ,    ,     .|- ,     ?|-       ! ,       !|- ,   - !     ! -  .     ,        .",time:53.227375},{text:" ,  ,  , ,    .|       .      .      ,        :|-   ,  ?|-    , -  , -     ,    !|- ,  ,  !|-   ,   !     !|-     ? - !|   ,        ,   .",time:54.246125},{text:"    ,      , ,   :|-   !  ,  !|      :|-     ?|-   ,    !|- ,       , -  , -     - ?|     .         ,    .   ,   ,    -   .",time:52.33925}]},{folder:"repka",title:{text:""},pages:[{text:"  .   :|- -, , ! -, , !",time:12.580875},{text:"  , , -!|   . -,   .",time:9.838},{text:"  .  -  ,  -  : -,   !",time:11.327},{text:"  .  -  ,  -  ,  -  : -,   !",time:12.319625},{text:"  .  -  ,  -  ,  -  ,  -  : -,   .",time:14.59225},{text:"   . -  ,  -  ,  -  ,  -  ,  -  : -,   .",time:25.407},{text:"  .  -  ,  -  ,  -  ,  -  ,  -  ,  -  :",time:31.206125},{text:"- -   .",time:8.375125}]},{folder:"teremok",title:{text:""},pages:[{text:"       .",time:19.39875},{text:" -  :|-  -?    ?| -  .        -.",time:15.637125},{text:" -  :|-  -?    ?|- , -.   ?|-  -.|-    !|    .",time:17.67475},{text:" -  :|-  -?    ?|- , -.|- , -.   ?|-   - -.|-    !|   .",time:20.496},{text:" -  :|-  -?    ?|- , -.|- , -.|-   - -.   ?|-  -.|-    !|C   .",time:26.138375},{text:"   :|-  -?    ?|- , -.|- , -.|-   - -.|- , -.   ?|-  -,   .|-    !|   .",time:21.358},{text:"    :|-  -?    ?|- , -.|- , -.|-   - -.|- , -.|- , -,   .   ?|-   -   .|-    !|   .",time:27.758},{text:" :|-  -?    ?|- , -.|- , -.|-   - -.|- , -.|- , -,   .|- ,  -   .   ?|-  - - -  .|-    !|      -   .",time:33.713875},{text:"   :|-  -?    ?|- , -.|- , -.|-   - -.|- , -.|- , -,   .|- ,  -   .|- , - - -  .   ?|-     - !|   ,      .",time:56.41425}]},{folder:"zayushkina-izbayshka",title:{text:" "},pages:[{text:"-   .     ,    - .| -,    ,     -.",time:40.4535},{text:"     ,      !|  , .    - :|- --! , , ?|-     ?     ,    - .     ,     !|- !  , !    !|   ,  :",time:38.651},{text:"- --! , , !|    :|-  ,  ,    !|   .|   , .    - : -  , , ?|-     ?     ,    - ,     ,     !|-  !    !",time:42.673875},{text:"- ,  !   -      !|- , !|-    ,   :|- , , !|    :|-  ,  ,    !|   .|  ,    :|- ---! , , ?",time:34.7065},{text:"-    ?     ,    - .     ,     !|- --! ,    !|- , ,  !  -  ,   -      !|- , !|   ,   :|- , , !|    :",time:42.778375},{text:"-  ,  ,    !|   .|   ,   . E     :|- --! O , , ?|-     ?     ,    - .     ,     !- ,    !",time:44.5025},{text:"- , ,  !   -  ,   -  ,   -  ,    !|- , !|   ,   ,  :|- -!   ,    ,|  , , ,  !|, , !|- !",time:24.989},{text:" :|-   ,    ,|  , , ,  !|, , !|  : !|   :|- !   ,|   !...",time:47.689375},{text:"   ,    -    !|     -   .",time:9.7335}]},{folder:"zhuravl-i-tsaplya",title:{text:"  "},pages:[{text:"-        .  -,   .|       ,    .|- -    ! -    .",time:33.6355},{text:"   ,  .  ,    :|- ,  ?|- ,     !   , ?|-    !|   :|- , ,  !    :    ,  .    !      .|      .",time:42.177625},{text:"  : '    ?   , -   '.|     . - , :|- ,   !|- , ,      ?      .|       .",time:38.5465},{text:"    :|'   ! - -  !'|  :|- !       .|- ,      !|    .| :'  .  - ?'.      ,      .",time:36.14325},{text:"            ,    .   ,    .",time:16.49925}]},{folder:"zolotoy-topor",title:{text:" "},pages:[{text:"      .|  ,         .    .       :|- , , ?|- , , .",time:24.8845},{text:"             :|-  ?|- , -  , -  ...|    .     ,  -  -  :|-  ?|- , -  , -  ...",time:29.273125},{text:"        ,  :|-  ?|- , !|      .",time:13.756375},{text:"     .       .|          .",time:14.59225},{text:"   ,     ,   .|   , :|-   ?|-     .",time:14.8535},{text:" .         :|-  ?|- , ,  ! -  .|          .",time:16.9955},{text:"      .",time:3.882}]},{folder:"kak-lisa-s-ovtsoy-volka-nakazali",title:{text:"     "},pages:[{text:"-    .   ,  !     .| , .   :|-  , , ?|-  , -,    ,    .   :    ,    ,    , , .",time:41.602875},{text:"- ,   , -!     :    ,   ,    .|      :  . ,   .",time:21.932625},{text:"  - -,  :|- , !   ?|-    , -  .|-  ,     ! -  .|   .",time:15.689375},{text:"     :|- , , -   - !|  ,   :|-    ?|-      !",time:16.264125},{text:"-   ?|-  ! -  .     ,           :|-      !",time:16.211875},{text:",   ,  ,   .     .",time:7.304125},{text:"   -        .",time:5.998}]},{folder:"kot-i-lisa",title:{text:"  "},pages:[{text:"   ,   ,  !     ,    .",time:15.5065},{text:"      .|-   ! -  .|-  -  ,    ! -  .|-    ,  !      , -  .|    .",time:45.9915},{text:"            :|-     ,      , -   .",time:41.341625},{text:"              :|-  -     , -     .",time:38.468125},{text:"     ,     .",time:36.14325},{text:",   ,  :        .|- , ,    ,     , -     .",time:38.25925},{text:"       .    ,      .|    .      :|-    !|     ,          .",time:84.44375},{text:"    ,    ,   .   ,   ,     .     .       .  , ,     .        .",time:41.655125},{text:"-  ,     ! -    .",time:12.006125}]},{folder:"kot-kozyol-da-baran",title:{text:",   "},pages:[{text:"-    ,   .   :   -   .     ,    !     ,    ,     ,   .|         .    - -,  .     .    :|- -,  ,    ,    ?",time:67.516375},{text:"  : -    :   , ,  ,  ,      ...|-         ? -    .|- ,   ,     , -    -.|- -,  ,     ?|-     ?   ,  : '   ,    ?     '.",time:60.646125},{text:"    :|-  ,  ,   !   - ?|  ,     .     .|-  ,   , -  -, -     ?   !|      ,  .   , , ,     .",time:49.77925},{text:"  ,    ,    ,         -  .      :|-     !       !| ,    ,     ,  ,   .  ,  ,  ,     .",time:57.485375},{text:"     ,      -   .  ,    ,    , .|-   ? -    .| -   ,           .    ,   ,     .    .|- , -   , -  .",time:48.107375},{text:"   , ,     ,  :|- , ,   ! -   ...|-  ,  ! , , ?|-   ,   ,    .    .|    .   ,   ,      .  ,   , ,  -      .",time:52.3915},{text:"  ,    ,   ,    !|- -! -      , - -  !   !|    ,   -    :|-  ,  ,   ,     ,    ,  ,   !      ?  -  !    ,     .",time:57.589875},{text:"   ,  : '      ,    !'|  ,       .   , ,       !   ,  , .",time:30.109},{text:"          :|-    ,      !|     -,     .",time:39.748125}]},{folder:"lisa-i-volk",title:{text:"  "},pages:[{text:"  .       :   - -  ?  :      .|-    , -  .  ,   ,  ,  .  ,   !",time:30.840375},{text:" ,     :|- !       ! -         .  ,     .",
time:16.9955},{text:"  ,          :   ,    .        .|  ,  -  ,  ''!|       ,      .   -  ,      .|- , ,    ?|- , !",time:36.587375},{text:"-    !|-  ,  ! ,   !  ,    !|-   , !|-  , !      !|-     ? !|- !    ,   ,   : ', ,   !' -   !",time:36.87475},{text:"    ,   ,   :|- , ,   ! ,   ,   !|  ,     :|- ,    ! , ,  !|-   ? -  .|-  ,   , : ' ,   !'",time:28.437125},{text:"     ,   ,   - .|-    , ?|-  ,  ,   .|   ,   :|- , , ,    !|  :|- , ,  !",time:22.664125},{text:" ,    ,  :|- ,  , !| : '-!'   - .|- ,   ! -  , - : ', , ,    !'|A    ! ,  ,      !",time:25.929375},{text:"   ,     :|-   ,  !    !|   ,   ,    :|-  , !   !",time:23.00375},{text:"   .    ,   ,     ,  .     :|- , ,  !|    .",time:21.436375}]},{folder:"petushok-zolotoy-grebeshok",title:{text:"   "},pages:[{text:"- ,    -  .    ,  .        ,    .  -  :",time:22.58575},{text:"-   ,    ,    .   ,    .| ,      ,   ,     :|- , ,| ,| ,| ,|  ,|  .",time:29.9},{text:"     .     ,    .  :|-   |  ,|  ,|  ...|  ,  ...",time:19.60775},{text:"   ,        .|             :|- , , ,    ,    ,    .| ,        :",time:25.537625},{text:"- , ,| ,| ,| ,|  ,|  .| , .   - :|-  ,| ,| ,|  ...",time:19.033125},{text:"     :|- --!   ?|    ,    .  :|-   |  ,|  ,|  ...|  ,  ...",time:21.4625},{text:"   ,   .  ,  ...   -  ,  ,   .| ,  ,         . , -  :|-   ,    ,    ,    .|         .|     -     :",time:40.0355},{text:"- , ,| ,| ,| ,|  ,|  .| , .   - :|-  ,| ,| ,|  ...",time:20.260875},{text:"  .   - :|-  ,| ,|- ,|  ...|     :|- --!   ?",time:17.46575},{text:"         ,   ,   ,   ...",time:9.393875},{text:"   ,   -      .     - - .|      .  ,  ...    .",time:18.406125},{text:"     :|- , , ,| ...|   -,|    ?",time:27.131},{text:" ,   :|'-  -       ,  '.      .      -   -.   ,     .",time:20.6265},{text:"  ,      .|       ,    .",time:11.039625}]},{folder:"zimove-zverey",title:{text:" "},pages:[{text:" , , ,      .",time:11.06575},{text:"   , .     ,   ,   ,  ,       .    ,   .|  ,   .    .      .",time:30.187375},{text:"   :|- , ,  !      ,   ,     .|- , , -  .|    :|- , ,  ,  !    ,  ,  ,     ,  ,  !|  .  ,    :|- , ,    !",time:54.429},{text:"   ,  ,  ,  ,  ,  ,     ,  !|  .  , ,      :|- , !   ,  !    ,  ,  ,  ,  ,  ,  ,  ,     !|  .",time:53.697625},{text:"     ,  ,  ,  ,  ,  ,   .  ,  ,  ,  .      .",time:27.8625},{text:"  ,  .    ,     !      ,    ,     ,       .  ,  .",time:21.175125},{text:"      .   . ,   , :|- - , , ,     .    ,   !|        .   ,    ,   :|- ! !",time:32.82575},{text:"  ,   ,  :|- !|   , , :|- , , !| ,    :|- !|  ,    ,     :|- , , !!!   ?!",time:31.728625},{text:",    !     . ,  :|- , , ! , , ! .......| ,  .    -,    .",time:26.97425}]},{folder:"nesmeyana-tsarevna",title:{text:"-"},pages:[{text:" ,    !       ,    ,       .     ;     ;   !|  ,   ,     -.    ,  ,  !  ,  ,   ;     ,   ,      .   -    .",time:36.796375},{text:"      ,     .|- ,- ,-   -;  ,    .|  ,      !    ,  -    ,    ,   ;  ,       .|        ;     ,   ,    .",time:45.051},{text:"  -  , ,   .   ,      :|- ,- ,-  !|      .|     :      ,     ?    ,        ,    -        .     .      ,       ,   .",time:43.744875},{text:"- ,- ,-  ;  ,   :   ,    . ,   ,  ,   !|    -       !| ,   ,      :|- ,- ,-   !|      .|  ,    ,     ;  ,        -     .|     ,  ,  .",time:45.7825},{text:":    , ,      ;    ,     ;     ,       .  ,  ,   .| ,   ,     :|- , ,   ;  ,   !|   .|    ,       :   ,     .   , ,      ;   :",time:52.02575},{text:"'    ,  !'|     .   ,  :|- ,  !  ;    !|  .  ,  :|- ,  !  ;    !|   .  ,  :|- ,  !  ;    !",time:35.568625},{text:"    ,  .    ;  ,  ! ,     ,     .      , - ,   -      .  ?     ,    ,      .|      ,   -, -;  . , :   ,   ,   .",time:49.962},{text:",     -  .|-,    ?   .  : ''; : ''.|- ! -  -. -   ! -    .",time:21.645375},{text:"   ,       -!     ;  ,   .| :       ? ,  ,   ,   .",time:23.65675}]},{folder:"kroshechka-khavroshechka",title:{text:"-"},pages:[{text:"    :   ,   ,    ,      .   -   -,   .        , , .   -   . ' ,   ,     ' -    .",time:35.150625},{text:"       : ,   .  -    ,   ,        .        ,        .",time:31.624125},{text:"   - -  .       ,         -:|- -,   ,  ,  ,  ,      .        ,     ...!|   :|-   -  !      ,    ,   -   .",time:40.322875},{text:"      :      ,   ... :     ,    ;       .| , ,   .    ,  -    .|        ,  ,   .     ,   ,      .",time:25.224125},{text:"   :        ,      ?|  -  ,  -  .   - :  ,  .    ,   .  - :|- , , , ! , , , !|  ,   .      ,     .      .",time:37.58},{text:"      , , :|-  , ,   ,   ,   ,      !|   -.    ,   ,    .  -  :|- , , , ! , , , !|     ,    ,   .      .",time:28.045375},{text:"            , -    .|    .       .   ,    :|- , , , ! , , , !|  -  !      ,   ,  -     ,   ,        !",time:39.095125},{text:"       .     ,     :|-  !| ,  :|- , ,     ,     ?|    :|-    !| ,  ,   .",time:19.686125},{text:"   -,   , :|- -,      !|   :|-  ,  ,    ,    .       ,    .    ,   .|  , -    ,   ,     .",time:29.273125},{text:"   ,        .|    ,     ,  ,    !   ,       . ,    - ,    - .|        ,         - , , .",time:35.438},{text:"   -,    :|- -,    ?      ,    !|,       ,   - !       ,          .     -    .     -    .   ,  ,   !",time:25.772625},{text:"    -.     ,    .    ,    ,   .      -,    .",time:14.200375}]},{folder:"sivka-burka",title:{text:"-"},pages:[{text:"- ,     .   ,    ,  , -,    -      ,       .    ,     :|-  ,         ,   .|  .",time:54.611875},{text:" ,      ,     ,   ,     :|- ,     ,     .    .| ,  ,     . , ...",time:23.029875},{text:"   ,      :|-  ?  ,   ? ,    :   ,   ,    ?| :|-  ,  .     .|      .    ,   .| -    :|-  ?|- .|-   ?|- .  .",time:41.05425},{text:"  .    ,     ,   ,   :|- ,     .    .|- .|  ,     , , .",time:17.57025},{text:"   ,    :|-  ?  ,   ? ,    ,   ,   ,    ?| :|-  ,  .     .|      .    ,    .|   :|-   ?|- .  .",time:35.673125},{text:"      .   :|-    .       ,   .|  :|-  , ,    ,   .|-  .|  , .",time:26.11225},{text:"   ,    :|-  ?  ,    ? ,    ,   ,   ,    ?| :|-    .     .|     :|-     ,         .",time:30.291875},{text:"     : '-,  ,   ,    !'    ,      ,    .    .     .|  ,     ,    .|   :|-  ?|- .|-   ?|-        .",time:41.05425},{text:"        , , ,    .  ,  ,       ,   .           ,             .   ,      ,      ,  ,    .|        :|-   .|     , ,   ,  .          :|- ,      !|- , !      ,   .",time:80.3425},{text:"    ,  , ,  -   .         .      ,    :|- -,  ,   ,    !|    ,  ,    ,     .     :|-  ?|  , ,     ,        ,   ,  ,   .        . - ,  , -  , -   .",time:61.220875},{text:"    ,    -.      ,            .      :|-   , ,             ,         .|    .   - ,  !   ,    .|   .   -, , ,  -     .  ,     -    .  , ,      -  ,   ,       ,       ,  .",time:83.9735},{text:"   :|- ,  !|    .|    ,  -   ,        -.  ,    ,    .   ,     .|  , ,     .|-   ,     -        . ,  ,   ,  .|     :|-      ?",time:50.01425},{text:"   :|-  -   !       .|               ,    ,    .        .   :|-    !|-  , ,  !       .|     ,     ,-   .  , :|-  , , ?  !|      ,    .",time:53.279625},{text:"         .|     .      ,     .|   ,   ,       .    -    ,  .      :|-  ? ?    ?|- .",time:35.307375},{text:"    -     .   :|-   !    !|   :|-   !  ,   .|  :|-   .| .",time:23.996375},{text:"     ,    :|- -,  ,   ,    !|    ,  ,    ,     .      ,        ,   ,  ,   .     .|   :     .",time:57.276375}]},{folder:"gusi-lebedi",title:{text:"-"},pages:[{text:"   .       .|- , -  , -    ,  .    ,   -    .|   ,   ,   :      ,    , , .  -,  ,   .",time:37.815125},{text:" ,  -  ! ,  - - !   ,  , ,       , -   .|       :   -     .   ,     :  -     -   ,   .",time:39.3825},{text:"   . , ,  -  :|- , , ,  - ?|  :|-     - .|-     !       ...|   .   -  :",time:28.9335},{text:"- , , ,  - ?|-     - .|-       ...    .|  .      :|-  ,  ,  - ?|-       - .|-       ...|    ,  .    ,   -   .",time:43.144125},{text:"  -     ,   ,   .       .     ,   .    :|- , !|- , !    ?|-   ,   ,  ,  .|-    .|-   ,   .",time:42.85675},{text:"  -  -      :|- , ,   ,    .    ,   :|- -   .   -,   ,   ,     .|     , ,   :|-  ,  , ,      .|    .  -     :|- ,  ?",time:41.15875},{text:"  :|- , ...|-      .     . - :|- -!   !   !|      .  -  -.|- , ,  !|-    .|    .      .",time:36.45675},{text:"-  ,  .     .  -  , - .  ? !  :|- , ,  !|-    .|     .    ,  . -  ,  .   . , ,   .  -  ,  - ,  ,  ,    .",time:44.45025},{text:"   :|- , ,  !|-    .|  -   ,      ,   . - -, -       -.          .       .",time:31.258375}]},{folder:"kak-lisa-letat-uchilas",title:{text:"   "},pages:[{text:" -    :|-  , -?|-    , ,      ...|-     !  !|   ,     .   -  !|-  , , ?|-   ,   -?|-      ! -       .    ,  ,     .",time:44.0845},{text:"  :|-  , ,  ?|- , -   ,   !|-   ,  !    .|-,   ,     .     ,    ,    .|      ,    ,  .|     .",time:38.5465}]},{folder:"kak-muzhik-gusey-delil",title:{text:"   "},pages:[{text:"-  .  -   ,    -  .       ,   ,     .|   ,  ,     .   ,    ,      .    :|-         . -   ,       .|-   !",time:41.05425},{text:"   ,      :   ,     .    :|- , ,   !   ,   !|- , , , !       ?|-  , -   ,   . -     :|-  ,       .",time:35.856},{text:"  ,  :|-  , ,   ,      !|   :|-      ,    !|    :|- ,    ,    .   ,     ,   !",
time:33.24375},{text:"     .|   ,   ,     .|    ,   .          .|-    ?|-  ,      .|- , , .      ,   ?| , ,    ,   .",time:39.669875},{text:"        .|      :|- , ,   !|   ,   - ,   :|-   !|      :|-     !| :|-  !      !|    ,      .",time:37.58}]},{folder:"petushok-i-bobovoe-zyornyshko",title:{text:"   "},pages:[{text:"       .  ,  .   ,  ,  !| ,     :|- --! -,   ,  ?| :|-  ...  ,   -  ...",time:39.617625},{text:"   :|- --! -,    -  ,  ,  !| :|- -,   ,  !",time:16.159625},{text:"   :|- --! -,   !  - ,    ,  - .  ,  ,  !| :|-   ,  !",time:18.667375},{text:"   :|- --! -,   !  - ,   ,  - ,   ,  - .  ,  ,  !| :|-   !  !",time:23.317125},{text:"   :|- --! -,   !  - ,   ,  - ,   ,  - ,   ,  - .  ,  ,  !|-   ,  ,  !",time:21.4625},{text:"   :|- --! -,   ,  - ,   ,  - ,   ,  - ,   ,  - ,   ,  - .  ,  ,  !|-   ,  , -  .",time:27.261625},{text:"   ,  ,   .   .   ,   .   ,   .",time:12.685375},{text:"   ,   .   ,   .",time:6.91225},{text:"   .      .|  :|- ---!",time:18.144875}]},{folder:"kasha-iz-topora",title:{text:"  "},pages:[{text:"     .   ,  .|  ,    :|-    !",time:18.4845},{text:"  :|- , ...|-     , ,  ?| ,  ,    :|- ,  ,      ...  !|- ,     , -  .",time:27.679625},{text:"       :|-    ,      !|  :|-      ?",time:16.917125},{text:"- - ,  ,     .|  .   ,   ,      .|   ,   .",time:18.4845},{text:"  ,  , ...",time:6.70325},{text:"- , ? -  .|-   , -  , - ,    .|- -   , .",time:15.0625},{text:" ,  :|- ,     !|    :|- , , ,  ...",time:15.245375},{text:",  ,  .  ,   .|- ,   ! -  , -     ,    !|    ,  .",time:22.429},{text:"- ,  , !|  ,  .|-    ,       ! -  .|  ,  .",time:22.716375}]},{folder:"slovo",title:{text:""},pages:[{text:"    ,  .    ,    .     . -,  - .  ,  ,  -  !   -  ,   -  !   -   ?    ,   .    :|- --!| :|-  ?|-  !|-  ?|-  !|-  , ?|-  !|-   !|-   ?|-  .|-   ?|-    !|- , !|  :|- !|    :|- , ?|- !",time:73.42},{text:" - ,       .|     :    , ,   .       ,            .| :|-  , , ,   .  ,  , ,    !   :    .    -    ,  , -      .",time:41.15875},{text:'      :|- !|  :|-  , ?|-    !|        .    .|"  !" -  , -    !"|         .|   ,    ,    ,     -   ,  ,  ,   .      ,  .         ,   ,   .',time:45.41675},{text:'    .     ,   .      : "    ,     ,    !         ..." -   .         :     ?  ,  ,      !|   ,   !       :|- !',time:43.27475},{text:' :|-  , ?|- !|  ,     .       .|     : "-  ,     ?"   ,   ,   ,  !|    -  ,   -  !  ,   ,   .',time:40.14},{text:"   ,     - , ,  .    ,  -      .  -   :   ,     !     -  .|   ,      :|-  , ,  ? -  .|-   ? -  .   :|- ,   ?|- ! -  .",time:43.509875},{text:"- !   -  !|   :|- !|  :|-  !|-   !| ,    :|- , ! -    !  :|- , ! -   :",time:24.100875},{text:"- , ! -    -!  ,  !   :|- ,   ?|- !|-   ?|- !|-        !|   ,         .    ,   !  :|- ! -   .  :|-   ! -   .     ,     , .   :|- ,     !|      ,          !|  :|- ,    !| - !   :",time:61.717125},{text:"- ,   , , ,  !|     -!  :|- ,   ,       !|   .  :|- ,   ,      !|   .  :|- ,   ,  ,  ,   !|          ,  ,  ,  .         !",time:46.59225}]},{folder:"moy-schenok",title:{text:" "},pages:[{text:"     -|   .|   ,|   ,|   |   .",time:19.686125},{text:"  | |   ,|   ,|,|,| .",time:9.446125},{text:"   -|  .",time:4.45675},{text:"    -|   .",time:4.273875},{text:"    ,|    ,",time:5.6845},{text:"    ,| | ...",time:6.729375},{text:" ,  ,|  ,|  ,| |?",time:7.251875},{text:",    |   ,",time:3.960375},{text:",| ,|, ,  ?|  ,   .| : - .",time:10.09925},{text:"   ,|    ,|  ,|   .",time:9.184875},{text:"|-  |  ,|  ...|  ?| .",time:15.611},{text:" ,| |   ?| ,   ,| ,|, ,  ,|   .| : -  !|    .",time:20.757125},{text:" ,| |   |  -| .|     -|   .",time:17.36125}]},{folder:"masha-i-medved",title:{text:"  "},pages:[{text:"-   .     .|          .      .| , ,   ,       !|   :| ,          .",time:31.728625},{text:"   ,     .      ,       -  .",time:11.039625},{text:"  ,   .    ,  .|,       .",time:10.987375},{text:"    ,   .  -  .",time:6.128625},{text:"      .   ,   .",time:6.285375},{text:"   ,     .|  :|   ?    ?..        .      :    .   ,  , .| ,  ,     !    .   ,   ,   .| , ,    .       .",time:36.744125},{text:"      ,          .|   ,  ,        !|  ,     .  ,       ,    ...| ,   .|    ,     :| , ,      :      .| ,   ,     .  ,    !|    !   ,  -    :| , :     ,       .  :     ,   .    ,    !| ,   ,   !  :|   , ,    !     ,      ,        .",time:77.41675},{text:"  ,    .        .    ,    ,   ,   .|-,   :|  ,| !|   :|, !|   ,|  !| ,| !|   ,   ,   !      . -, -, ,   :|  ,| !|    :|, !|   ,|  !| ,| !| :|   !  ,  !    .",time:63.44125},{text:"  ,  ,     ,        :| --! , !      .|       .    , .  ,          .",time:24.989},{text:"      .   .|    ?   .|   ,      :        .",time:16.49925},{text:"   .   , ,  .",time:12.03225}]},{folder:"mukha-tsokotukha",title:{text:"-"},pages:[{text:", -,| !|   ,|  .|   |  :|, ,|   !| ,|  ,|  |  | | :| -|!",time:41.759625},{text:"   ,|  ,|   |   .",time:9.89025},{text:"  |-,|-| |-,| !|   | ?",time:16.029},{text:" - ||   | |  ,| !| , !|- !|   ,|   ,|  |   !| -|,| ,  |:|| ,| | ,|   |  !|    | :|-|!| ,  ,|,   ,|, , , !| ,| | !",time:58.896},{text:" -  ,|-    ,|     |    .|  ,|,|  ,|.",time:22.011},{text:" - | ,|    | .| ?  ?|   !|  ,| |    | !",time:21.122875},{text:"   |   :|  ,|  | , -,|   !|   | - :|,   |!| ,|  |-  ,|- !|, ,|  ,| ,| !",time:43.71875},{text:" ,|  .|! ! ! !|   .|   , | , !|  ,|  .|  ,| ,| ,|  .|-, -,| .|  |  | , ,| !|, !|  , |  |  :| ,| ,|----!| ,| , |,  |  :| -|!",time:56.440375}]},{folder:"snegurochka",title:{text:""},pages:[{text:"-   .  , .   ,    -     .    ,    ,     ,              .|-  , , -  , -       .|- , -  .",time:38.91225},{text:"  ,          .    , ,  ,    .   , , .",time:21.645375},{text:" - a y   ,  ;      .   ,  , ,     -      .| ,    .   ,  .",time:36.691875},{text:"        ,   ;   ,    .  ,  ,    ,    .",time:17.1},{text:"    ,     .    ,  ,  .   , .       ,    - .",time:21.358},{text:" .    .    ,  .    .|-    , ? -  .     ?   ?|- , , , ,  .|    ,    ,  .|      ,   .   .      ,    - .",time:46.54},{text:"   ,   .   ,   .        ,  ,   ,     .",time:19.9735},{text:"   .      ,  :|-   , ,   ,  , .|     ,    :|- , ,   !",time:23.317125},{text:"     .   ,  ,  ,  .    - .",time:13.83475},{text:"  ,   ,          .     .|      .",time:15.637125},{text:'     ,    .       .    ,    - : "!"   -   .|   :|- , , !|     ...',time:45.20775}]},{folder:"pod-gribom",title:{text:" "},pages:[{text:"-    .| ?|     ,        .",time:14.304875},{text:"     .|      ",time:6.49425},{text:"    :| , ,    !      !|     ?   .     - .| !  ,    .",time:18.197125},{text:"    .|    ",time:5.94575},{text:"  :|    !     .|     ?    .|  !",time:10.96125},{text:"     .|      ",time:5.94575},{text:"     :|  ,  !     , ,  !|   .| , !| .",time:15.793875},{text:"    .",time:3.725375},{text:"     ,  .| ,  ,  !    !..|  ,   .    .",time:11.509875},{text:"     .",time:3.5425},{text:"   ?  .|  .|  , :|     ?|    !|    .",time:15.898375},{text:"       .   -   .|   :|   ?       ,      !",time:19.869},{text:" --! --!   -.| :       :| , ! -|   .|      ,       ,      .|  ?",time:31.362875}]}]}}(window);