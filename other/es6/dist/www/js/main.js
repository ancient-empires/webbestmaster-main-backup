!function(t){!function(){"use strict";function e(t,e){var n=i.channels;return n[t]||(n[t]=[]),n[t].push({context:this,callback:e}),this}function n(t){var e,n=i.channels[t];return n?(e=Array.prototype.slice.call(arguments,1),n.forEach(function(t){t.callback.apply(t.context,e)}),this):this}function r(t){var e,n=i.channels;if(!t){for(e in n)n.hasOwnProperty(e)&&this.unsubscribe(e);return this}return n[t]?(n[t]=n[t].filter(function(t){return t.context!==this},this),this):this}var i;i={channels:{},publish:n,subscribe:e,unsubscribe:r,installTo:function(t){t.subscribe=e,t.publish=n,t.unsubscribe=r}},t["/www/js/services/mediator.js"]=i}(),function(){if(Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),function(){var t=Object.prototype,e=t.__defineGetter__,n=t.__defineSetter__,r=t.__lookupGetter__,i=t.__lookupSetter__,a=t.hasOwnProperty;e&&n&&r&&i&&(Object.defineProperty||(Object.defineProperty=function(t,s,o){if(3>arguments.length)throw new TypeError("Arguments not optional");if(s+="",a.call(o,"value")&&(r.call(t,s)||i.call(t,s)||(t[s]=o.value),a.call(o,"get")||a.call(o,"set")))throw new TypeError("Cannot specify an accessor and a value");if(!(o.writable&&o.enumerable&&o.configurable))throw new TypeError("This implementation of Object.defineProperty does not support false for configurable, enumerable, or writable.");return o.get&&e.call(t,s,o.get),o.set&&n.call(t,s,o.set),t}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(t,e){if(2>arguments.length)throw new TypeError("Arguments not optional.");e+="";var n={configurable:!0,enumerable:!0,writable:!0},s=r.call(t,e),o=i.call(t,e);return a.call(t,e)?s||o?(delete n.writable,n.get=n.set=void 0,s&&(n.get=s),o&&(n.set=o),n):(n.value=t[e],n):n}),Object.defineProperties||(Object.defineProperties=function(t,e){for(var n in e)a.call(e,n)&&Object.defineProperty(t,n,e[n])}))}(),!(document.documentElement.dataset||Object.getOwnPropertyDescriptor(Element.prototype,"dataset")&&Object.getOwnPropertyDescriptor(Element.prototype,"dataset").get)){var t={enumerable:!0,get:function(){var t,e,n,r,i,a=this.attributes,s=a.length,o=function(t){return t.charAt(1).toUpperCase()},l=function(){return this},u=function(t,e){return"undefined"!=typeof e?this.setAttribute(t,e):this.removeAttribute(t)};try{({}).__defineGetter__("test",function(){}),e={}}catch(c){e=document.createElement("div")}for(t=0;s>t;t++)if((r=a[t])&&r.name&&/^data-\w[\w\-]*$/.test(r.name)){n=r.value,r=r.name,i=r.substr(5).replace(/-./g,o);try{Object.defineProperty(e,i,{enumerable:this.enumerable,get:l.bind(n||""),set:u.bind(this,r)})}catch(c){e[i]=n}}return e}};try{Object.defineProperty(Element.prototype,"dataset",t)}catch(e){t.enumerable=!1,Object.defineProperty(Element.prototype,"dataset",t)}}}(),function(){(function(){function t(t,e){if(t!==e){var n=null===t,r=t===x,i=t===t,a=null===e,s=e===x,o=e===e;if(t>e&&!a||!i||n&&!s&&o||r&&o)return 1;if(e>t&&!n||!o||a&&!r&&i||s&&i)return-1}return 0}function e(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function n(t,e,n){if(e!==e)return p(t,n);n-=1;for(var r=t.length;++n<r;)if(t[n]===e)return n;return-1}function r(t){return"function"==typeof t||!1}function i(t){return null==t?"":t+""}function a(t,e){for(var n=-1,r=t.length;++n<r&&-1<e.indexOf(t.charAt(n)););return n}function s(t,e){for(var n=t.length;n--&&-1<e.indexOf(t.charAt(n)););return n}function o(e,n){return t(e.a,n.a)||e.b-n.b}function l(t){return Bt[t]}function u(t){return Nt[t]}function c(t,e,n){return e?t=$t[t]:n&&(t=Ft[t]),"\\"+t}function d(t){return"\\"+Ft[t]}function p(t,e,n){var r=t.length;for(e+=n?0:-1;n?e--:++e<r;){var i=t[e];if(i!==i)return e}return-1}function f(t){return!!t&&"object"==typeof t}function h(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function m(t,e){for(var n=-1,r=t.length,i=-1,a=[];++n<r;)t[n]===e&&(t[n]=R,a[++i]=n);return a}function g(t){for(var e=-1,n=t.length;++e<n&&h(t.charCodeAt(e)););return e}function v(t){for(var e=t.length;e--&&h(t.charCodeAt(e)););return e}function w(t){return Dt[t]}function y(h){function Bt(t){if(f(t)&&!(La(t)||t instanceof Rt)){if(t instanceof Dt)return t;if(ri.call(t,"__chain__")&&ri.call(t,"__wrapped__"))return Wn(t)}return new Dt(t)}function Nt(){}function Dt(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Rt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ai,this.__views__=[]}function $t(){this.__data__={}}function Ft(t){var e=t?t.length:0;for(this.data={hash:yi(null),set:new fi};e--;)this.push(t[e])}function Ht(t,e){var n=t.data;return("string"==typeof e||wr(e)?n.set.has(e):n.hash[e])?0:-1}function Gt(t,e){var n=-1,r=t.length;for(e||(e=Hr(r));++n<r;)e[n]=t[n];return e}function Wt(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}function Vt(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ut(t,e){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[++i]=s)}return a}function Jt(t,e){for(var n=-1,r=t.length,i=Hr(r);++n<r;)i[n]=e(t[n],n,t);return i}function Kt(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Zt(t,e,n,r){var i=-1,a=t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function Qt(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function te(t,e,n,r){return t!==x&&ri.call(r,n)?t:e}function ee(t,e,n){for(var r=-1,i=Wa(e),a=i.length;++r<a;){var s=i[r],o=t[s],l=n(o,e[s],s,t,e);(l===l?l===o:o!==o)&&(o!==x||s in t)||(t[s]=l)}return t}function ne(t,e){return null==e?t:ie(e,Wa(e),t)}function re(t,e){for(var n=-1,r=null==t,i=!r&&In(t),a=i?t.length:0,s=e.length,o=Hr(s);++n<s;){var l=e[n];o[n]=i?Mn(l,a)?t[l]:x:r?x:t[l]}return o}function ie(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var a=e[r];n[a]=t[a]}return n}function ae(t,e,n){var r=typeof t;return"function"==r?e===x?t:Fe(t,e,n):null==t?Nr:"object"==r?Te(t):e===x?Fr(t):Se(t,e)}function se(t,e,n,r,i,a,s){var o;if(n&&(o=i?n(t,r,i):n(t)),o!==x)return o;if(!wr(t))return t;if(r=La(t)){if(o=Cn(t),!e)return Gt(t,o)}else{var l=ai.call(t),u=l==V;if(l!=q&&l!=$&&(!u||i))return zt[l]?Pn(t,l,e):i?t:{};if(Xt(t))return i?t:{};if(o=jn(u?{}:t),!e)return ne(o,t)}for(a||(a=[]),s||(s=[]),i=a.length;i--;)if(a[i]==t)return s[i];return a.push(t),s.push(o),(r?Wt:me)(t,function(r,i){o[i]=se(r,e,n,i,t,a,s)}),o}function oe(t,e,n){if("function"!=typeof t)throw new Kr(D);return hi(function(){t.apply(x,n)},e)}function le(t,e){var r=t?t.length:0,i=[];if(!r)return i;var a=-1,s=_n(),o=s===n,l=o&&e.length>=z&&yi&&fi?new Ft(e):null,u=e.length;l&&(s=Ht,o=!1,e=l);t:for(;++a<r;)if(l=t[a],o&&l===l){for(var c=u;c--;)if(e[c]===l)continue t;i.push(l)}else 0>s(e,l,0)&&i.push(l);return i}function ue(t,e){var n=!0;return $i(t,function(t,r,i){return n=!!e(t,r,i)}),n}function ce(t,e,n,r){var i=r,a=i;return $i(t,function(t,s,o){s=+e(t,s,o),(n(s,i)||s===r&&s===a)&&(i=s,a=t)}),a}function de(t,e){var n=[];return $i(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function pe(t,e,n,r){var i;return n(t,function(t,n,a){return e(t,n,a)?(i=r?n:t,!1):void 0}),i}function fe(t,e,n,r){r||(r=[]);for(var i=-1,a=t.length;++i<a;){var s=t[i];f(s)&&In(s)&&(n||La(s)||hr(s))?e?fe(s,e,n,r):Kt(r,s):n||(r[r.length]=s)}return r}function he(t,e){return Hi(t,e,Pr)}function me(t,e){return Hi(t,e,Wa)}function ge(t,e){return Gi(t,e,Wa)}function ve(t,e){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var s=e[n];vr(t[s])&&(a[++i]=s)}return a}function we(t,e,n){if(null!=t){t=Hn(t),n!==x&&n in t&&(e=[n]),n=0;for(var r=e.length;null!=t&&r>n;)t=Hn(t)[e[n++]];return n&&n==r?t:x}}function ye(t,e,n,r,i,a){if(t===e)return!0;if(null==t||null==e||!wr(t)&&!f(e))return t!==t&&e!==e;t:{var s=ye,o=La(t),l=La(e),u=F,c=F;o||(u=ai.call(t),u==$?u=q:u!=q&&(o=_r(t))),l||(c=ai.call(e),c==$?c=q:c!=q&&_r(e));var d=u==q&&!Xt(t),l=c==q&&!Xt(e),c=u==c;if(!c||o||d){if(!r&&(u=d&&ri.call(t,"__wrapped__"),l=l&&ri.call(e,"__wrapped__"),u||l)){t=s(u?t.value():t,l?e.value():e,n,r,i,a);break t}if(c){for(i||(i=[]),a||(a=[]),u=i.length;u--;)if(i[u]==t){t=a[u]==e;break t}i.push(t),a.push(e),t=(o?yn:bn)(t,e,s,n,r,i,a),i.pop(),a.pop()}else t=!1}else t=xn(t,e,u)}return t}function xe(t,e,n){var r=e.length,i=r,a=!n;if(null==t)return!i;for(t=Hn(t);r--;){var s=e[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<i;){var s=e[r],o=s[0],l=t[o],u=s[1];if(a&&s[2]){if(l===x&&!(o in t))return!1}else if(s=n?n(l,u,o):x,s===x?!ye(u,l,n,!0):!s)return!1}return!0}function be(t,e){var n=-1,r=In(t)?Hr(t.length):[];return $i(t,function(t,i,a){r[++n]=e(t,i,a)}),r}function Te(t){var e=kn(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:(t=Hn(t),t[n]===r&&(r!==x||n in t))}}return function(t){return xe(t,e)}}function Se(t,e){var n=La(t),r=On(t)&&e===e&&!wr(e),i=t+"";return t=Gn(t),function(a){if(null==a)return!1;var s=i;if(a=Hn(a),!(!n&&r||s in a)){if(a=1==t.length?a:we(a,Ae(t,0,-1)),null==a)return!1;s=Yn(t),a=Hn(a)}return a[s]===e?e!==x||s in a:ye(e,a[s],x,!0)}}function _e(t,e,n,r,i){if(!wr(t))return t;var a=In(e)&&(La(e)||_r(e)),s=a?x:Wa(e);return Wt(s||e,function(o,l){if(s&&(l=o,o=e[l]),f(o)){r||(r=[]),i||(i=[]);t:{for(var u=l,c=r,d=i,p=c.length,h=e[u];p--;)if(c[p]==h){t[u]=d[p];break t}var p=t[u],m=n?n(p,h,u,t,e):x,g=m===x;g&&(m=h,In(h)&&(La(h)||_r(h))?m=La(p)?p:In(p)?Gt(p):[]:br(h)||hr(h)?m=hr(p)?Cr(p):br(p)?p:{}:g=!1),c.push(h),d.push(m),g?t[u]=_e(m,h,n,c,d):(m===m?m!==p:p===p)&&(t[u]=m)}}else u=t[l],c=n?n(u,o,l,t,e):x,(d=c===x)&&(c=o),c===x&&(!a||l in t)||!d&&(c===c?c===u:u!==u)||(t[l]=c)}),t}function ke(t){return function(e){return null==e?x:Hn(e)[t]}}function Ee(t){var e=t+"";return t=Gn(t),function(n){return we(n,t,e)}}function Ce(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&Mn(r)){var i=r;mi.call(t,r,1)}}return t}function je(t,e){return t+xi(ji()*(e-t+1))}function Pe(t,e,n,r,i){return i(t,function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)}),n}function Ae(t,e,n){var r=-1,i=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=n===x||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0,n=Hr(i);++r<i;)n[r]=t[r+e];return n}function Ie(t,e){var n;return $i(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Me(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}function Le(e,n,r){var i=Tn(),a=-1;return n=Jt(n,function(t){return i(t)}),e=be(e,function(t){return{a:Jt(n,function(e){return e(t)}),b:++a,c:t}}),Me(e,function(e,n){var i;t:{for(var a=-1,s=e.a,o=n.a,l=s.length,u=r.length;++a<l;)if(i=t(s[a],o[a])){if(a>=u)break t;a=r[a],i*="asc"===a||!0===a?1:-1;break t}i=e.b-n.b}return i})}function Oe(t,e){var n=0;return $i(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function ze(t,e){var r=-1,i=_n(),a=t.length,s=i===n,o=s&&a>=z,l=o&&yi&&fi?new Ft(void 0):null,u=[];l?(i=Ht,s=!1):(o=!1,l=e?[]:u);t:for(;++r<a;){var c=t[r],d=e?e(c,r,t):c;if(s&&c===c){for(var p=l.length;p--;)if(l[p]===d)continue t;e&&l.push(d),u.push(c)}else 0>i(l,d,0)&&((e||o)&&l.push(d),u.push(c))}return u}function Be(t,e){for(var n=-1,r=e.length,i=Hr(r);++n<r;)i[n]=t[e[n]];return i}function Ne(t,e,n,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&e(t[a],a,t););return n?Ae(t,r?0:a,r?a+1:i):Ae(t,r?a+1:0,r?i:a)}function De(t,e){var n=t;n instanceof Rt&&(n=n.value());for(var r=-1,i=e.length;++r<i;)var a=e[r],n=a.func.apply(a.thisArg,Kt([n],a.args));return n}function Re(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&Mi>=i){for(;i>r;){var a=r+i>>>1,s=t[a];(n?e>=s:e>s)&&null!==s?r=a+1:i=a}return i}return $e(t,e,Nr,n)}function $e(t,e,n,r){e=n(e);for(var i=0,a=t?t.length:0,s=e!==e,o=null===e,l=e===x;a>i;){var u=xi((i+a)/2),c=n(t[u]),d=c!==x,p=c===c;(s?p||r:o?p&&d&&(r||null!=c):l?p&&(r||d):null==c?0:r?e>=c:e>c)?i=u+1:a=u}return ki(a,Ii)}function Fe(t,e,n){if("function"!=typeof t)return Nr;if(e===x)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,a){return t.call(e,n,r,i,a)};case 5:return function(n,r,i,a,s){return t.call(e,n,r,i,a,s)}}return function(){return t.apply(e,arguments)}}function He(t){var e=new li(t.byteLength);return new gi(e).set(new gi(t)),e}function Ge(t,e,n){for(var r=n.length,i=-1,a=_i(t.length-r,0),s=-1,o=e.length,l=Hr(o+a);++s<o;)l[s]=e[s];for(;++i<r;)l[n[i]]=t[i];for(;a--;)l[s++]=t[i++];return l}function We(t,e,n){for(var r=-1,i=n.length,a=-1,s=_i(t.length-i,0),o=-1,l=e.length,u=Hr(s+l);++a<s;)u[a]=t[a];for(s=a;++o<l;)u[s+o]=e[o];for(;++r<i;)u[s+n[r]]=t[a++];return u}function Ve(t,e){return function(n,r,i){var a=e?e():{};if(r=Tn(r,i,3),La(n)){i=-1;for(var s=n.length;++i<s;){var o=n[i];t(a,o,r(o,i,n),n)}}else $i(n,function(e,n,i){t(a,e,r(e,n,i),i)});return a}}function Ue(t){return pr(function(e,n){var r=-1,i=null==e?0:n.length,a=i>2?n[i-2]:x,s=i>2?n[2]:x,o=i>1?n[i-1]:x;for("function"==typeof a?(a=Fe(a,o,5),i-=2):(a="function"==typeof o?o:x,i-=a?1:0),s&&Ln(n[0],n[1],s)&&(a=3>i?x:a,i=1);++r<i;)(s=n[r])&&t(e,s,a);return e})}function qe(t,e){return function(n,r){var i=n?Ui(n):0;if(!Bn(i))return t(n,r);for(var a=e?i:-1,s=Hn(n);(e?a--:++a<i)&&!1!==r(s[a],a,s););return n}}function Xe(t){return function(e,n,r){var i=Hn(e);r=r(e);for(var a=r.length,s=t?a:-1;t?s--:++s<a;){var o=r[s];if(!1===n(i[o],o,i))break}return e}}function Ye(t,e){function n(){return(this&&this!==qt&&this instanceof n?r:t).apply(e,arguments)}var r=Ke(t);return n}function Je(t){return function(e){var n=-1;e=zr(Mr(e));for(var r=e.length,i="";++n<r;)i=t(i,e[n],n);return i}}function Ke(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ri(t.prototype),e=t.apply(n,e);return wr(e)?e:n}}function Ze(t){function e(n,r,i){return i&&Ln(n,r,i)&&(r=x),n=wn(n,t,x,x,x,x,x,r),n.placeholder=e.placeholder,n}return e}function Qe(t,e){return pr(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(x,n))})}function tn(t,e){return function(n,r,i){if(i&&Ln(n,r,i)&&(r=x),r=Tn(r,i,3),1==r.length){i=n=La(n)?n:Fn(n);for(var a=r,s=-1,o=i.length,l=e,u=l;++s<o;){var c=i[s],d=+a(c);t(d,l)&&(l=d,u=c)}if(i=u,!n.length||i!==e)return i}return ce(n,r,t,e)}}function en(t,n){return function(r,i,a){return i=Tn(i,a,3),La(r)?(i=e(r,i,n),i>-1?r[i]:x):pe(r,i,t)}}function nn(t){return function(n,r,i){return n&&n.length?(r=Tn(r,i,3),e(n,r,t)):-1}}function rn(t){return function(e,n,r){return n=Tn(n,r,3),pe(e,n,t,!0)}}function an(t){return function(){for(var e,n=arguments.length,r=t?n:-1,i=0,a=Hr(n);t?r--:++r<n;){var s=a[i++]=arguments[r];if("function"!=typeof s)throw new Kr(D);!e&&Dt.prototype.thru&&"wrapper"==Sn(s)&&(e=new Dt([],!0))}for(r=e?-1:n;++r<n;){var s=a[r],i=Sn(s),o="wrapper"==i?Vi(s):x;e=o&&zn(o[0])&&o[1]==(P|k|C|A)&&!o[4].length&&1==o[9]?e[Sn(o[0])].apply(e,o[3]):1==s.length&&zn(s)?e[i]():e.thru(s)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&La(r)&&r.length>=z)return e.plant(r).value();for(var i=0,t=n?a[i].apply(this,t):r;++i<n;)t=a[i].call(this,t);return t}}}function sn(t,e){return function(n,r,i){return"function"==typeof r&&i===x&&La(n)?t(n,r):e(n,Fe(r,i,3))}}function on(t){return function(e,n,r){return("function"!=typeof n||r!==x)&&(n=Fe(n,r,3)),t(e,n,Pr)}}function ln(t){return function(e,n,r){return("function"!=typeof n||r!==x)&&(n=Fe(n,r,3)),t(e,n)}}function un(t){return function(e,n,r){var i={};return n=Tn(n,r,3),me(e,function(e,r,a){a=n(e,r,a),r=t?a:r,e=t?e:a,i[r]=e}),i}}function cn(t){return function(e,n,r){return e=i(e),(t?e:"")+hn(e,n,r)+(t?"":e)}}function dn(t){var e=pr(function(n,r){var i=m(r,e.placeholder);return wn(n,t,x,r,i)});return e}function pn(t,e){return function(n,r,i,a){var s=3>arguments.length;return"function"==typeof r&&a===x&&La(n)?t(n,r,i,s):Pe(n,Tn(r,a,4),i,s,e)}}function fn(t,e,n,r,i,a,s,o,l,u){function c(){for(var y=arguments.length,b=y,_=Hr(y);b--;)_[b]=arguments[b];if(r&&(_=Ge(_,r,i)),a&&(_=We(_,a,s)),h||v){var b=c.placeholder,k=m(_,b),y=y-k.length;if(u>y){var E=o?Gt(o):x,y=_i(u-y,0),P=h?k:x,k=h?x:k,A=h?_:x,_=h?x:_;return e|=h?C:j,e&=~(h?j:C),g||(e&=~(T|S)),_=[t,e,n,A,P,_,k,E,l,y],E=fn.apply(x,_),zn(t)&&qi(E,_),E.placeholder=b,E}}if(b=p?n:this,E=f?b[t]:t,o)for(y=_.length,P=ki(o.length,y),k=Gt(_);P--;)A=o[P],_[P]=Mn(A,y)?k[A]:x;return d&&l<_.length&&(_.length=l),this&&this!==qt&&this instanceof c&&(E=w||Ke(t)),E.apply(b,_)}var d=e&P,p=e&T,f=e&S,h=e&k,g=e&_,v=e&E,w=f?x:Ke(t);return c}function hn(t,e,n){return t=t.length,e=+e,e>t&&Ti(e)?(e-=t,n=null==n?" ":n+"",Lr(n,wi(e/n.length)).slice(0,e)):""}function mn(t,e,n,r){function i(){for(var e=-1,o=arguments.length,l=-1,u=r.length,c=Hr(u+o);++l<u;)c[l]=r[l];for(;o--;)c[l++]=arguments[++e];return(this&&this!==qt&&this instanceof i?s:t).apply(a?n:this,c)}var a=e&T,s=Ke(t);return i}function gn(t){var e=Ur[t];return function(t,n){return(n=n===x?0:+n||0)?(n=di(10,n),e(t*n)/n):e(t)}}function vn(t){return function(e,n,r,i){var a=Tn(r);return null==r&&a===ae?Re(e,n,t):$e(e,n,a(r,i,1),t)}}function wn(t,e,n,r,i,a,s,o){var l=e&S;if(!l&&"function"!=typeof t)throw new Kr(D);var u=r?r.length:0;if(u||(e&=~(C|j),r=i=x),u-=i?i.length:0,e&j){var c=r,d=i;r=i=x}var p=l?x:Vi(t);return n=[t,e,n,r,i,c,d,a,s,o],p&&(r=n[1],e=p[1],o=r|e,i=e==P&&r==k||e==P&&r==A&&n[7].length<=p[8]||e==(P|A)&&r==k,(P>o||i)&&(e&T&&(n[2]=p[2],o|=r&T?0:_),(r=p[3])&&(i=n[3],n[3]=i?Ge(i,r,p[4]):Gt(r),n[4]=i?m(n[3],R):Gt(p[4])),(r=p[5])&&(i=n[5],n[5]=i?We(i,r,p[6]):Gt(r),n[6]=i?m(n[5],R):Gt(p[6])),(r=p[7])&&(n[7]=Gt(r)),e&P&&(n[8]=null==n[8]?p[8]:ki(n[8],p[8])),null==n[9]&&(n[9]=p[9]),n[0]=p[0],n[1]=o),e=n[1],o=n[9]),n[9]=null==o?l?0:t.length:_i(o-u,0)||0,t=e==T?Ye(n[0],n[2]):e!=C&&e!=(T|C)||n[4].length?fn.apply(x,n):mn.apply(x,n),(p?Wi:qi)(t,n)}function yn(t,e,n,r,i,a,s){var o=-1,l=t.length,u=e.length;if(l!=u&&(!i||l>=u))return!1;for(;++o<l;){var c=t[o],u=e[o],d=r?r(i?u:c,i?c:u,o):x;if(d!==x){if(d)continue;return!1}if(i){if(!Qt(e,function(t){return c===t||n(c,t,r,i,a,s)}))return!1}else if(c!==u&&!n(c,u,r,i,a,s))return!1}return!0}function xn(t,e,n){switch(n){case H:case G:return+t==+e;case W:return t.name==e.name&&t.message==e.message;case U:return t!=+t?e!=+e:t==+e;case X:case Y:return t==e+""}return!1}function bn(t,e,n,r,i,a,s){var o=Wa(t),l=o.length,u=Wa(e).length;if(l!=u&&!i)return!1;for(u=l;u--;){var c=o[u];if(!(i?c in e:ri.call(e,c)))return!1}for(var d=i;++u<l;){var c=o[u],p=t[c],f=e[c],h=r?r(i?f:p,i?p:f,c):x;if(h===x?!n(p,f,r,i,a,s):!h)return!1;d||(d="constructor"==c)}return d||(n=t.constructor,r=e.constructor,!(n!=r&&"constructor"in t&&"constructor"in e)||"function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)?!0:!1}function Tn(t,e,n){var r=Bt.callback||Br,r=r===Br?ae:r;return n?r(t,e,n):r}function Sn(t){for(var e=t.name+"",n=zi[e],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function _n(t,e,r){var i=Bt.indexOf||Xn,i=i===Xn?n:i;return t?i(t,e,r):i}function kn(t){t=Ar(t);for(var e=t.length;e--;){var n,r=t[e];n=t[e][1],n=n===n&&!wr(n),r[2]=n}return t}function En(t,e){var n=null==t?x:t[e];return yr(n)?n:x}function Cn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ri.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function jn(t){return t=t.constructor,"function"==typeof t&&t instanceof t||(t=Xr),new t}function Pn(t,e,n){var r=t.constructor;switch(e){case J:return He(t);case H:case G:return new r(+t);case K:case Z:case Q:case tt:case et:case nt:case rt:case it:case at:return r instanceof r&&(r=Bi[e]),e=t.buffer,new r(n?He(e):e,t.byteOffset,t.length);case U:case Y:return new r(t);case X:var i=new r(t.source,_t.exec(t));i.lastIndex=t.lastIndex}return i}function An(t,e,n){return null==t||On(e,t)||(e=Gn(e),t=1==e.length?t:we(t,Ae(e,0,-1)),e=Yn(e)),e=null==t?t:t[e],null==e?x:e.apply(t,n)}function In(t){return null!=t&&Bn(Ui(t))}function Mn(t,e){return t="number"==typeof t||Ct.test(t)?+t:-1,e=null==e?Li:e,t>-1&&0==t%1&&e>t}function Ln(t,e,n){if(!wr(n))return!1;var r=typeof e;return("number"==r?In(n)&&Mn(e,n.length):"string"==r&&e in n)?(e=n[e],t===t?t===e:e!==e):!1}function On(t,e){var n=typeof t;return"string"==n&&vt.test(t)||"number"==n?!0:La(t)?!1:!gt.test(t)||null!=e&&t in Hn(e)}function zn(t){var e=Sn(t),n=Bt[e];return"function"==typeof n&&e in Rt.prototype?t===n?!0:(e=Vi(n),!!e&&t===e[0]):!1}function Bn(t){return"number"==typeof t&&t>-1&&0==t%1&&Li>=t}function Nn(t,e){return t===x?e:Oa(t,e,Nn)}function Dn(t,e){t=Hn(t);for(var n=-1,r=e.length,i={};++n<r;){var a=e[n];a in t&&(i[a]=t[a])}return i}function Rn(t,e){var n={};return he(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function $n(t){for(var e=Pr(t),n=e.length,r=n&&t.length,i=!!r&&Bn(r)&&(La(t)||hr(t)||Sr(t)),a=-1,s=[];++a<n;){var o=e[a];(i&&Mn(o,r)||ri.call(t,o))&&s.push(o)}return s}function Fn(t){return null==t?[]:In(t)?Bt.support.unindexedChars&&Sr(t)?t.split(""):wr(t)?t:Xr(t):Ir(t)}function Hn(t){if(Bt.support.unindexedChars&&Sr(t)){for(var e=-1,n=t.length,r=Xr(t);++e<n;)r[e]=t.charAt(e);return r}return wr(t)?t:Xr(t)}function Gn(t){if(La(t))return t;var e=[];return i(t).replace(wt,function(t,n,r,i){e.push(r?i.replace(Tt,"$1"):n||t)}),e}function Wn(t){return t instanceof Rt?t.clone():new Dt(t.__wrapped__,t.__chain__,Gt(t.__actions__))}function Vn(t,e,n){return t&&t.length?((n?Ln(t,e,n):null==e)&&(e=1),Ae(t,0>e?0:e)):[]}function Un(t,e,n){var r=t?t.length:0;return r?((n?Ln(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ae(t,0,0>e?0:e)):[]}function qn(t){return t?t[0]:x}function Xn(t,e,r){var i=t?t.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?_i(i+r,0):r;else if(r)return r=Re(t,e),i>r&&(e===e?e===t[r]:t[r]!==t[r])?r:-1;return n(t,e,r||0)}function Yn(t){var e=t?t.length:0;return e?t[e-1]:x}function Jn(t){return Vn(t,1)}function Kn(t,e,r,i){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(i=r,r=Ln(t,e,i)?x:e,e=!1);var a=Tn();if((null!=r||a!==ae)&&(r=a(r,i,3)),e&&_n()===n){e=r;var s;r=-1,i=t.length;for(var a=-1,o=[];++r<i;){var l=t[r],u=e?e(l,r,t):l;r&&s===u||(s=u,o[++a]=l)}t=o}else t=ze(t,r);return t}function Zn(t){if(!t||!t.length)return[];var e=-1,n=0;t=Ut(t,function(t){return In(t)?(n=_i(t.length,n),!0):void 0});for(var r=Hr(n);++e<n;)r[e]=Jt(t,ke(e));return r}function Qn(t,e,n){return t&&t.length?(t=Zn(t),null==e?t:(e=Fe(e,n,4),Jt(t,function(t){return Zt(t,e,x,!0)}))):[]}function tr(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||La(t[0])||(e=[]);++n<r;){var a=t[n];e?i[a]=e[n]:a&&(i[a[0]]=a[1])}return i}function er(t){return t=Bt(t),t.__chain__=!0,t}function nr(t,e,n){return e.call(n,t)}function rr(t,e,n){var r=La(t)?Vt:ue;return n&&Ln(t,e,n)&&(e=x),("function"!=typeof e||n!==x)&&(e=Tn(e,n,3)),r(t,e)}function ir(t,e,n){var r=La(t)?Ut:de;return e=Tn(e,n,3),r(t,e)}function ar(t,e,n,r){var i=t?Ui(t):0;return Bn(i)||(t=Ir(t),i=t.length),n="number"!=typeof n||r&&Ln(e,n,r)?0:0>n?_i(i+n,0):n||0,"string"==typeof t||!La(t)&&Sr(t)?i>=n&&-1<t.indexOf(e,n):!!i&&-1<_n(t,e,n)}function sr(t,e,n){var r=La(t)?Jt:be;return e=Tn(e,n,3),r(t,e)}function or(t,e,n){if(n?Ln(t,e,n):null==e){t=Fn(t);var r=t.length;return r>0?t[je(0,r-1)]:x}n=-1,t=Er(t);var r=t.length,i=r-1;for(e=ki(0>e?0:+e||0,r);++n<e;){var r=je(n,i),a=t[r];t[r]=t[n],t[n]=a}return t.length=e,t}function lr(t,e,n){var r=La(t)?Qt:Ie;return n&&Ln(t,e,n)&&(e=x),("function"!=typeof e||n!==x)&&(e=Tn(e,n,3)),r(t,e)}function ur(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Kr(D);var r=t;t=e,e=r}return function(){return 0<--t&&(n=e.apply(this,arguments)),1>=t&&(e=x),n}}function cr(t,e,n){function r(e,n){n&&ui(n),l=p=f=x,e&&(h=ya(),u=t.apply(d,o),p||l||(o=d=x))}function i(){var t=e-(ya()-c);0>=t||t>e?r(f,l):p=hi(i,t)}function a(){r(g,p)}function s(){if(o=arguments,c=ya(),d=this,f=g&&(p||!v),!1===m)var n=v&&!p;else{l||v||(h=c);var r=m-(c-h),s=0>=r||r>m;s?(l&&(l=ui(l)),h=c,u=t.apply(d,o)):l||(l=hi(a,r))}return s&&p?p=ui(p):p||e===m||(p=hi(i,e)),n&&(s=!0,u=t.apply(d,o)),!s||p||l||(o=d=x),u}var o,l,u,c,d,p,f,h=0,m=!1,g=!0;if("function"!=typeof t)throw new Kr(D);if(e=0>e?0:+e||0,!0===n)var v=!0,g=!1;else wr(n)&&(v=!!n.leading,m="maxWait"in n&&_i(+n.maxWait||0,e),g="trailing"in n?!!n.trailing:g);return s.cancel=function(){p&&ui(p),l&&ui(l),h=0,l=p=f=x},s}function dr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Kr(D);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;return a.has(i)?a.get(i):(r=t.apply(this,r),n.cache=a.set(i,r),r)};return n.cache=new dr.Cache,n}function pr(t,e){if("function"!=typeof t)throw new Kr(D);return e=_i(e===x?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=_i(n.length-e,0),a=Hr(i);++r<i;)a[r]=n[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}for(i=Hr(e+1),r=-1;++r<e;)i[r]=n[r];return i[e]=a,t.apply(this,i)}}function fr(t,e){return t>e}function hr(t){return f(t)&&In(t)&&ri.call(t,"callee")&&!pi.call(t,"callee")}function mr(t,e,n,r){return r=(n="function"==typeof n?Fe(n,r,3):x)?n(t,e):x,r===x?ye(t,e,n):!!r}function gr(t){return f(t)&&"string"==typeof t.message&&ai.call(t)==W}function vr(t){return wr(t)&&ai.call(t)==V}function wr(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function yr(t){return null==t?!1:vr(t)?oi.test(ni.call(t)):f(t)&&(Xt(t)?oi:Et).test(t)}function xr(t){return"number"==typeof t||f(t)&&ai.call(t)==U}function br(t){var e;if(!f(t)||ai.call(t)!=q||Xt(t)||hr(t)||!(ri.call(t,"constructor")||(e=t.constructor,"function"!=typeof e||e instanceof e)))return!1;var n;return Bt.support.ownLast?(he(t,function(t,e,r){return n=ri.call(r,e),!1}),!1!==n):(he(t,function(t,e){n=e}),n===x||ri.call(t,n))}function Tr(t){return wr(t)&&ai.call(t)==X}function Sr(t){return"string"==typeof t||f(t)&&ai.call(t)==Y}function _r(t){return f(t)&&Bn(t.length)&&!!Ot[ai.call(t)]}function kr(t,e){return e>t}function Er(t){var e=t?Ui(t):0;return Bn(e)?e?Bt.support.unindexedChars&&Sr(t)?t.split(""):Gt(t):[]:Ir(t)}function Cr(t){return ie(t,Pr(t))}function jr(t){return ve(t,Pr(t))}function Pr(t){if(null==t)return[];wr(t)||(t=Xr(t));for(var e=t.length,n=Bt.support,e=e&&Bn(e)&&(La(t)||hr(t)||Sr(t))&&e||0,r=t.constructor,i=-1,r=vr(r)&&r.prototype||ti,a=r===t,s=Hr(e),o=e>0,l=n.enumErrorProps&&(t===Qr||t instanceof Wr),u=n.enumPrototypes&&vr(t);++i<e;)s[i]=i+"";for(var c in t)u&&"prototype"==c||l&&("message"==c||"name"==c)||o&&Mn(c,e)||"constructor"==c&&(a||!ri.call(t,c))||s.push(c);if(n.nonEnumShadows&&t!==ti)for(e=t===ei?Y:t===Qr?W:ai.call(t),n=Ni[e]||Ni[q],e==q&&(r=ti),e=Lt.length;e--;)c=Lt[e],i=n[c],a&&i||(i?!ri.call(t,c):t[c]===r[c])||s.push(c);return s}function Ar(t){t=Hn(t);for(var e=-1,n=Wa(t),r=n.length,i=Hr(r);++e<r;){var a=n[e];i[e]=[a,t[a]]}return i}function Ir(t){return Be(t,Wa(t))}function Mr(t){return(t=i(t))&&t.replace(jt,l).replace(bt,"")}function Lr(t,e){var n="";if(t=i(t),e=+e,1>e||!t||!Ti(e))return n;do e%2&&(n+=t),e=xi(e/2),t+=t;while(e);return n}function Or(t,e,n){var r=t;return(t=i(t))?(n?Ln(r,e,n):null==e)?t.slice(g(t),v(t)+1):(e+="",t.slice(a(t,e),s(t,e)+1)):t}function zr(t,e,n){return n&&Ln(t,e,n)&&(e=x),t=i(t),t.match(e||It)||[]}function Br(t,e,n){return n&&Ln(t,e,n)&&(e=x),f(t)?Dr(t):ae(t,e)}function Nr(t){return t}function Dr(t){return Te(se(t,!0))}function Rr(t,e,n){if(null==n){var r=wr(e),i=r?Wa(e):x;((i=i&&i.length?ve(e,i):x)?i.length:r)||(i=!1,n=e,e=t,t=this)}i||(i=ve(e,Wa(e)));var a=!0,r=-1,s=vr(t),o=i.length;!1===n?a=!1:wr(n)&&"chain"in n&&(a=n.chain);for(;++r<o;){n=i[r];var l=e[n];t[n]=l,s&&(t.prototype[n]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__);return(r.__actions__=Gt(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,Kt([this.value()],arguments))}}(l))}return t}function $r(){}function Fr(t){return On(t)?ke(t):Ee(t)}h=h?Yt.defaults(qt.Object(),h,Yt.pick(qt,Mt)):qt;var Hr=h.Array,Gr=h.Date,Wr=h.Error,Vr=h.Function,Ur=h.Math,qr=h.Number,Xr=h.Object,Yr=h.RegExp,Jr=h.String,Kr=h.TypeError,Zr=Hr.prototype,Qr=Wr.prototype,ti=Xr.prototype,ei=Jr.prototype,ni=Vr.prototype.toString,ri=ti.hasOwnProperty,ii=0,ai=ti.toString,si=qt._,oi=Yr("^"+ni.call(ri).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),li=h.ArrayBuffer,ui=h.clearTimeout,ci=h.parseFloat,di=Ur.pow,pi=ti.propertyIsEnumerable,fi=En(h,"Set"),hi=h.setTimeout,mi=Zr.splice,gi=h.Uint8Array,vi=En(h,"WeakMap"),wi=Ur.ceil,yi=En(Xr,"create"),xi=Ur.floor,bi=En(Hr,"isArray"),Ti=h.isFinite,Si=En(Xr,"keys"),_i=Ur.max,ki=Ur.min,Ei=En(Gr,"now"),Ci=h.parseInt,ji=Ur.random,Pi=qr.NEGATIVE_INFINITY,Ai=qr.POSITIVE_INFINITY,Ii=4294967294,Mi=2147483647,Li=9007199254740991,Oi=vi&&new vi,zi={},Bi={};Bi[K]=h.Float32Array,Bi[Z]=h.Float64Array,Bi[Q]=h.Int8Array,Bi[tt]=h.Int16Array,Bi[et]=h.Int32Array,Bi[nt]=gi,Bi[rt]=h.Uint8ClampedArray,Bi[it]=h.Uint16Array,Bi[at]=h.Uint32Array;var Ni={};Ni[F]=Ni[G]=Ni[U]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ni[H]=Ni[Y]={constructor:!0,toString:!0,valueOf:!0},Ni[W]=Ni[V]=Ni[X]={constructor:!0,toString:!0},Ni[q]={constructor:!0},Wt(Lt,function(t){for(var e in Ni)if(ri.call(Ni,e)){var n=Ni[e];n[t]=ri.call(n,t)}});var Di=Bt.support={};!function(t){var e=function(){this.x=t},n={0:t,length:t},r=[];e.prototype={valueOf:t,y:t};for(var i in new e)r.push(i);Di.enumErrorProps=pi.call(Qr,"message")||pi.call(Qr,"name"),Di.enumPrototypes=pi.call(e,"prototype"),Di.nonEnumShadows=!/valueOf/.test(r),Di.ownLast="x"!=r[0],Di.spliceObjects=(mi.call(n,0,1),!n[0]),Di.unindexedChars="xx"!="x"[0]+Xr("x")[0]}(1,0),Bt.templateSettings={escape:ft,evaluate:ht,interpolate:mt,variable:"",imports:{_:Bt}};var Ri=function(){function t(){}return function(e){if(wr(e)){t.prototype=e;var n=new t;t.prototype=x}return n||{}}}(),$i=qe(me),Fi=qe(ge,!0),Hi=Xe(),Gi=Xe(!0),Wi=Oi?function(t,e){return Oi.set(t,e),t}:Nr,Vi=Oi?function(t){return Oi.get(t)}:$r,Ui=ke("length"),qi=function(){var t=0,e=0;return function(n,r){var i=ya(),a=O-(i-e);if(e=i,a>0){if(++t>=L)return n}else t=0;return Wi(n,r)}}(),Xi=pr(function(t,e){return f(t)&&In(t)?le(t,fe(e,!1,!0)):[]}),Yi=nn(),Ji=nn(!0),Ki=pr(function(t){for(var e=t.length,r=e,i=Hr(c),a=_n(),s=a===n,o=[];r--;){var l=t[r]=In(l=t[r])?l:[];i[r]=s&&120<=l.length&&yi&&fi?new Ft(r&&l):null}var s=t[0],u=-1,c=s?s.length:0,d=i[0];t:for(;++u<c;)if(l=s[u],0>(d?Ht(d,l):a(o,l,0))){for(r=e;--r;){var p=i[r];if(0>(p?Ht(p,l):a(t[r],l,0)))continue t}d&&d.push(l),o.push(l)}return o}),Zi=pr(function(e,n){n=fe(n);var r=re(e,n);return Ce(e,n.sort(t)),r}),Qi=vn(),ta=vn(!0),ea=pr(function(t){return ze(fe(t,!1,!0))}),na=pr(function(t,e){return In(t)?le(t,e):[]}),ra=pr(Zn),ia=pr(function(t){var e=t.length,n=e>2?t[e-2]:x,r=e>1?t[e-1]:x;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):x,r=x),t.length=e,Qn(t,n,r)}),aa=pr(function(t){return t=fe(t),this.thru(function(e){e=La(e)?e:[Hn(e)];for(var n=t,r=-1,i=e.length,a=-1,s=n.length,o=Hr(i+s);++r<i;)o[r]=e[r];for(;++a<s;)o[r++]=n[a];return o})}),sa=pr(function(t,e){return In(t)&&(t=Fn(t)),re(t,fe(e))}),oa=Ve(function(t,e,n){ri.call(t,n)?++t[n]:t[n]=1}),la=en($i),ua=en(Fi,!0),ca=sn(Wt,$i),da=sn(function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t},Fi),pa=Ve(function(t,e,n){ri.call(t,n)?t[n].push(e):t[n]=[e]}),fa=Ve(function(t,e,n){t[n]=e}),ha=pr(function(t,e,n){var r=-1,i="function"==typeof e,a=On(e),s=In(t)?Hr(t.length):[];return $i(t,function(t){var o=i?e:a&&null!=t?t[e]:x;s[++r]=o?o.apply(t,n):An(t,e,n)}),s}),ma=Ve(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ga=pn(Zt,$i),va=pn(function(t,e,n,r){
var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n},Fi),wa=pr(function(t,e){if(null==t)return[];var n=e[2];return n&&Ln(e[0],e[1],n)&&(e.length=1),Le(t,fe(e),[])}),ya=Ei||function(){return(new Gr).getTime()},xa=pr(function(t,e,n){var r=T;if(n.length)var i=m(n,xa.placeholder),r=r|C;return wn(t,r,e,n,i)}),ba=pr(function(t,e){e=e.length?fe(e):jr(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=wn(t[i],T,t)}return t}),Ta=pr(function(t,e,n){var r=T|S;if(n.length)var i=m(n,Ta.placeholder),r=r|C;return wn(e,r,t,n,i)}),Sa=Ze(k),_a=Ze(E),ka=pr(function(t,e){return oe(t,1,e)}),Ea=pr(function(t,e,n){return oe(t,e,n)}),Ca=an(),ja=an(!0),Pa=pr(function(t,e){if(e=fe(e),"function"!=typeof t||!Vt(e,r))throw new Kr(D);var n=e.length;return pr(function(r){for(var i=ki(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})}),Aa=dn(C),Ia=dn(j),Ma=pr(function(t,e){return wn(t,A,x,x,x,fe(e))}),La=bi||function(t){return f(t)&&Bn(t.length)&&ai.call(t)==F},Oa=Ue(_e),za=Ue(function(t,e,n){return n?ee(t,e,n):ne(t,e)}),Ba=Qe(za,function(t,e){return t===x?e:t}),Na=Qe(Oa,Nn),Da=rn(me),Ra=rn(ge),$a=on(Hi),Fa=on(Gi),Ha=ln(me),Ga=ln(ge),Wa=Si?function(t){var e=null==t?x:t.constructor;return"function"==typeof e&&e.prototype===t||("function"==typeof t?Bt.support.enumPrototypes:In(t))?$n(t):wr(t)?Si(t):[]}:$n,Va=un(!0),Ua=un(),qa=pr(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=Jt(fe(e),Jr),Dn(t,le(Pr(t),e));var n=Fe(e[0],e[1],3);return Rn(t,function(t,e,r){return!n(t,e,r)})}),Xa=pr(function(t,e){return null==t?{}:"function"==typeof e[0]?Rn(t,Fe(e[0],e[1],3)):Dn(t,fe(e))}),Ya=Je(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Ja=Je(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ka=cn(),Za=cn(!0),Qa=Je(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),ts=Je(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),es=pr(function(t,e){try{return t.apply(x,e)}catch(n){return gr(n)?n:new Wr(n)}}),ns=pr(function(t,e){return function(n){return An(n,t,e)}}),rs=pr(function(t,e){return function(n){return An(t,n,e)}}),is=gn("ceil"),as=gn("floor"),ss=tn(fr,Pi),os=tn(kr,Ai),ls=gn("round");return Bt.prototype=Nt.prototype,Dt.prototype=Ri(Nt.prototype),Dt.prototype.constructor=Dt,Rt.prototype=Ri(Nt.prototype),Rt.prototype.constructor=Rt,$t.prototype["delete"]=function(t){return this.has(t)&&delete this.__data__[t]},$t.prototype.get=function(t){return"__proto__"==t?x:this.__data__[t]},$t.prototype.has=function(t){return"__proto__"!=t&&ri.call(this.__data__,t)},$t.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Ft.prototype.push=function(t){var e=this.data;"string"==typeof t||wr(t)?e.set.add(t):e.hash[t]=!0},dr.Cache=$t,Bt.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Kr(D);var n=t;t=e,e=n}return t=Ti(t=+t)?t:0,function(){return 1>--t?e.apply(this,arguments):void 0}},Bt.ary=function(t,e,n){return n&&Ln(t,e,n)&&(e=x),e=t&&null==e?t.length:_i(+e||0,0),wn(t,P,x,x,x,x,e)},Bt.assign=za,Bt.at=sa,Bt.before=ur,Bt.bind=xa,Bt.bindAll=ba,Bt.bindKey=Ta,Bt.callback=Br,Bt.chain=er,Bt.chunk=function(t,e,n){e=(n?Ln(t,e,n):null==e)?1:_i(xi(e)||1,1),n=0;for(var r=t?t.length:0,i=-1,a=Hr(wi(r/e));r>n;)a[++i]=Ae(t,n,n+=e);return a},Bt.compact=function(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var a=t[e];a&&(i[++r]=a)}return i},Bt.constant=function(t){return function(){return t}},Bt.countBy=oa,Bt.create=function(t,e,n){var r=Ri(t);return n&&Ln(t,e,n)&&(e=x),e?ne(r,e):r},Bt.curry=Sa,Bt.curryRight=_a,Bt.debounce=cr,Bt.defaults=Ba,Bt.defaultsDeep=Na,Bt.defer=ka,Bt.delay=Ea,Bt.difference=Xi,Bt.drop=Vn,Bt.dropRight=Un,Bt.dropRightWhile=function(t,e,n){return t&&t.length?Ne(t,Tn(e,n,3),!0,!0):[]},Bt.dropWhile=function(t,e,n){return t&&t.length?Ne(t,Tn(e,n,3),!0):[]},Bt.fill=function(t,e,n,r){var i=t?t.length:0;if(!i)return[];for(n&&"number"!=typeof n&&Ln(t,e,n)&&(n=0,r=i),i=t.length,n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===x||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)t[n++]=e;return t},Bt.filter=ir,Bt.flatten=function(t,e,n){var r=t?t.length:0;return n&&Ln(t,e,n)&&(e=!1),r?fe(t,e):[]},Bt.flattenDeep=function(t){return t&&t.length?fe(t,!0):[]},Bt.flow=Ca,Bt.flowRight=ja,Bt.forEach=ca,Bt.forEachRight=da,Bt.forIn=$a,Bt.forInRight=Fa,Bt.forOwn=Ha,Bt.forOwnRight=Ga,Bt.functions=jr,Bt.groupBy=pa,Bt.indexBy=fa,Bt.initial=function(t){return Un(t,1)},Bt.intersection=Ki,Bt.invert=function(t,e,n){n&&Ln(t,e,n)&&(e=x),n=-1;for(var r=Wa(t),i=r.length,a={};++n<i;){var s=r[n],o=t[s];e?ri.call(a,o)?a[o].push(s):a[o]=[s]:a[o]=s}return a},Bt.invoke=ha,Bt.keys=Wa,Bt.keysIn=Pr,Bt.map=sr,Bt.mapKeys=Va,Bt.mapValues=Ua,Bt.matches=Dr,Bt.matchesProperty=function(t,e){return Se(t,se(e,!0))},Bt.memoize=dr,Bt.merge=Oa,Bt.method=ns,Bt.methodOf=rs,Bt.mixin=Rr,Bt.modArgs=Pa,Bt.negate=function(t){if("function"!=typeof t)throw new Kr(D);return function(){return!t.apply(this,arguments)}},Bt.omit=qa,Bt.once=function(t){return ur(2,t)},Bt.pairs=Ar,Bt.partial=Aa,Bt.partialRight=Ia,Bt.partition=ma,Bt.pick=Xa,Bt.pluck=function(t,e){return sr(t,Fr(e))},Bt.property=Fr,Bt.propertyOf=function(t){return function(e){return we(t,Gn(e),e+"")}},Bt.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=_n(),i=t.length;++n<i;)for(var a=0,s=t[n];-1<(a=r(e,s,a));)mi.call(e,a,1);return e},Bt.pullAt=Zi,Bt.range=function(t,e,n){n&&Ln(t,e,n)&&(e=n=x),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;var r=-1;e=_i(wi((e-t)/(n||1)),0);for(var i=Hr(e);++r<e;)i[r]=t,t+=n;return i},Bt.rearg=Ma,Bt.reject=function(t,e,n){var r=La(t)?Ut:de;return e=Tn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})},Bt.remove=function(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,a=[],s=t.length;for(e=Tn(e,n,3);++i<s;)n=t[i],e(n,i,t)&&(r.push(n),a.push(i));return Ce(t,a),r},Bt.rest=Jn,Bt.restParam=pr,Bt.set=function(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||On(e,t)?[r]:Gn(e);for(var r=-1,i=e.length,a=i-1,s=t;null!=s&&++r<i;){var o=e[r];wr(s)&&(r==a?s[o]=n:null==s[o]&&(s[o]=Mn(e[r+1])?[]:{})),s=s[o]}return t},Bt.shuffle=function(t){return or(t,Ai)},Bt.slice=function(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Ln(t,e,n)&&(e=0,n=r),Ae(t,e,n)):[]},Bt.sortBy=function(t,e,n){if(null==t)return[];n&&Ln(t,e,n)&&(e=x);var r=-1;return e=Tn(e,n,3),t=be(t,function(t,n,i){return{a:e(t,n,i),b:++r,c:t}}),Me(t,o)},Bt.sortByAll=wa,Bt.sortByOrder=function(t,e,n,r){return null==t?[]:(r&&Ln(e,n,r)&&(n=x),La(e)||(e=null==e?[]:[e]),La(n)||(n=null==n?[]:[n]),Le(t,e,n))},Bt.spread=function(t){if("function"!=typeof t)throw new Kr(D);return function(e){return t.apply(this,e)}},Bt.take=function(t,e,n){return t&&t.length?((n?Ln(t,e,n):null==e)&&(e=1),Ae(t,0,0>e?0:e)):[]},Bt.takeRight=function(t,e,n){var r=t?t.length:0;return r?((n?Ln(t,e,n):null==e)&&(e=1),e=r-(+e||0),Ae(t,0>e?0:e)):[]},Bt.takeRightWhile=function(t,e,n){return t&&t.length?Ne(t,Tn(e,n,3),!1,!0):[]},Bt.takeWhile=function(t,e,n){return t&&t.length?Ne(t,Tn(e,n,3)):[]},Bt.tap=function(t,e,n){return e.call(n,t),t},Bt.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Kr(D);return!1===n?r=!1:wr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),cr(t,e,{leading:r,maxWait:+e,trailing:i})},Bt.thru=nr,Bt.times=function(t,e,n){if(t=xi(t),1>t||!Ti(t))return[];var r=-1,i=Hr(ki(t,4294967295));for(e=Fe(e,n,1);++r<t;)4294967295>r?i[r]=e(r):e(r);return i},Bt.toArray=Er,Bt.toPlainObject=Cr,Bt.transform=function(t,e,n,r){var i=La(t)||_r(t);return e=Tn(e,r,4),null==n&&(i||wr(t)?(r=t.constructor,n=i?La(t)?new r:[]:Ri(vr(r)?r.prototype:x)):n={}),(i?Wt:me)(t,function(t,r,i){return e(n,t,r,i)}),n},Bt.union=ea,Bt.uniq=Kn,Bt.unzip=Zn,Bt.unzipWith=Qn,Bt.values=Ir,Bt.valuesIn=function(t){return Be(t,Pr(t))},Bt.where=function(t,e){return ir(t,Te(e))},Bt.without=na,Bt.wrap=function(t,e){return e=null==e?Nr:e,wn(e,C,x,[t],[])},Bt.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(In(n))var r=r?Kt(le(r,n),le(n,r)):n}return r?ze(r):[]},Bt.zip=ra,Bt.zipObject=tr,Bt.zipWith=ia,Bt.backflow=ja,Bt.collect=sr,Bt.compose=ja,Bt.each=ca,Bt.eachRight=da,Bt.extend=za,Bt.iteratee=Br,Bt.methods=jr,Bt.object=tr,Bt.select=ir,Bt.tail=Jn,Bt.unique=Kn,Rr(Bt,Bt),Bt.add=function(t,e){return(+t||0)+(+e||0)},Bt.attempt=es,Bt.camelCase=Ya,Bt.capitalize=function(t){return(t=i(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Bt.ceil=is,Bt.clone=function(t,e,n,r){return e&&"boolean"!=typeof e&&Ln(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?se(t,e,Fe(n,r,3)):se(t,e)},Bt.cloneDeep=function(t,e,n){return"function"==typeof e?se(t,!0,Fe(e,n,3)):se(t,!0)},Bt.deburr=Mr,Bt.endsWith=function(t,e,n){t=i(t),e+="";var r=t.length;return n=n===x?r:ki(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n},Bt.escape=function(t){return(t=i(t))&&pt.test(t)?t.replace(ct,u):t},Bt.escapeRegExp=function(t){return(t=i(t))&&xt.test(t)?t.replace(yt,c):t||"(?:)"},Bt.every=rr,Bt.find=la,Bt.findIndex=Yi,Bt.findKey=Da,Bt.findLast=ua,Bt.findLastIndex=Ji,Bt.findLastKey=Ra,Bt.findWhere=function(t,e){return la(t,Te(e))},Bt.first=qn,Bt.floor=as,Bt.get=function(t,e,n){return t=null==t?x:we(t,Gn(e),e+""),t===x?n:t},Bt.gt=fr,Bt.gte=function(t,e){return t>=e},Bt.has=function(t,e){if(null==t)return!1;var n=ri.call(t,e);if(!n&&!On(e)){if(e=Gn(e),t=1==e.length?t:we(t,Ae(e,0,-1)),null==t)return!1;e=Yn(e),n=ri.call(t,e)}return n||Bn(t.length)&&Mn(e,t.length)&&(La(t)||hr(t)||Sr(t))},Bt.identity=Nr,Bt.includes=ar,Bt.indexOf=Xn,Bt.inRange=function(t,e,n){return e=+e||0,n===x?(n=e,e=0):n=+n||0,t>=ki(e,n)&&t<_i(e,n)},Bt.isArguments=hr,Bt.isArray=La,Bt.isBoolean=function(t){return!0===t||!1===t||f(t)&&ai.call(t)==H},Bt.isDate=function(t){return f(t)&&ai.call(t)==G},Bt.isElement=function(t){return!!t&&1===t.nodeType&&f(t)&&!br(t)},Bt.isEmpty=function(t){return null==t?!0:In(t)&&(La(t)||Sr(t)||hr(t)||f(t)&&vr(t.splice))?!t.length:!Wa(t).length},Bt.isEqual=mr,Bt.isError=gr,Bt.isFinite=function(t){return"number"==typeof t&&Ti(t)},Bt.isFunction=vr,Bt.isMatch=function(t,e,n,r){return n="function"==typeof n?Fe(n,r,3):x,xe(t,kn(e),n)},Bt.isNaN=function(t){return xr(t)&&t!=+t},Bt.isNative=yr,Bt.isNull=function(t){return null===t},Bt.isNumber=xr,Bt.isObject=wr,Bt.isPlainObject=br,Bt.isRegExp=Tr,Bt.isString=Sr,Bt.isTypedArray=_r,Bt.isUndefined=function(t){return t===x},Bt.kebabCase=Ja,Bt.last=Yn,Bt.lastIndexOf=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?_i(r+n,0):ki(n||0,r-1))+1;else if(n)return i=Re(t,e,!0)-1,t=t[i],(e===e?e===t:t!==t)?i:-1;if(e!==e)return p(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1},Bt.lt=kr,Bt.lte=function(t,e){return e>=t},Bt.max=ss,Bt.min=os,Bt.noConflict=function(){return qt._=si,this},Bt.noop=$r,Bt.now=ya,Bt.pad=function(t,e,n){t=i(t),e=+e;var r=t.length;return e>r&&Ti(e)?(r=(e-r)/2,e=xi(r),r=wi(r),n=hn("",r,n),n.slice(0,e)+t+n):t},Bt.padLeft=Ka,Bt.padRight=Za,Bt.parseInt=function(t,e,n){return(n?Ln(t,e,n):null==e)?e=0:e&&(e=+e),t=Or(t),Ci(t,e||(kt.test(t)?16:10))},Bt.random=function(t,e,n){n&&Ln(t,e,n)&&(e=n=x);var r=null==t,i=null==e;return null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1?(n=ji(),ki(t+n*(e-t+ci("1e-"+((n+"").length-1))),e)):je(t,e)},Bt.reduce=ga,Bt.reduceRight=va,Bt.repeat=Lr,Bt.result=function(t,e,n){var r=null==t?x:Hn(t)[e];return r===x&&(null==t||On(e,t)||(e=Gn(e),t=1==e.length?t:we(t,Ae(e,0,-1)),r=null==t?x:Hn(t)[Yn(e)]),r=r===x?n:r),vr(r)?r.call(t):r},Bt.round=ls,Bt.runInContext=y,Bt.size=function(t){var e=t?Ui(t):0;return Bn(e)?e:Wa(t).length},Bt.snakeCase=Qa,Bt.some=lr,Bt.sortedIndex=Qi,Bt.sortedLastIndex=ta,Bt.startCase=ts,Bt.startsWith=function(t,e,n){return t=i(t),n=null==n?0:ki(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n},Bt.sum=function(t,e,n){if(n&&Ln(t,e,n)&&(e=x),e=Tn(e,n,3),1==e.length){t=La(t)?t:Fn(t),n=t.length;for(var r=0;n--;)r+=+e(t[n])||0;t=r}else t=Oe(t,e);return t},Bt.template=function(t,e,n){var r=Bt.templateSettings;n&&Ln(t,e,n)&&(e=n=x),t=i(t),e=ee(ne({},n||e),r,te),n=ee(ne({},e.imports),r.imports,te);var a,s,o=Wa(n),l=Be(n,o),u=0;n=e.interpolate||Pt;var c="__p+='";n=Yr((e.escape||Pt).source+"|"+n.source+"|"+(n===mt?St:Pt).source+"|"+(e.evaluate||Pt).source+"|$","g");var p="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(n,function(e,n,r,i,o,l){return r||(r=i),c+=t.slice(u,l).replace(At,d),n&&(a=!0,c+="'+__e("+n+")+'"),o&&(s=!0,c+="';"+o+";\n__p+='"),r&&(c+="'+((__t=("+r+"))==null?'':__t)+'"),u=l+e.length,e}),c+="';",(e=e.variable)||(c="with(obj){"+c+"}"),c=(s?c.replace(st,""):c).replace(ot,"$1").replace(lt,"$1;"),c="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(a?",__e=_.escape":"")+(s?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",e=es(function(){return Vr(o,p+"return "+c).apply(x,l)}),e.source=c,gr(e))throw e;return e},Bt.trim=Or,Bt.trimLeft=function(t,e,n){var r=t;return(t=i(t))?t.slice((n?Ln(r,e,n):null==e)?g(t):a(t,e+"")):t},Bt.trimRight=function(t,e,n){var r=t;return(t=i(t))?(n?Ln(r,e,n):null==e)?t.slice(0,v(t)+1):t.slice(0,s(t,e+"")+1):t},Bt.trunc=function(t,e,n){n&&Ln(t,e,n)&&(e=x);var r=I;if(n=M,null!=e)if(wr(e)){var a="separator"in e?e.separator:a,r="length"in e?+e.length||0:r;n="omission"in e?i(e.omission):n}else r=+e||0;if(t=i(t),r>=t.length)return t;if(r-=n.length,1>r)return n;if(e=t.slice(0,r),null==a)return e+n;if(Tr(a)){if(t.slice(r).search(a)){var s,o=t.slice(0,r);for(a.global||(a=Yr(a.source,(_t.exec(a)||"")+"g")),a.lastIndex=0;t=a.exec(o);)s=t.index;e=e.slice(0,null==s?r:s)}}else t.indexOf(a,r)!=r&&(a=e.lastIndexOf(a),a>-1&&(e=e.slice(0,a)));return e+n},Bt.unescape=function(t){return(t=i(t))&&dt.test(t)?t.replace(ut,w):t},Bt.uniqueId=function(t){var e=++ii;return i(t)+e},Bt.words=zr,Bt.all=rr,Bt.any=lr,Bt.contains=ar,Bt.eq=mr,Bt.detect=la,Bt.foldl=ga,Bt.foldr=va,Bt.head=qn,Bt.include=ar,Bt.inject=ga,Rr(Bt,function(){var t={};return me(Bt,function(e,n){Bt.prototype[n]||(t[n]=e)}),t}(),!1),Bt.sample=or,Bt.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return or(e,t)}):or(this.value())},Bt.VERSION=b,Wt("bind bindKey curry curryRight partial partialRight".split(" "),function(t){Bt[t].placeholder=Bt}),Wt(["drop","take"],function(t,e){Rt.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new Rt(this);n=null==n?1:_i(xi(n)||0,0);var i=this.clone();return r?i.__takeCount__=ki(i.__takeCount__,n):i.__views__.push({size:n,type:t+(0>i.__dir__?"Right":"")}),i},Rt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Wt(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=N;Rt.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:Tn(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),Wt(["first","last"],function(t,e){var n="take"+(e?"Right":"");Rt.prototype[t]=function(){return this[n](1).value()[0]}}),Wt(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Rt.prototype[t]=function(){return this.__filtered__?new Rt(this):this[n](1)}}),Wt(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?Te:Fr;Rt.prototype[t]=function(t){return this[n](r(t))}}),Rt.prototype.compact=function(){return this.filter(Nr)},Rt.prototype.reject=function(t,e){return t=Tn(t,e,1),this.filter(function(e){return!t(e)})},Rt.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||0>e)?new Rt(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==x&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n)},Rt.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Rt.prototype.toArray=function(){return this.take(Ai)},me(Rt.prototype,function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),r=/^(?:first|last)$/.test(e),i=Bt[r?"take"+("last"==e?"Right":""):e];i&&(Bt.prototype[e]=function(){var e=r?[1]:arguments,a=this.__chain__,s=this.__wrapped__,o=!!this.__actions__.length,l=s instanceof Rt,u=e[0],c=l||La(s);c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=function(t){return r&&a?i(t,1)[0]:i.apply(x,Kt([t],e))},u={func:nr,args:[d],thisArg:x},o=l&&!o;return r&&!a?o?(s=s.clone(),s.__actions__.push(u),t.call(s)):i.call(x,this.value())[0]:!r&&c?(s=o?s:new Rt(this),s=t.apply(s,e),s.__actions__.push(u),new Dt(s,a)):this.thru(d)})}),Wt("join pop push replace shift sort splice split unshift".split(" "),function(t){var e=(/^(?:replace|split)$/.test(t)?ei:Zr)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=!Di.spliceObjects&&/^(?:pop|shift|splice)$/.test(t),i=/^(?:join|pop|replace|shift)$/.test(t),a=r?function(){var t=e.apply(this,arguments);return 0===this.length&&delete this[0],t}:e;Bt.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?a.apply(this.value(),t):this[n](function(e){return a.apply(e,t)})}}),me(Rt.prototype,function(t,e){var n=Bt[e];if(n){var r=n.name+"";(zi[r]||(zi[r]=[])).push({name:e,func:n})}}),zi[fn(x,S).name]=[{name:"wrapper",func:x}],Rt.prototype.clone=function(){var t=new Rt(this.__wrapped__);return t.__actions__=Gt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Gt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Gt(this.__views__),t},Rt.prototype.reverse=function(){if(this.__filtered__){var t=new Rt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Rt.prototype.value=function(){var t,e=this.__wrapped__.value(),n=this.__dir__,r=La(e),i=0>n,a=r?e.length:0;t=0;for(var s=a,o=this.__views__,l=-1,u=o.length;++l<u;){var c=o[l],d=c.size;switch(c.type){case"drop":t+=d;break;case"dropRight":s-=d;break;case"take":s=ki(s,t+d);break;case"takeRight":t=_i(t,s-d)}}if(t={start:t,end:s},s=t.start,o=t.end,t=o-s,i=i?o:s-1,s=this.__iteratees__,o=s.length,l=0,u=ki(t,this.__takeCount__),!r||z>a||a==t&&u==t)return De(e,this.__actions__);r=[];t:for(;t--&&u>l;){for(i+=n,a=-1,c=e[i];++a<o;){var p=s[a],d=p.type,p=p.iteratee(c);if(d==N)c=p;else if(!p){if(d==B)continue t;break t}}r[l++]=c}return r},Bt.prototype.chain=function(){return er(this)},Bt.prototype.commit=function(){return new Dt(this.value(),this.__chain__)},Bt.prototype.concat=aa,Bt.prototype.plant=function(t){for(var e,n=this;n instanceof Nt;){var r=Wn(n);e?i.__wrapped__=r:e=r;var i=r,n=n.__wrapped__}return i.__wrapped__=t,e},Bt.prototype.reverse=function(){var t=this.__wrapped__,e=function(t){return t.reverse()};return t instanceof Rt?(this.__actions__.length&&(t=new Rt(this)),t=t.reverse(),t.__actions__.push({func:nr,args:[e],thisArg:x}),new Dt(t,this.__chain__)):this.thru(e)},Bt.prototype.toString=function(){return this.value()+""},Bt.prototype.run=Bt.prototype.toJSON=Bt.prototype.valueOf=Bt.prototype.value=function(){return De(this.__wrapped__,this.__actions__)},Bt.prototype.collect=Bt.prototype.map,Bt.prototype.head=Bt.prototype.first,Bt.prototype.select=Bt.prototype.filter,Bt.prototype.tail=Bt.prototype.rest,Bt}var x,b="3.10.1",T=1,S=2,_=4,k=8,E=16,C=32,j=64,P=128,A=256,I=30,M="...",L=150,O=16,z=200,B=1,N=2,D="Expected a function",R="__lodash_placeholder__",$="[object Arguments]",F="[object Array]",H="[object Boolean]",G="[object Date]",W="[object Error]",V="[object Function]",U="[object Number]",q="[object Object]",X="[object RegExp]",Y="[object String]",J="[object ArrayBuffer]",K="[object Float32Array]",Z="[object Float64Array]",Q="[object Int8Array]",tt="[object Int16Array]",et="[object Int32Array]",nt="[object Uint8Array]",rt="[object Uint8ClampedArray]",it="[object Uint16Array]",at="[object Uint32Array]",st=/\b__p\+='';/g,ot=/\b(__p\+=)''\+/g,lt=/(__e\(.*?\)|\b__t\))\+'';/g,ut=/&(?:amp|lt|gt|quot|#39|#96);/g,ct=/[&<>"'`]/g,dt=RegExp(ut.source),pt=RegExp(ct.source),ft=/<%-([\s\S]+?)%>/g,ht=/<%([\s\S]+?)%>/g,mt=/<%=([\s\S]+?)%>/g,gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,vt=/^\w*$/,wt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,yt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,xt=RegExp(yt.source),bt=/[\u0300-\u036f\ufe20-\ufe23]/g,Tt=/\\(\\)?/g,St=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_t=/\w*$/,kt=/^0[xX]/,Et=/^\[object .+?Constructor\]$/,Ct=/^\d+$/,jt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Pt=/($^)/,At=/['\n\r\u2028\u2029\\]/g,It=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Mt="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ot={};Ot[K]=Ot[Z]=Ot[Q]=Ot[tt]=Ot[et]=Ot[nt]=Ot[rt]=Ot[it]=Ot[at]=!0,Ot[$]=Ot[F]=Ot[J]=Ot[H]=Ot[G]=Ot[W]=Ot[V]=Ot["[object Map]"]=Ot[U]=Ot[q]=Ot[X]=Ot["[object Set]"]=Ot[Y]=Ot["[object WeakMap]"]=!1;var zt={};zt[$]=zt[F]=zt[J]=zt[H]=zt[G]=zt[K]=zt[Z]=zt[Q]=zt[tt]=zt[et]=zt[U]=zt[q]=zt[X]=zt[Y]=zt[nt]=zt[rt]=zt[it]=zt[at]=!0,zt[W]=zt[V]=zt["[object Map]"]=zt["[object Set]"]=zt["[object WeakMap]"]=!1;var Bt={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Dt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Rt={"function":!0,object:!0},$t={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ht=Rt[typeof exports]&&exports&&!exports.nodeType&&exports,Gt=Rt[typeof module]&&module&&!module.nodeType&&module,Wt=Rt[typeof self]&&self&&self.Object&&self,Vt=Rt[typeof window]&&window&&window.Object&&window,Ut=Gt&&Gt.exports===Ht&&Ht,qt=Ht&&Gt&&"object"==typeof global&&global&&global.Object&&global||Vt!==(this&&this.window)&&Vt||Wt||this,Xt=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),Yt=y();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(qt._=Yt,define(function(){return Yt})):Ht&&Gt?Ut?(Gt.exports=Yt)._=Yt:Ht._=Yt:qt._=Yt}).call(this)}(),function(){!function(t){function e(e){var n=e.length,r=typeof e;return h(r)||e===t?!1:1===e.nodeType&&n?!0:m(r)||0===n||"number"==typeof n&&n>0&&n-1 in e}function n(t,e){var n,r;this.originalEvent=t,r=function(t,e){this[t]="preventDefault"===t?function(){return this.defaultPrevented=!0,e[t]()}:"stopImmediatePropagation"===t?function(){return this.immediatePropagationStopped=!0,e[t]()}:h(e[t])?function(){return e[t]()}:e[t]};for(n in t)(t[n]||"function"==typeof t[n])&&r.call(this,n,t);g.extend(this,e,{isImmediatePropagationStopped:function(){return!!this.immediatePropagationStopped}})}var r,i=t.$,a=t.jBone,s=/^<(\w+)\s*\/?>$/,o=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=[].slice,u=[].splice,c=Object.keys,d=document,p=function(t){return"string"==typeof t},f=function(t){return t instanceof Object},h=function(t){return"[object Function]"==={}.toString.call(t)},m=function(t){return Array.isArray(t)},g=function(t,e){return new r.init(t,e)};g.noConflict=function(){return t.$=i,t.jBone=a,g},r=g.fn=g.prototype={init:function(t,e){var n,r,i,a;if(!t)return this;if(p(t)){if(r=s.exec(t))return this[0]=d.createElement(r[1]),this.length=1,f(e)&&this.attr(e),this;if((r=o.exec(t))&&r[1]){for(a=d.createDocumentFragment(),i=d.createElement("div"),i.innerHTML=t;i.lastChild;)a.appendChild(i.firstChild);return n=l.call(a.childNodes),g.merge(this,n)}if(g.isElement(e))return g(e).find(t);try{return n=d.querySelectorAll(t),g.merge(this,n)}catch(u){return this}}return t.nodeType?(this[0]=t,this.length=1,this):h(t)?t():t instanceof g?t:g.makeArray(t,this)},pop:[].pop,push:[].push,reverse:[].reverse,shift:[].shift,sort:[].sort,splice:[].splice,slice:[].slice,indexOf:[].indexOf,forEach:[].forEach,unshift:[].unshift,concat:[].concat,join:[].join,every:[].every,some:[].some,filter:[].filter,map:[].map,reduce:[].reduce,reduceRight:[].reduceRight,length:0},r.constructor=g,r.init.prototype=r,g.setId=function(e){var n=e.jid;e===t?n="window":void 0===e.jid&&(e.jid=n=++g._cache.jid),g._cache.events[n]||(g._cache.events[n]={})},g.getData=function(e){e=e instanceof g?e[0]:e;var n=e===t?"window":e.jid;return{jid:n,events:g._cache.events[n]}},g.isElement=function(t){return t&&t instanceof g||t instanceof HTMLElement||p(t)},g._cache={events:{},jid:0},r.pushStack=function(t){var e=g.merge(this.constructor(),t);return e},g.merge=function(t,e){for(var n=e.length,r=t.length,i=0;n>i;)t[r++]=e[i++];return t.length=r,t},g.contains=function(t,e){return t.contains(e)},g.extend=function(t){var e;return u.call(arguments,1).forEach(function(n){if(e=t,n)for(var r in n)e[r]=n[r]}),t},g.makeArray=function(t,n){var r=n||[];return null!==t&&(e(t)?g.merge(r,p(t)?[t]:t):r.push(t)),r},g.unique=function(t){if(null==t)return[];for(var e=[],n=0,r=t.length;r>n;n++){var i=t[n];e.indexOf(i)<0&&e.push(i)}return e},g.Event=function(t,e){var n,r;return t.type&&!e&&(e=t,t=t.type),n=t.split(".").splice(1).join("."),r=t.split(".")[0],t=d.createEvent("Event"),t.initEvent(r,!0,!0),g.extend(t,{namespace:n,isDefaultPrevented:function(){return t.defaultPrevented}},e)},g.event={add:function(t,e,n,r,i){g.setId(t);var a,s,o,l=function(e){g.event.dispatch.call(t,e)},u=g.getData(t).events;for(e=e.split(" "),s=e.length;s--;)o=e[s],a=o.split(".")[0],u[a]=u[a]||[],u[a].length?l=u[a][0].fn:t.addEventListener&&t.addEventListener(a,l,!1),u[a].push({namespace:o.split(".").splice(1).join("."),fn:l,selector:i,data:r,originfn:n})},remove:function(t,e,n){var r,i,a=function(t,e,r,i,a){var s;(n&&a.originfn===n||!n)&&(s=a.fn),t[e][r].fn===s&&(t[e].splice(r,1),t[e].length||i.removeEventListener(e,s))},s=g.getData(t).events;return s?!e&&s?c(s).forEach(function(e){for(i=s[e],r=i.length;r--;)a(s,e,r,t,i[r])}):void e.split(" ").forEach(function(e){var n,o=e.split(".")[0],l=e.split(".").splice(1).join(".");if(s[o])for(i=s[o],r=i.length;r--;)n=i[r],(!l||l&&n.namespace===l)&&a(s,o,r,t,n);else l&&c(s).forEach(function(e){for(i=s[e],r=i.length;r--;)n=i[r],n.namespace.split(".")[0]===l.split(".")[0]&&a(s,e,r,t,n)})}):void 0},trigger:function(t,e){var n=[];p(e)?n=e.split(" ").map(function(t){return g.Event(t)}):(e=e instanceof Event?e:g.Event(e),n=[e]),n.forEach(function(e){e.type&&t.dispatchEvent&&t.dispatchEvent(e)})},dispatch:function(t){for(var e,r,i,a,s,o=0,l=0,u=this,c=g.getData(u).events[t.type],d=c.length,p=[],f=[];d>o;o++)p.push(c[o]);for(o=0,d=p.length;d>o&&~c.indexOf(p[o])&&(!a||!a.isImmediatePropagationStopped());o++)if(r=null,s={},i=p[o],i.data&&(s.data=i.data),i.selector){if(~(f=g(u).find(i.selector)).indexOf(t.target)&&(r=t.target)||u!==t.target&&u.contains(t.target)){if(!r)for(e=f.length,l=0;e>l;l++)f[l]&&f[l].contains(t.target)&&(r=f[l]);if(!r)continue;s.currentTarget=r,a=new n(t,s),t.namespace&&t.namespace!==i.namespace||i.originfn.call(r,a)}}else a=new n(t,s),t.namespace&&t.namespace!==i.namespace||i.originfn.call(u,a)}},r.on=function(t,e,n,r){var i=this.length,a=0;if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),!r)return this;for(;i>a;a++)g.event.add(this[a],t,r,n,e);return this},r.one=function(t){var e,n=arguments,r=0,i=this.length,a=l.call(n,1,n.length-1),s=l.call(n,-1)[0];for(e=function(e){var n=g(e);t.split(" ").forEach(function(t){var r=function(i){n.off(t,r),s.call(e,i)};n.on.apply(n,[t].concat(a,r))})};i>r;r++)e(this[r]);return this},r.trigger=function(t){var e=0,n=this.length;if(!t)return this;for(;n>e;e++)g.event.trigger(this[e],t);return this},r.off=function(t,e){for(var n=0,r=this.length;r>n;n++)g.event.remove(this[n],t,e);return this},r.find=function(t){for(var e=[],n=0,r=this.length,i=function(n){h(n.querySelectorAll)&&[].forEach.call(n.querySelectorAll(t),function(t){e.push(t)})};r>n;n++)i(this[n]);return g(e)},r.get=function(t){return null!=t?0>t?this[t+this.length]:this[t]:l.call(this)},r.eq=function(t){return g(this[t])},r.parent=function(){for(var t,e=[],n=0,r=this.length;r>n;n++)!~e.indexOf(t=this[n].parentElement)&&t&&e.push(t);return g(e)},r.toArray=function(){return l.call(this)},r.is=function(){var t=arguments;return this.some(function(e){return e.tagName.toLowerCase()===t[0]})},r.has=function(){var t=arguments;return this.some(function(e){return e.querySelectorAll(t[0]).length})},r.add=function(t,e){return this.pushStack(g.unique(g.merge(this.get(),g(t,e))))},r.attr=function(t,e){var n,r=arguments,i=0,a=this.length;if(p(t)&&1===r.length)return this[0]&&this[0].getAttribute(t);for(2===r.length?n=function(n){n.setAttribute(t,e)}:f(t)&&(n=function(e){c(t).forEach(function(n){e.setAttribute(n,t[n])})});a>i;i++)n(this[i]);return this},r.removeAttr=function(t){for(var e=0,n=this.length;n>e;e++)this[e].removeAttribute(t);return this},r.val=function(t){var e=0,n=this.length;if(0===arguments.length)return this[0]&&this[0].value;for(;n>e;e++)this[e].value=t;return this},r.css=function(e,n){var r,i=arguments,a=0,s=this.length;if(p(e)&&1===i.length)return this[0]&&t.getComputedStyle(this[0])[e];for(2===i.length?r=function(t){t.style[e]=n}:f(e)&&(r=function(t){c(e).forEach(function(n){t.style[n]=e[n]})});s>a;a++)r(this[a]);return this},r.data=function(t,e){var n,r=arguments,i={},a=0,s=this.length,o=function(t,e,n){f(n)?(t.jdata=t.jdata||{},t.jdata[e]=n):t.dataset[e]=n},l=function(t){return"true"===t?!0:"false"===t?!1:t};if(0===r.length)return this[0].jdata&&(i=this[0].jdata),c(this[0].dataset).forEach(function(t){i[t]=l(this[0].dataset[t])},this),i;if(1===r.length&&p(t))return this[0]&&l(this[0].dataset[t]||this[0].jdata&&this[0].jdata[t]);for(1===r.length&&f(t)?n=function(e){c(t).forEach(function(n){o(e,n,t[n])})}:2===r.length&&(n=function(n){o(n,t,e)});s>a;a++)n(this[a]);return this},r.removeData=function(t){for(var e,n,r=0,i=this.length;i>r;r++)if(e=this[r].jdata,n=this[r].dataset,t)e&&e[t]&&delete e[t],delete n[t];else{for(t in e)delete e[t];for(t in n)delete n[t]}return this},r.addClass=function(t){for(var e=0,n=0,r=this.length,i=t?t.trim().split(/\s+/):[];r>e;e++)for(n=0,n=0;n<i.length;n++)this[e].classList.add(i[n]);return this},r.removeClass=function(t){for(var e=0,n=0,r=this.length,i=t?t.trim().split(/\s+/):[];r>e;e++)for(n=0,n=0;n<i.length;n++)this[e].classList.remove(i[n]);return this},r.toggleClass=function(t,e){var n=0,r=this.length,i="toggle";if(e===!0&&(i="add")||e===!1&&(i="remove"),t)for(;r>n;n++)this[n].classList[i](t);return this},r.hasClass=function(t){var e=0,n=this.length;if(t)for(;n>e;e++)if(this[e].classList.contains(t))return!0;return!1},r.html=function(t){var e,n=arguments;return 1===n.length&&void 0!==t?this.empty().append(t):0===n.length&&(e=this[0])?e.innerHTML:this},r.append=function(t){var e,n=0,r=this.length;for(p(t)&&o.exec(t)?t=g(t):f(t)||(t=document.createTextNode(t)),t=t instanceof g?t:g(t),e=function(e,n){t.forEach(function(t){e.appendChild(n?t.cloneNode(!0):t)})};r>n;n++)e(this[n],n);return this},r.appendTo=function(t){return g(t).append(this),this},r.empty=function(){for(var t,e=0,n=this.length;n>e;e++)for(t=this[e];t.lastChild;)t.removeChild(t.lastChild);return this},r.remove=function(){var t,e=0,n=this.length;for(this.off();n>e;e++)t=this[e],delete t.jdata,t.parentNode&&t.parentNode.removeChild(t);
return this},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=g:"function"==typeof define&&define.amd?(define(function(){return g}),t.jBone=t.$=g):"object"==typeof t&&"object"==typeof t.document&&(t.jBone=t.$=g)}(window)}(),function(){(function(){var t,e,n,r,i,a,s,o,l,u,c,d,p,f,h=[].slice;i="3.0.0",e="pending",r="resolved",n="rejected",l=function(t,e){return null!=t?t.hasOwnProperty(e):void 0},c=function(t){return l(t,"length")&&l(t,"callee")},d=function(t){return l(t,"promise")&&"function"==typeof(null!=t?t.promise:void 0)},o=function(t){return c(t)?o(Array.prototype.slice.call(t)):Array.isArray(t)?t.reduce(function(t,e){return Array.isArray(e)?t.concat(o(e)):(t.push(e),t)},[]):[t]},a=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},p=function(t,e){return function(){var n;return n=[t].concat(Array.prototype.slice.call(arguments,0)),e.apply(this,n)}},s=function(t,e,n){var r,i,a,s,l;for(s=o(t),l=[],i=0,a=s.length;a>i;i++)r=s[i],l.push(r.call.apply(r,[n].concat(h.call(e))));return l},t=function(){var i,a,l,u,c,p,f;return f=e,u=[],c=[],p=[],l={resolved:{},rejected:{},pending:{}},this.promise=function(i){var a,m;return i=i||{},i.state=function(){return f},m=function(t,n,r){return function(){return f===e&&n.push.apply(n,o(arguments)),t()&&s(arguments,l[r]),i}},i.done=m(function(){return f===r},u,r),i.fail=m(function(){return f===n},c,n),i.progress=m(function(){return f!==e},p,e),i.always=function(){var t;return(t=i.done.apply(i,arguments)).fail.apply(t,arguments)},a=function(e,n,r){var a,s;return s=new t,a=function(t,e,n){return n?i[t](function(){var t,r;return t=1<=arguments.length?h.call(arguments,0):[],r=n.apply(null,t),d(r)?r.done(s.resolve).fail(s.reject).progress(s.notify):s[e](r)}):i[t](s[e])},a("done","resolve",e),a("fail","reject",n),a("progress","notify",r),s},i.pipe=a,i.then=a,null==i.promise&&(i.promise=function(){return i}),i},this.promise(this),i=this,a=function(t,n,r){return function(){return f===e?(f=t,l[t]=arguments,s(n,l[t],r),i):this}},this.resolve=a(r,u),this.reject=a(n,c),this.notify=a(e,p),this.resolveWith=function(t,e){return a(r,u,t).apply(null,e)},this.rejectWith=function(t,e){return a(n,c,t).apply(null,e)},this.notifyWith=function(t,n){return a(e,p,t).apply(null,n)},this},f=function(){var e,n,r,i,s,l,u;if(n=o(arguments),1===n.length)return d(n[0])?n[0]:(new t).resolve(n[0]).promise();if(s=new t,!n.length)return s.resolve().promise();for(i=[],r=a(n.length,function(){return s.resolve.apply(s,i)}),n.forEach(function(t,e){return d(t)?t.done(function(){var t;return t=1<=arguments.length?h.call(arguments,0):[],i[e]=t.length>1?t:t[0],r()}):(i[e]=t,r())}),l=0,u=n.length;u>l;l++)e=n[l],d(e)&&e.fail(s.reject);return s.promise()},u=function(e){return e.Deferred=function(){return new t},e.ajax=p(e.ajax,function(e,n){var r,i,a,s;return null==n&&(n={}),i=new t,r=function(t,e){return p(t,function(){var t,n;return n=arguments[0],t=2<=arguments.length?h.call(arguments,1):[],n&&n.apply(null,t),e.apply(null,t)})},n.success=r(n.success,i.resolve),n.error=r(n.error,i.reject),s=e(n),a=i.promise(),a.abort=function(){return s.abort()},a}),e.when=f},"undefined"!=typeof exports?(exports.Deferred=function(){return new t},exports.when=f,exports.installInto=u):"function"==typeof define&&define.amd?define(function(){return"undefined"!=typeof Zepto?u(Zepto):(t.when=f,t.installInto=u,t)}):"undefined"!=typeof Zepto?u(Zepto):(this.Deferred=function(){return new t},this.Deferred.when=f,this.Deferred.installInto=u)}).call(this)}(),function(){!function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if("undefined"!=typeof exports){var n,r=require("underscore");try{n=require("jquery")}catch(i){}t(e,exports,r,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,n,r){var i=t.Backbone,a=Array.prototype.slice;e.VERSION="1.2.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],l(t,this),i)};case 4:return function(t,i,a){return n[e](this[r],l(t,this),i,a)};default:return function(){var t=a.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},o=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=s(e,i,r))})},l=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},d=/\s+/,p=function(t,e,r,i,a){var s,o=0;if(r&&"object"==typeof r){void 0!==i&&"context"in a&&void 0===a.context&&(a.context=i);for(s=n.keys(r);o<s.length;o++)e=p(t,e,s[o],r[s[o]],a)}else if(r&&d.test(r))for(s=r.split(d);o<s.length;o++)e=t(e,s[o],i,a);else e=t(e,r,i,a);return e};c.on=function(t,e,n){return f(this,t,e,n)};var f=function(t,e,n,r,i){if(t._events=p(h,t._events||{},e,n,{context:r,ctx:t,listening:i}),i){var a=t._listeners||(t._listeners={});a[i.id]=i}return t};c.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),s=a[i];if(!s){var o=this._listenId||(this._listenId=n.uniqueId("l"));s=a[i]={obj:t,objId:i,id:o,listeningTo:a,count:0}}return f(t,e,r,this,s),this};var h=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),a=r.context,s=r.ctx,o=r.listening;o&&o.count++,i.push({callback:n,context:a,ctx:a||s,listening:o})}return t};c.off=function(t,e,n){return this._events?(this._events=p(m,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var a=t?[t._listenId]:n.keys(i),s=0;s<a.length;s++){var o=i[a[s]];if(!o)break;o.obj.off(e,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var m=function(t,e,r,i){if(t){var a,s=0,o=i.context,l=i.listeners;if(e||r||o){for(var u=e?[e]:n.keys(t);s<u.length;s++){e=u[s];var c=t[e];if(!c)break;for(var d=[],p=0;p<c.length;p++){var f=c[p];r&&r!==f.callback&&r!==f.callback._callback||o&&o!==f.context?d.push(f):(a=f.listening,a&&0===--a.count&&(delete l[a.id],delete a.listeningTo[a.objId]))}d.length?t[e]=d:delete t[e]}return n.size(t)?t:void 0}for(var h=n.keys(l);s<h.length;s++)a=l[h[s]],delete l[a.id],delete a.listeningTo[a.objId]}};c.once=function(t,e,r){var i=p(g,{},t,e,n.bind(this.off,this));return this.on(i,void 0,r)},c.listenToOnce=function(t,e,r){var i=p(g,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var g=function(t,e,r,i){if(r){var a=t[e]=n.once(function(){i(e,a),r.apply(this,arguments)});a._callback=r}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;e>r;r++)n[r]=arguments[r+1];return p(v,this._events,t,void 0,n),this};var v=function(t,e,n,r){if(t){var i=t[e],a=t.all;i&&a&&(a=a.slice()),i&&w(i,r),a&&w(a,[e].concat(r))}return t},w=function(t,e){var n,r=-1,i=t.length,a=e[0],s=e[1],o=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,a);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,a,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,a,s,o);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var y=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var a=r.unset,s=r.silent,o=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,d=this._previousAttributes;for(var p in i)e=i[p],n.isEqual(u[p],e)||o.push(p),n.isEqual(d[p],e)?delete c[p]:c[p]=e,a?delete u[p]:u[p]=e;if(this.id=this.get(this.idAttribute),!s){o.length&&(this._pending=r);for(var f=0;f<o.length;f++)this.trigger("change:"+o[f],this,u[o[f]],r)}if(l)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var a=t[i];n.isEqual(e[i],a)||(r[i]=a)}return n.size(r)?r:!1},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;return e.set(i,t)?(r&&r.call(t.context,e,n,t),void e.trigger("sync",e,n,t)):!1},F(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var a=r.wait;if(i&&!a){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var s=this,o=r.success,l=this.attributes;r.success=function(t){s.attributes=l;var e=r.parse?s.parse(t,r):t;return a&&(e=n.extend({},i,e)),e&&!s.set(e,r)?!1:(o&&o.call(r.context,s,t,r),void s.trigger("sync",s,t,r))},F(this,r),i&&a&&(this.attributes=n.extend({},l,i));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=i);var c=this.sync(u,this,r);return this.attributes=l,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,a=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&a(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(F(this,t),s=this.sync("delete",this,t)),i||a(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||$();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var x={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(y,x,"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},T={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},_=function(t,e,n){n=Math.min(Math.max(n,0),t.length);for(var r=Array(t.length-n),i=e.length,a=0;a<r.length;a++)r[a]=t[a+n];for(a=0;i>a;a++)t[a+n]=e[a];for(a=0;a<r.length;a++)t[a+i+n]=r[a]};n.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,S))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:n.clone(t);var i=this._removeModels(t,e);return!e.silent&&i&&this.trigger("update",this,e),r?i[0]:i},set:function(t,e){if(null!=t){e=n.defaults({},e,T),e.parse&&!this._isModel(t)&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),0>i&&(i+=this.length+1);for(var a,s=[],o=[],l=[],u={},c=e.add,d=e.merge,p=e.remove,f=!1,h=this.comparator&&null==i&&e.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,g=0;g<t.length;g++){a=t[g];var v=this.get(a);if(v){if(d&&a!==v){var w=this._isModel(a)?a.attributes:a;e.parse&&(w=v.parse(w,e)),v.set(w,e),h&&!f&&(f=v.hasChanged(m))}u[v.cid]||(u[v.cid]=!0,s.push(v)),t[g]=v}else c&&(a=t[g]=this._prepareModel(a,e),a&&(o.push(a),this._addReference(a,e),u[a.cid]=!0,s.push(a)))}if(p){for(g=0;g<this.length;g++)a=this.models[g],u[a.cid]||l.push(a);l.length&&this._removeModels(l,e)}var y=!1,x=!h&&c&&p;if(s.length&&x?(y=this.length!=s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,_(this.models,s,0),this.length=this.models.length):o.length&&(h&&(f=!0),_(this.models,o,null==i?this.length:i),this.length=this.models.length),f&&this.sort({silent:!0}),!e.silent){for(g=0;g<o.length;g++)null!=i&&(e.index=i+g),a=o[g],a.trigger("add",a,this,e);(f||y)&&this.trigger("sort",this,e),(o.length||l.length)&&this.trigger("update",this,e)}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null==t)return void 0;var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(t=this._prepareModel(t,e),!t)return!1;r||this.add(t,e);var i=this,a=e.success;return e.success=function(t,e,n){r&&i.add(t,n),a&&a.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var a=this.indexOf(i);this.models.splice(a,1),this.length--,e.silent||(e.index=a,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n.length?n:!1},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),a=this.modelId(e.attributes);i!==a&&(null!=i&&delete this._byId[i],null!=a&&(this._byId[a]=e))}this.trigger.apply(this,arguments)}}});var k={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};o(b,k,"models");var E=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,j)),this._ensureElement(),this.initialize.apply(this,arguments)},C=/^(\S+)\s*(.*)$/,j=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(C);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var a=P[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:a,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||$()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){s.type="POST",i.emulateJSON&&(s.data._method=a);var o=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",a),o?o.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var l=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,l&&l.call(i.context,t,e,n)};var u=i.xhr=e.ajax(n.extend(s,i));return r.trigger("request",r,u,i),u};var P={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var A=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,M=/(\(\?)?:\w+/g,L=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(A.prototype,c,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var a=this;return e.history.route(t,function(n){var s=a._extractParameters(t,n);a.execute(i,s,r)!==!1&&(a.trigger.apply(a,["route:"+r].concat(s)),a.trigger("route",r,s),e.history.trigger("route",a,r,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(O,"\\$&").replace(I,"(?:$1)?").replace(M,function(t,e){return e?t:"([^/?]+)"}).replace(L,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var z=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,D=/#.*$/;z.started=!1,n.extend(z.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(B,"")},start:function(t){if(z.started)throw new Error("Backbone.history has already been started");if(z.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var a=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),z.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!z.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;(""===t||"?"===t.charAt(0))&&(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(D,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new z;var R=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var a=function(){this.constructor=r};return a.prototype=i.prototype,r.prototype=new a,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};y.extend=b.extend=A.extend=E.extend=z.extend=R;var $=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e})}(),function(){!function(){"use strict";function t(e,r){function i(t,e){return function(){return t.apply(e,arguments)}}var a;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=e,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!t.notNeeded(e)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],o=this,l=0,u=s.length;u>l;l++)o[s[l]]=i(o[s[l]],o);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):i.call(e,t,n,r)}),"function"==typeof e.onclick&&(a=e.onclick,e.addEventListener("click",function(t){a(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,i=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=r&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(r&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;r&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,a;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],r){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,s,o,l,u,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(u=t.changedTouches[0],c=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),o=c.tagName.toLowerCase(),"label"===o){if(e=this.findControl(c)){if(this.focus(c),n)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-s>100||r&&window.top!==window&&"input"===o?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),r&&"select"===o||(this.targetElement=null,t.preventDefault()),!1);return r&&!i&&(l=c.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:!t.cancelable||this.needsClick(this.targetElement)&&!this.cancelNextClick?!0:(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),
t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,r,i,a;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],a>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}()}(),function(){!function(){"use strict";function t(t){t.fn.swiper=function(e){var r;return t(this).each(function(){var t=new n(this,e);r||(r=t)}),r}}var e,n=function(t,i){function a(){return"horizontal"===w.params.direction}function s(t){return Math.floor(t)}function o(){w.autoplayTimeoutId=setTimeout(function(){w.params.loop?(w.fixLoop(),w._slideNext()):w.isEnd?i.autoplayStopOnLast?w.stopAutoplay():w._slideTo(0):w._slideNext()},w.params.autoplay)}function l(t,n){var r=e(t.target);if(!r.is(n))if("string"==typeof n)r=r.parents(n);else if(n.nodeType){var i;return r.parents().each(function(t,e){e===n&&(i=n)}),i?n:void 0}return 0===r.length?void 0:r[0]}function u(t,e){e=e||{};var n=window.MutationObserver||window.WebkitMutationObserver,r=new n(function(t){t.forEach(function(t){w.onResize(!0),w.emit("onObserverUpdate",w,t)})});r.observe(t,{attributes:"undefined"==typeof e.attributes?!0:e.attributes,childList:"undefined"==typeof e.childList?!0:e.childList,characterData:"undefined"==typeof e.characterData?!0:e.characterData}),w.observers.push(r)}function c(t){t.originalEvent&&(t=t.originalEvent);var e=t.keyCode||t.charCode;if(!w.params.allowSwipeToNext&&(a()&&39===e||!a()&&40===e))return!1;if(!w.params.allowSwipeToPrev&&(a()&&37===e||!a()&&38===e))return!1;if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===e||39===e||38===e||40===e){var n=!1;if(w.container.parents(".swiper-slide").length>0&&0===w.container.parents(".swiper-slide-active").length)return;var r={left:window.pageXOffset,top:window.pageYOffset},i=window.innerWidth,s=window.innerHeight,o=w.container.offset();w.rtl&&(o.left=o.left-w.container[0].scrollLeft);for(var l=[[o.left,o.top],[o.left+w.width,o.top],[o.left,o.top+w.height],[o.left+w.width,o.top+w.height]],u=0;u<l.length;u++){var c=l[u];c[0]>=r.left&&c[0]<=r.left+i&&c[1]>=r.top&&c[1]<=r.top+s&&(n=!0)}if(!n)return}a()?((37===e||39===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),(39===e&&!w.rtl||37===e&&w.rtl)&&w.slideNext(),(37===e&&!w.rtl||39===e&&w.rtl)&&w.slidePrev()):((38===e||40===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),40===e&&w.slideNext(),38===e&&w.slidePrev())}}function d(t){t.originalEvent&&(t=t.originalEvent);var e=w.mousewheel.event,n=0;if(t.detail)n=-t.detail;else if("mousewheel"===e)if(w.params.mousewheelForceToAxis)if(a()){if(!(Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)))return;n=t.wheelDeltaX}else{if(!(Math.abs(t.wheelDeltaY)>Math.abs(t.wheelDeltaX)))return;n=t.wheelDeltaY}else n=t.wheelDelta;else if("DOMMouseScroll"===e)n=-t.detail;else if("wheel"===e)if(w.params.mousewheelForceToAxis)if(a()){if(!(Math.abs(t.deltaX)>Math.abs(t.deltaY)))return;n=-t.deltaX}else{if(!(Math.abs(t.deltaY)>Math.abs(t.deltaX)))return;n=-t.deltaY}else n=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-t.deltaX:-t.deltaY;if(w.params.mousewheelInvert&&(n=-n),w.params.freeMode){var r=w.getWrapperTranslate()+n*w.params.mousewheelSensitivity;if(r>w.minTranslate()&&(r=w.minTranslate()),r<w.maxTranslate()&&(r=w.maxTranslate()),w.setWrapperTransition(0),w.setWrapperTranslate(r),w.updateProgress(),w.updateActiveIndex(),w.params.freeModeSticky&&(clearTimeout(w.mousewheel.timeout),w.mousewheel.timeout=setTimeout(function(){w.slideReset()},300)),0===r||r===w.maxTranslate())return}else{if((new window.Date).getTime()-w.mousewheel.lastScrollTime>60)if(0>n)if(w.isEnd&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slideNext();else if(w.isBeginning&&!w.params.loop||w.animating){if(w.params.mousewheelReleaseOnEdges)return!0}else w.slidePrev();w.mousewheel.lastScrollTime=(new window.Date).getTime()}return w.params.autoplay&&w.stopAutoplay(),t.preventDefault?t.preventDefault():t.returnValue=!1,!1}function p(t,n){t=e(t);var r,i,s;r=t.attr("data-swiper-parallax")||"0",i=t.attr("data-swiper-parallax-x"),s=t.attr("data-swiper-parallax-y"),i||s?(i=i||"0",s=s||"0"):a()?(i=r,s="0"):(s=r,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*n+"%":i*n+"px",s=s.indexOf("%")>=0?parseInt(s,10)*n+"%":s*n+"px",t.transform("translate3d("+i+", "+s+",0px)")}function f(t){return 0!==t.indexOf("on")&&(t=t[0]!==t[0].toUpperCase()?"on"+t[0].toUpperCase()+t.substring(1):"on"+t),t}if(!(this instanceof n))return new n(t,i);var h={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},m=i&&i.virtualTranslate;i=i||{};for(var g in h)if("undefined"==typeof i[g])i[g]=h[g];else if("object"==typeof i[g])for(var v in h[g])"undefined"==typeof i[g][v]&&(i[g][v]=h[g][v]);var w=this;if(w.params=i,w.classNames=[],"undefined"!=typeof e&&"undefined"!=typeof r&&(e=r),("undefined"!=typeof e||(e="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r))&&(w.$=e,w.container=e(t),0!==w.container.length)){if(w.container.length>1)return void w.container.each(function(){new n(this,i)});w.container[0].swiper=w,w.container.data("swiper",w),w.classNames.push("swiper-container-"+w.params.direction),w.params.freeMode&&w.classNames.push("swiper-container-free-mode"),w.support.flexbox||(w.classNames.push("swiper-container-no-flexbox"),w.params.slidesPerColumn=1),(w.params.parallax||w.params.watchSlidesVisibility)&&(w.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(w.params.effect)>=0&&(w.support.transforms3d?(w.params.watchSlidesProgress=!0,w.classNames.push("swiper-container-3d")):w.params.effect="slide"),"slide"!==w.params.effect&&w.classNames.push("swiper-container-"+w.params.effect),"cube"===w.params.effect&&(w.params.resistanceRatio=0,w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.centeredSlides=!1,w.params.spaceBetween=0,w.params.virtualTranslate=!0,w.params.setWrapperSize=!1),"fade"===w.params.effect&&(w.params.slidesPerView=1,w.params.slidesPerColumn=1,w.params.slidesPerGroup=1,w.params.watchSlidesProgress=!0,w.params.spaceBetween=0,"undefined"==typeof m&&(w.params.virtualTranslate=!0)),w.params.grabCursor&&w.support.touch&&(w.params.grabCursor=!1),w.wrapper=w.container.children("."+w.params.wrapperClass),w.params.pagination&&(w.paginationContainer=e(w.params.pagination),w.params.paginationClickable&&w.paginationContainer.addClass("swiper-pagination-clickable")),w.rtl=a()&&("rtl"===w.container[0].dir.toLowerCase()||"rtl"===w.container.css("direction")),w.rtl&&w.classNames.push("swiper-container-rtl"),w.rtl&&(w.wrongRTL="-webkit-box"===w.wrapper.css("display")),w.params.slidesPerColumn>1&&w.classNames.push("swiper-container-multirow"),w.device.android&&w.classNames.push("swiper-container-android"),w.container.addClass(w.classNames.join(" ")),w.translate=0,w.progress=0,w.velocity=0,w.lockSwipeToNext=function(){w.params.allowSwipeToNext=!1},w.lockSwipeToPrev=function(){w.params.allowSwipeToPrev=!1},w.lockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!1},w.unlockSwipeToNext=function(){w.params.allowSwipeToNext=!0},w.unlockSwipeToPrev=function(){w.params.allowSwipeToPrev=!0},w.unlockSwipes=function(){w.params.allowSwipeToNext=w.params.allowSwipeToPrev=!0},w.params.grabCursor&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grab",w.container[0].style.cursor="-moz-grab",w.container[0].style.cursor="grab"),w.imagesToLoad=[],w.imagesLoaded=0,w.loadImage=function(t,e,n,r,i){function a(){i&&i()}var s;t.complete&&r?a():e?(s=new window.Image,s.onload=a,s.onerror=a,n&&(s.srcset=n),e&&(s.src=e)):a()},w.preloadImages=function(){function t(){"undefined"!=typeof w&&null!==w&&(void 0!==w.imagesLoaded&&w.imagesLoaded++,w.imagesLoaded===w.imagesToLoad.length&&(w.params.updateOnImagesReady&&w.update(),w.emit("onImagesReady",w)))}w.imagesToLoad=w.container.find("img");for(var e=0;e<w.imagesToLoad.length;e++)w.loadImage(w.imagesToLoad[e],w.imagesToLoad[e].currentSrc||w.imagesToLoad[e].getAttribute("src"),w.imagesToLoad[e].srcset||w.imagesToLoad[e].getAttribute("srcset"),!0,t)},w.autoplayTimeoutId=void 0,w.autoplaying=!1,w.autoplayPaused=!1,w.startAutoplay=function(){return"undefined"!=typeof w.autoplayTimeoutId?!1:w.params.autoplay?w.autoplaying?!1:(w.autoplaying=!0,w.emit("onAutoplayStart",w),void o()):!1},w.stopAutoplay=function(t){w.autoplayTimeoutId&&(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplaying=!1,w.autoplayTimeoutId=void 0,w.emit("onAutoplayStop",w))},w.pauseAutoplay=function(t){w.autoplayPaused||(w.autoplayTimeoutId&&clearTimeout(w.autoplayTimeoutId),w.autoplayPaused=!0,0===t?(w.autoplayPaused=!1,o()):w.wrapper.transitionEnd(function(){w&&(w.autoplayPaused=!1,w.autoplaying?o():w.stopAutoplay())}))},w.minTranslate=function(){return-w.snapGrid[0]},w.maxTranslate=function(){return-w.snapGrid[w.snapGrid.length-1]},w.updateContainerSize=function(){var t,e;t="undefined"!=typeof w.params.width?w.params.width:w.container[0].clientWidth,e="undefined"!=typeof w.params.height?w.params.height:w.container[0].clientHeight,0===t&&a()||0===e&&!a()||(t=t-parseInt(w.container.css("padding-left"),10)-parseInt(w.container.css("padding-right"),10),e=e-parseInt(w.container.css("padding-top"),10)-parseInt(w.container.css("padding-bottom"),10),w.width=t,w.height=e,w.size=a()?w.width:w.height)},w.updateSlidesSize=function(){w.slides=w.wrapper.children("."+w.params.slideClass),w.snapGrid=[],w.slidesGrid=[],w.slidesSizesGrid=[];var t,e=w.params.spaceBetween,n=-w.params.slidesOffsetBefore,r=0,i=0;"string"==typeof e&&e.indexOf("%")>=0&&(e=parseFloat(e.replace("%",""))/100*w.size),w.virtualSize=-e,w.rtl?w.slides.css({marginLeft:"",marginTop:""}):w.slides.css({marginRight:"",marginBottom:""});var o;w.params.slidesPerColumn>1&&(o=Math.floor(w.slides.length/w.params.slidesPerColumn)===w.slides.length/w.params.slidesPerColumn?w.slides.length:Math.ceil(w.slides.length/w.params.slidesPerColumn)*w.params.slidesPerColumn,"auto"!==w.params.slidesPerView&&"row"===w.params.slidesPerColumnFill&&(o=Math.max(o,w.params.slidesPerView*w.params.slidesPerColumn)));var l,u=w.params.slidesPerColumn,c=o/u,d=c-(w.params.slidesPerColumn*c-w.slides.length);for(t=0;t<w.slides.length;t++){l=0;var p=w.slides.eq(t);if(w.params.slidesPerColumn>1){var f,h,m;"column"===w.params.slidesPerColumnFill?(h=Math.floor(t/u),m=t-h*u,(h>d||h===d&&m===u-1)&&++m>=u&&(m=0,h++),f=h+m*o/u,p.css({"-webkit-box-ordinal-group":f,"-moz-box-ordinal-group":f,"-ms-flex-order":f,"-webkit-order":f,order:f})):(m=Math.floor(t/c),h=t-m*c),p.css({"margin-top":0!==m&&w.params.spaceBetween&&w.params.spaceBetween+"px"}).attr("data-swiper-column",h).attr("data-swiper-row",m)}"none"!==p.css("display")&&("auto"===w.params.slidesPerView?(l=a()?p.outerWidth(!0):p.outerHeight(!0),w.params.roundLengths&&(l=s(l))):(l=(w.size-(w.params.slidesPerView-1)*e)/w.params.slidesPerView,w.params.roundLengths&&(l=s(l)),a()?w.slides[t].style.width=l+"px":w.slides[t].style.height=l+"px"),w.slides[t].swiperSlideSize=l,w.slidesSizesGrid.push(l),w.params.centeredSlides?(n=n+l/2+r/2+e,0===t&&(n=n-w.size/2-e),Math.abs(n)<.001&&(n=0),i%w.params.slidesPerGroup===0&&w.snapGrid.push(n),w.slidesGrid.push(n)):(i%w.params.slidesPerGroup===0&&w.snapGrid.push(n),w.slidesGrid.push(n),n=n+l+e),w.virtualSize+=l+e,r=l,i++)}w.virtualSize=Math.max(w.virtualSize,w.size)+w.params.slidesOffsetAfter;var g;if(w.rtl&&w.wrongRTL&&("slide"===w.params.effect||"coverflow"===w.params.effect)&&w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}),(!w.support.flexbox||w.params.setWrapperSize)&&(a()?w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}):w.wrapper.css({height:w.virtualSize+w.params.spaceBetween+"px"})),w.params.slidesPerColumn>1&&(w.virtualSize=(l+w.params.spaceBetween)*o,w.virtualSize=Math.ceil(w.virtualSize/w.params.slidesPerColumn)-w.params.spaceBetween,w.wrapper.css({width:w.virtualSize+w.params.spaceBetween+"px"}),w.params.centeredSlides)){for(g=[],t=0;t<w.snapGrid.length;t++)w.snapGrid[t]<w.virtualSize+w.snapGrid[0]&&g.push(w.snapGrid[t]);w.snapGrid=g}if(!w.params.centeredSlides){for(g=[],t=0;t<w.snapGrid.length;t++)w.snapGrid[t]<=w.virtualSize-w.size&&g.push(w.snapGrid[t]);w.snapGrid=g,Math.floor(w.virtualSize-w.size)>Math.floor(w.snapGrid[w.snapGrid.length-1])&&w.snapGrid.push(w.virtualSize-w.size)}0===w.snapGrid.length&&(w.snapGrid=[0]),0!==w.params.spaceBetween&&(a()?w.rtl?w.slides.css({marginLeft:e+"px"}):w.slides.css({marginRight:e+"px"}):w.slides.css({marginBottom:e+"px"})),w.params.watchSlidesProgress&&w.updateSlidesOffset()},w.updateSlidesOffset=function(){for(var t=0;t<w.slides.length;t++)w.slides[t].swiperSlideOffset=a()?w.slides[t].offsetLeft:w.slides[t].offsetTop},w.updateSlidesProgress=function(t){if("undefined"==typeof t&&(t=w.translate||0),0!==w.slides.length){"undefined"==typeof w.slides[0].swiperSlideOffset&&w.updateSlidesOffset();var e=-t;w.rtl&&(e=t),w.container[0].getBoundingClientRect(),a()?"left":"top",a()?"right":"bottom",w.slides.removeClass(w.params.slideVisibleClass);for(var n=0;n<w.slides.length;n++){var r=w.slides[n],i=(e-r.swiperSlideOffset)/(r.swiperSlideSize+w.params.spaceBetween);if(w.params.watchSlidesVisibility){var s=-(e-r.swiperSlideOffset),o=s+w.slidesSizesGrid[n],l=s>=0&&s<w.size||o>0&&o<=w.size||0>=s&&o>=w.size;l&&w.slides.eq(n).addClass(w.params.slideVisibleClass)}r.progress=w.rtl?-i:i}}},w.updateProgress=function(t){"undefined"==typeof t&&(t=w.translate||0);var e=w.maxTranslate()-w.minTranslate();0===e?(w.progress=0,w.isBeginning=w.isEnd=!0):(w.progress=(t-w.minTranslate())/e,w.isBeginning=w.progress<=0,w.isEnd=w.progress>=1),w.isBeginning&&w.emit("onReachBeginning",w),w.isEnd&&w.emit("onReachEnd",w),w.params.watchSlidesProgress&&w.updateSlidesProgress(t),w.emit("onProgress",w,w.progress)},w.updateActiveIndex=function(){var t,e,n,r=w.rtl?w.translate:-w.translate;for(e=0;e<w.slidesGrid.length;e++)"undefined"!=typeof w.slidesGrid[e+1]?r>=w.slidesGrid[e]&&r<w.slidesGrid[e+1]-(w.slidesGrid[e+1]-w.slidesGrid[e])/2?t=e:r>=w.slidesGrid[e]&&r<w.slidesGrid[e+1]&&(t=e+1):r>=w.slidesGrid[e]&&(t=e);(0>t||"undefined"==typeof t)&&(t=0),n=Math.floor(t/w.params.slidesPerGroup),n>=w.snapGrid.length&&(n=w.snapGrid.length-1),t!==w.activeIndex&&(w.snapIndex=n,w.previousIndex=w.activeIndex,w.activeIndex=t,w.updateClasses())},w.updateClasses=function(){w.slides.removeClass(w.params.slideActiveClass+" "+w.params.slideNextClass+" "+w.params.slidePrevClass);var t=w.slides.eq(w.activeIndex);if(t.addClass(w.params.slideActiveClass),t.next("."+w.params.slideClass).addClass(w.params.slideNextClass),t.prev("."+w.params.slideClass).addClass(w.params.slidePrevClass),w.bullets&&w.bullets.length>0){w.bullets.removeClass(w.params.bulletActiveClass);var n;w.params.loop?(n=Math.ceil(w.activeIndex-w.loopedSlides)/w.params.slidesPerGroup,n>w.slides.length-1-2*w.loopedSlides&&(n-=w.slides.length-2*w.loopedSlides),n>w.bullets.length-1&&(n-=w.bullets.length)):n="undefined"!=typeof w.snapIndex?w.snapIndex:w.activeIndex||0,w.paginationContainer.length>1?w.bullets.each(function(){e(this).index()===n&&e(this).addClass(w.params.bulletActiveClass)}):w.bullets.eq(n).addClass(w.params.bulletActiveClass)}w.params.loop||(w.params.prevButton&&(w.isBeginning?(e(w.params.prevButton).addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(e(w.params.prevButton))):(e(w.params.prevButton).removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(e(w.params.prevButton)))),w.params.nextButton&&(w.isEnd?(e(w.params.nextButton).addClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.disable(e(w.params.nextButton))):(e(w.params.nextButton).removeClass(w.params.buttonDisabledClass),w.params.a11y&&w.a11y&&w.a11y.enable(e(w.params.nextButton)))))},w.updatePagination=function(){if(w.params.pagination&&w.paginationContainer&&w.paginationContainer.length>0){for(var t="",e=w.params.loop?Math.ceil((w.slides.length-2*w.loopedSlides)/w.params.slidesPerGroup):w.snapGrid.length,n=0;e>n;n++)t+=w.params.paginationBulletRender?w.params.paginationBulletRender(n,w.params.bulletClass):"<"+w.params.paginationElement+' class="'+w.params.bulletClass+'"></'+w.params.paginationElement+">";w.paginationContainer.html(t),w.bullets=w.paginationContainer.find("."+w.params.bulletClass),w.params.paginationClickable&&w.params.a11y&&w.a11y&&w.a11y.initPagination()}},w.update=function(t){function e(){r=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate()),w.setWrapperTranslate(r),w.updateActiveIndex(),w.updateClasses()}if(w.updateContainerSize(),w.updateSlidesSize(),w.updateProgress(),w.updatePagination(),w.updateClasses(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),t){var n,r;w.controller&&w.controller.spline&&(w.controller.spline=void 0),w.params.freeMode?e():(n=("auto"===w.params.slidesPerView||w.params.slidesPerView>1)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0),n||e())}},w.onResize=function(t){var e=w.params.allowSwipeToPrev,n=w.params.allowSwipeToNext;if(w.params.allowSwipeToPrev=w.params.allowSwipeToNext=!0,w.updateContainerSize(),w.updateSlidesSize(),("auto"===w.params.slidesPerView||w.params.freeMode||t)&&w.updatePagination(),w.params.scrollbar&&w.scrollbar&&w.scrollbar.set(),w.controller&&w.controller.spline&&(w.controller.spline=void 0),w.params.freeMode){var r=Math.min(Math.max(w.translate,w.maxTranslate()),w.minTranslate());w.setWrapperTranslate(r),w.updateActiveIndex(),w.updateClasses()}else w.updateClasses(),("auto"===w.params.slidesPerView||w.params.slidesPerView>1)&&w.isEnd&&!w.params.centeredSlides?w.slideTo(w.slides.length-1,0,!1,!0):w.slideTo(w.activeIndex,0,!1,!0);w.params.allowSwipeToPrev=e,w.params.allowSwipeToNext=n};var y=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?y=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(y=["MSPointerDown","MSPointerMove","MSPointerUp"]),w.touchEvents={start:w.support.touch||!w.params.simulateTouch?"touchstart":y[0],move:w.support.touch||!w.params.simulateTouch?"touchmove":y[1],end:w.support.touch||!w.params.simulateTouch?"touchend":y[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===w.params.touchEventsTarget?w.container:w.wrapper).addClass("swiper-wp8-"+w.params.direction),w.initEvents=function(t){var n=t?"off":"on",r=t?"removeEventListener":"addEventListener",a="container"===w.params.touchEventsTarget?w.container[0]:w.wrapper[0],s=w.support.touch?a:document,o=w.params.nested?!0:!1;w.browser.ie?(a[r](w.touchEvents.start,w.onTouchStart,!1),s[r](w.touchEvents.move,w.onTouchMove,o),s[r](w.touchEvents.end,w.onTouchEnd,!1)):(w.support.touch&&(a[r](w.touchEvents.start,w.onTouchStart,!1),a[r](w.touchEvents.move,w.onTouchMove,o),a[r](w.touchEvents.end,w.onTouchEnd,!1)),!i.simulateTouch||w.device.ios||w.device.android||(a[r]("mousedown",w.onTouchStart,!1),document[r]("mousemove",w.onTouchMove,o),document[r]("mouseup",w.onTouchEnd,!1))),window[r]("resize",w.onResize),w.params.nextButton&&(e(w.params.nextButton)[n]("click",w.onClickNext),w.params.a11y&&w.a11y&&e(w.params.nextButton)[n]("keydown",w.a11y.onEnterKey)),w.params.prevButton&&(e(w.params.prevButton)[n]("click",w.onClickPrev),w.params.a11y&&w.a11y&&e(w.params.prevButton)[n]("keydown",w.a11y.onEnterKey)),w.params.pagination&&w.params.paginationClickable&&(e(w.paginationContainer)[n]("click","."+w.params.bulletClass,w.onClickIndex),w.params.a11y&&w.a11y&&e(w.paginationContainer)[n]("keydown","."+w.params.bulletClass,w.a11y.onEnterKey)),(w.params.preventClicks||w.params.preventClicksPropagation)&&a[r]("click",w.preventClicks,!0)},w.attachEvents=function(t){w.initEvents()},w.detachEvents=function(){w.initEvents(!0)},w.allowClick=!0,w.preventClicks=function(t){w.allowClick||(w.params.preventClicks&&t.preventDefault(),w.params.preventClicksPropagation&&w.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))},w.onClickNext=function(t){t.preventDefault(),(!w.isEnd||w.params.loop)&&w.slideNext()},w.onClickPrev=function(t){t.preventDefault(),(!w.isBeginning||w.params.loop)&&w.slidePrev()},w.onClickIndex=function(t){t.preventDefault();var n=e(this).index()*w.params.slidesPerGroup;w.params.loop&&(n+=w.loopedSlides),w.slideTo(n)},w.updateClickedSlide=function(t){var n=l(t,"."+w.params.slideClass),r=!1;if(n)for(var i=0;i<w.slides.length;i++)w.slides[i]===n&&(r=!0);if(!n||!r)return w.clickedSlide=void 0,void(w.clickedIndex=void 0);if(w.clickedSlide=n,w.clickedIndex=e(n).index(),w.params.slideToClickedSlide&&void 0!==w.clickedIndex&&w.clickedIndex!==w.activeIndex){var a,s=w.clickedIndex;if(w.params.loop){if(w.animating)return;a=e(w.clickedSlide).attr("data-swiper-slide-index"),w.params.centeredSlides?s<w.loopedSlides-w.params.slidesPerView/2||s>w.slides.length-w.loopedSlides+w.params.slidesPerView/2?(w.fixLoop(),s=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+a+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){w.slideTo(s)},0)):w.slideTo(s):s>w.slides.length-w.params.slidesPerView?(w.fixLoop(),s=w.wrapper.children("."+w.params.slideClass+'[data-swiper-slide-index="'+a+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){w.slideTo(s)},0)):w.slideTo(s)}else w.slideTo(s)}};var x,b,T,S,_,k,E,C,j,P="input, select, textarea, button",A=Date.now(),I=[];w.animating=!1,w.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var M,L;if(w.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),M="touchstart"===t.type,M||!("which"in t)||3!==t.which){if(w.params.noSwiping&&l(t,"."+w.params.noSwipingClass))return void(w.allowClick=!0);if(!w.params.swipeHandler||l(t,w.params.swipeHandler)){var n=w.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,r=w.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(w.device.ios&&w.params.iOSEdgeSwipeDetection&&n<=w.params.iOSEdgeSwipeThreshold)){if(x=!0,b=!1,S=void 0,L=void 0,w.touches.startX=n,w.touches.startY=r,T=Date.now(),w.allowClick=!0,w.updateContainerSize(),w.swipeDirection=void 0,w.params.threshold>0&&(E=!1),"touchstart"!==t.type){var i=!0;e(t.target).is(P)&&(i=!1),document.activeElement&&e(document.activeElement).is(P)&&document.activeElement.blur(),i&&t.preventDefault()}w.emit("onTouchStart",w,t)}}}},w.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!(M&&"mousemove"===t.type||t.preventedByNestedSwiper)){if(w.params.onlyExternal)return w.allowClick=!1,void(x&&(w.touches.startX=w.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,w.touches.startY=w.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,T=Date.now()));if(M&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(P))return b=!0,void(w.allowClick=!1);if(w.emit("onTouchMove",w,t),!(t.targetTouches&&t.targetTouches.length>1)){if(w.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,w.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,"undefined"==typeof S){var n=180*Math.atan2(Math.abs(w.touches.currentY-w.touches.startY),Math.abs(w.touches.currentX-w.touches.startX))/Math.PI;S=a()?n>w.params.touchAngle:90-n>w.params.touchAngle}if(S&&w.emit("onTouchMoveOpposite",w,t),"undefined"==typeof L&&w.browser.ieTouch&&(w.touches.currentX!==w.touches.startX||w.touches.currentY!==w.touches.startY)&&(L=!0),x){if(S)return void(x=!1);if(L||!w.browser.ieTouch){w.allowClick=!1,w.emit("onSliderMove",w,t),t.preventDefault(),w.params.touchMoveStopPropagation&&!w.params.nested&&t.stopPropagation(),b||(i.loop&&w.fixLoop(),k=w.getWrapperTranslate(),w.setWrapperTransition(0),w.animating&&w.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),w.params.autoplay&&w.autoplaying&&(w.params.autoplayDisableOnInteraction?w.stopAutoplay():w.pauseAutoplay()),j=!1,w.params.grabCursor&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grabbing",w.container[0].style.cursor="-moz-grabbin",w.container[0].style.cursor="grabbing")),b=!0;var r=w.touches.diff=a()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY;r*=w.params.touchRatio,w.rtl&&(r=-r),w.swipeDirection=r>0?"prev":"next",_=r+k;var s=!0;if(r>0&&_>w.minTranslate()?(s=!1,w.params.resistance&&(_=w.minTranslate()-1+Math.pow(-w.minTranslate()+k+r,w.params.resistanceRatio))):0>r&&_<w.maxTranslate()&&(s=!1,w.params.resistance&&(_=w.maxTranslate()+1-Math.pow(w.maxTranslate()-k-r,w.params.resistanceRatio))),s&&(t.preventedByNestedSwiper=!0),!w.params.allowSwipeToNext&&"next"===w.swipeDirection&&k>_&&(_=k),!w.params.allowSwipeToPrev&&"prev"===w.swipeDirection&&_>k&&(_=k),w.params.followFinger){if(w.params.threshold>0){if(!(Math.abs(r)>w.params.threshold||E))return void(_=k);if(!E)return E=!0,w.touches.startX=w.touches.currentX,w.touches.startY=w.touches.currentY,_=k,void(w.touches.diff=a()?w.touches.currentX-w.touches.startX:w.touches.currentY-w.touches.startY)}(w.params.freeMode||w.params.watchSlidesProgress)&&w.updateActiveIndex(),w.params.freeMode&&(0===I.length&&I.push({position:w.touches[a()?"startX":"startY"],time:T}),I.push({position:w.touches[a()?"currentX":"currentY"],time:(new window.Date).getTime()})),w.updateProgress(_),w.setWrapperTranslate(_)}}}}}},w.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),w.emit("onTouchEnd",w,t),x){w.params.grabCursor&&b&&x&&(w.container[0].style.cursor="move",w.container[0].style.cursor="-webkit-grab",w.container[0].style.cursor="-moz-grab",w.container[0].style.cursor="grab");var n=Date.now(),r=n-T;if(w.allowClick&&(w.updateClickedSlide(t),w.emit("onTap",w,t),300>r&&n-A>300&&(C&&clearTimeout(C),C=setTimeout(function(){w&&(w.params.paginationHide&&w.paginationContainer.length>0&&!e(t.target).hasClass(w.params.bulletClass)&&w.paginationContainer.toggleClass(w.params.paginationHiddenClass),w.emit("onClick",w,t))},300)),300>r&&300>n-A&&(C&&clearTimeout(C),w.emit("onDoubleTap",w,t))),A=Date.now(),setTimeout(function(){w&&(w.allowClick=!0)},0),!x||!b||!w.swipeDirection||0===w.touches.diff||_===k)return void(x=b=!1);x=b=!1;var i;if(i=w.params.followFinger?w.rtl?w.translate:-w.translate:-_,w.params.freeMode){if(i<-w.minTranslate())return void w.slideTo(w.activeIndex);if(i>-w.maxTranslate())return void(w.slides.length<w.snapGrid.length?w.slideTo(w.snapGrid.length-1):w.slideTo(w.slides.length-1));if(w.params.freeModeMomentum){if(I.length>1){var a=I.pop(),s=I.pop(),o=a.position-s.position,l=a.time-s.time;w.velocity=o/l,w.velocity=w.velocity/2,Math.abs(w.velocity)<w.params.freeModeMinimumVelocity&&(w.velocity=0),(l>150||(new window.Date).getTime()-a.time>300)&&(w.velocity=0)}else w.velocity=0;I.length=0;var u=1e3*w.params.freeModeMomentumRatio,c=w.velocity*u,d=w.translate+c;w.rtl&&(d=-d);var p,f=!1,h=20*Math.abs(w.velocity)*w.params.freeModeMomentumBounceRatio;if(d<w.maxTranslate())w.params.freeModeMomentumBounce?(d+w.maxTranslate()<-h&&(d=w.maxTranslate()-h),p=w.maxTranslate(),f=!0,j=!0):d=w.maxTranslate();else if(d>w.minTranslate())w.params.freeModeMomentumBounce?(d-w.minTranslate()>h&&(d=w.minTranslate()+h),p=w.minTranslate(),f=!0,j=!0):d=w.minTranslate();else if(w.params.freeModeSticky){var m,g=0;for(g=0;g<w.snapGrid.length;g+=1)if(w.snapGrid[g]>-d){m=g;break}d=Math.abs(w.snapGrid[m]-d)<Math.abs(w.snapGrid[m-1]-d)||"next"===w.swipeDirection?w.snapGrid[m]:w.snapGrid[m-1],w.rtl||(d=-d)}if(0!==w.velocity)u=w.rtl?Math.abs((-d-w.translate)/w.velocity):Math.abs((d-w.translate)/w.velocity);else if(w.params.freeModeSticky)return void w.slideReset();w.params.freeModeMomentumBounce&&f?(w.updateProgress(p),w.setWrapperTransition(u),w.setWrapperTranslate(d),w.onTransitionStart(),w.animating=!0,w.wrapper.transitionEnd(function(){w&&j&&(w.emit("onMomentumBounce",w),w.setWrapperTransition(w.params.speed),w.setWrapperTranslate(p),w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))})):w.velocity?(w.updateProgress(d),w.setWrapperTransition(u),w.setWrapperTranslate(d),w.onTransitionStart(),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd()}))):w.updateProgress(d),w.updateActiveIndex();
}return void((!w.params.freeModeMomentum||r>=w.params.longSwipesMs)&&(w.updateProgress(),w.updateActiveIndex()))}var v,y=0,S=w.slidesSizesGrid[0];for(v=0;v<w.slidesGrid.length;v+=w.params.slidesPerGroup)"undefined"!=typeof w.slidesGrid[v+w.params.slidesPerGroup]?i>=w.slidesGrid[v]&&i<w.slidesGrid[v+w.params.slidesPerGroup]&&(y=v,S=w.slidesGrid[v+w.params.slidesPerGroup]-w.slidesGrid[v]):i>=w.slidesGrid[v]&&(y=v,S=w.slidesGrid[w.slidesGrid.length-1]-w.slidesGrid[w.slidesGrid.length-2]);var E=(i-w.slidesGrid[y])/S;if(r>w.params.longSwipesMs){if(!w.params.longSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&(E>=w.params.longSwipesRatio?w.slideTo(y+w.params.slidesPerGroup):w.slideTo(y)),"prev"===w.swipeDirection&&(E>1-w.params.longSwipesRatio?w.slideTo(y+w.params.slidesPerGroup):w.slideTo(y))}else{if(!w.params.shortSwipes)return void w.slideTo(w.activeIndex);"next"===w.swipeDirection&&w.slideTo(y+w.params.slidesPerGroup),"prev"===w.swipeDirection&&w.slideTo(y)}}},w._slideTo=function(t,e){return w.slideTo(t,e,!0,!0)},w.slideTo=function(t,e,n,r){"undefined"==typeof n&&(n=!0),"undefined"==typeof t&&(t=0),0>t&&(t=0),w.snapIndex=Math.floor(t/w.params.slidesPerGroup),w.snapIndex>=w.snapGrid.length&&(w.snapIndex=w.snapGrid.length-1);var i=-w.snapGrid[w.snapIndex];w.params.autoplay&&w.autoplaying&&(r||!w.params.autoplayDisableOnInteraction?w.pauseAutoplay(e):w.stopAutoplay()),w.updateProgress(i);for(var s=0;s<w.slidesGrid.length;s++)-Math.floor(100*i)>=Math.floor(100*w.slidesGrid[s])&&(t=s);return!w.params.allowSwipeToNext&&i<w.translate&&i<w.minTranslate()?!1:!w.params.allowSwipeToPrev&&i>w.translate&&i>w.maxTranslate()&&(w.activeIndex||0)!==t?!1:("undefined"==typeof e&&(e=w.params.speed),w.previousIndex=w.activeIndex||0,w.activeIndex=t,i===w.translate?(w.updateClasses(),!1):(w.updateClasses(),w.onTransitionStart(n),a()?i:0,a()?0:i,0===e?(w.setWrapperTransition(0),w.setWrapperTranslate(i),w.onTransitionEnd(n)):(w.setWrapperTransition(e),w.setWrapperTranslate(i),w.animating||(w.animating=!0,w.wrapper.transitionEnd(function(){w&&w.onTransitionEnd(n)}))),!0))},w.onTransitionStart=function(t){"undefined"==typeof t&&(t=!0),w.lazy&&w.lazy.onTransitionStart(),t&&(w.emit("onTransitionStart",w),w.activeIndex!==w.previousIndex&&w.emit("onSlideChangeStart",w))},w.onTransitionEnd=function(t){w.animating=!1,w.setWrapperTransition(0),"undefined"==typeof t&&(t=!0),w.lazy&&w.lazy.onTransitionEnd(),t&&(w.emit("onTransitionEnd",w),w.activeIndex!==w.previousIndex&&w.emit("onSlideChangeEnd",w)),w.params.hashnav&&w.hashnav&&w.hashnav.setHash()},w.slideNext=function(t,e,n){return w.params.loop?w.animating?!1:(w.fixLoop(),w.container[0].clientLeft,w.slideTo(w.activeIndex+w.params.slidesPerGroup,e,t,n)):w.slideTo(w.activeIndex+w.params.slidesPerGroup,e,t,n)},w._slideNext=function(t){return w.slideNext(!0,t,!0)},w.slidePrev=function(t,e,n){return w.params.loop?w.animating?!1:(w.fixLoop(),w.container[0].clientLeft,w.slideTo(w.activeIndex-1,e,t,n)):w.slideTo(w.activeIndex-1,e,t,n)},w._slidePrev=function(t){return w.slidePrev(!0,t,!0)},w.slideReset=function(t,e,n){return w.slideTo(w.activeIndex,e,t)},w.setWrapperTransition=function(t,e){w.wrapper.transition(t),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTransition(t),w.params.parallax&&w.parallax&&w.parallax.setTransition(t),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTransition(t),w.params.control&&w.controller&&w.controller.setTransition(t,e),w.emit("onSetTransition",w,t)},w.setWrapperTranslate=function(t,e,n){var r=0,i=0,o=0;a()?r=w.rtl?-t:t:i=t,w.params.roundLengths&&(r=s(r),i=s(i)),w.params.virtualTranslate||(w.support.transforms3d?w.wrapper.transform("translate3d("+r+"px, "+i+"px, "+o+"px)"):w.wrapper.transform("translate("+r+"px, "+i+"px)")),w.translate=a()?r:i,e&&w.updateActiveIndex(),"slide"!==w.params.effect&&w.effects[w.params.effect]&&w.effects[w.params.effect].setTranslate(w.translate),w.params.parallax&&w.parallax&&w.parallax.setTranslate(w.translate),w.params.scrollbar&&w.scrollbar&&w.scrollbar.setTranslate(w.translate),w.params.control&&w.controller&&w.controller.setTranslate(w.translate,n),w.emit("onSetTranslate",w,w.translate)},w.getTranslate=function(t,e){var n,r,i,a;return"undefined"==typeof e&&(e="x"),w.params.virtualTranslate?w.rtl?-w.translate:w.translate:(i=window.getComputedStyle(t,null),window.WebKitCSSMatrix?(r=i.transform||i.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),a=new window.WebKitCSSMatrix("none"===r?"":r)):(a=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),"x"===e&&(r=window.WebKitCSSMatrix?a.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(r=window.WebKitCSSMatrix?a.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),w.rtl&&r&&(r=-r),r||0)},w.getWrapperTranslate=function(t){return"undefined"==typeof t&&(t=a()?"x":"y"),w.getTranslate(w.wrapper[0],t)},w.observers=[],w.initObservers=function(){if(w.params.observeParents)for(var t=w.container.parents(),e=0;e<t.length;e++)u(t[e]);u(w.container[0],{childList:!1}),u(w.wrapper[0],{attributes:!1})},w.disconnectObservers=function(){for(var t=0;t<w.observers.length;t++)w.observers[t].disconnect();w.observers=[]},w.createLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove();var t=w.wrapper.children("."+w.params.slideClass);"auto"!==w.params.slidesPerView||w.params.loopedSlides||(w.params.loopedSlides=t.length),w.loopedSlides=parseInt(w.params.loopedSlides||w.params.slidesPerView,10),w.loopedSlides=w.loopedSlides+w.params.loopAdditionalSlides,w.loopedSlides>t.length&&(w.loopedSlides=t.length);var n,r=[],i=[];for(t.each(function(n,a){var s=e(this);n<w.loopedSlides&&i.push(a),n<t.length&&n>=t.length-w.loopedSlides&&r.push(a),s.attr("data-swiper-slide-index",n)}),n=0;n<i.length;n++)w.wrapper.append(e(i[n].cloneNode(!0)).addClass(w.params.slideDuplicateClass));for(n=r.length-1;n>=0;n--)w.wrapper.prepend(e(r[n].cloneNode(!0)).addClass(w.params.slideDuplicateClass))},w.destroyLoop=function(){w.wrapper.children("."+w.params.slideClass+"."+w.params.slideDuplicateClass).remove(),w.slides.removeAttr("data-swiper-slide-index")},w.fixLoop=function(){var t;w.activeIndex<w.loopedSlides?(t=w.slides.length-3*w.loopedSlides+w.activeIndex,t+=w.loopedSlides,w.slideTo(t,0,!1,!0)):("auto"===w.params.slidesPerView&&w.activeIndex>=2*w.loopedSlides||w.activeIndex>w.slides.length-2*w.params.slidesPerView)&&(t=-w.slides.length+w.activeIndex+w.loopedSlides,t+=w.loopedSlides,w.slideTo(t,0,!1,!0))},w.appendSlide=function(t){if(w.params.loop&&w.destroyLoop(),"object"==typeof t&&t.length)for(var e=0;e<t.length;e++)t[e]&&w.wrapper.append(t[e]);else w.wrapper.append(t);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0)},w.prependSlide=function(t){w.params.loop&&w.destroyLoop();var e=w.activeIndex+1;if("object"==typeof t&&t.length){for(var n=0;n<t.length;n++)t[n]&&w.wrapper.prepend(t[n]);e=w.activeIndex+t.length}else w.wrapper.prepend(t);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.slideTo(e,0,!1)},w.removeSlide=function(t){w.params.loop&&(w.destroyLoop(),w.slides=w.wrapper.children("."+w.params.slideClass));var e,n=w.activeIndex;if("object"==typeof t&&t.length){for(var r=0;r<t.length;r++)e=t[r],w.slides[e]&&w.slides.eq(e).remove(),n>e&&n--;n=Math.max(n,0)}else e=t,w.slides[e]&&w.slides.eq(e).remove(),n>e&&n--,n=Math.max(n,0);w.params.loop&&w.createLoop(),w.params.observer&&w.support.observer||w.update(!0),w.params.loop?w.slideTo(n+w.loopedSlides,0,!1):w.slideTo(n,0,!1)},w.removeAllSlides=function(){for(var t=[],e=0;e<w.slides.length;e++)t.push(e);w.removeSlide(t)},w.effects={fade:{setTranslate:function(){for(var t=0;t<w.slides.length;t++){var e=w.slides.eq(t),n=e[0].swiperSlideOffset,r=-n;w.params.virtualTranslate||(r-=w.translate);var i=0;a()||(i=r,r=0);var s=w.params.fade.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);e.css({opacity:s}).transform("translate3d("+r+"px, "+i+"px, 0px)")}},setTransition:function(t){if(w.slides.transition(t),w.params.virtualTranslate&&0!==t){var e=!1;w.slides.transitionEnd(function(){if(!e&&w){e=!0,w.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<t.length;n++)w.wrapper.trigger(t[n])}})}}},cube:{setTranslate:function(){var t,n=0;w.params.cube.shadow&&(a()?(t=w.wrapper.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),w.wrapper.append(t)),t.css({height:w.width+"px"})):(t=w.container.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),w.container.append(t))));for(var r=0;r<w.slides.length;r++){var i=w.slides.eq(r),s=90*r,o=Math.floor(s/360);w.rtl&&(s=-s,o=Math.floor(-s/360));var l=Math.max(Math.min(i[0].progress,1),-1),u=0,c=0,d=0;r%4===0?(u=4*-o*w.size,d=0):(r-1)%4===0?(u=0,d=4*-o*w.size):(r-2)%4===0?(u=w.size+4*o*w.size,d=w.size):(r-3)%4===0&&(u=-w.size,d=3*w.size+4*w.size*o),w.rtl&&(u=-u),a()||(c=u,u=0);var p="rotateX("+(a()?0:-s)+"deg) rotateY("+(a()?s:0)+"deg) translate3d("+u+"px, "+c+"px, "+d+"px)";if(1>=l&&l>-1&&(n=90*r+90*l,w.rtl&&(n=90*-r-90*l)),i.transform(p),w.params.cube.slideShadows){var f=a()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),h=a()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===f.length&&(f=e('<div class="swiper-slide-shadow-'+(a()?"left":"top")+'"></div>'),i.append(f)),0===h.length&&(h=e('<div class="swiper-slide-shadow-'+(a()?"right":"bottom")+'"></div>'),i.append(h)),i[0].progress,f.length&&(f[0].style.opacity=-i[0].progress),h.length&&(h[0].style.opacity=i[0].progress)}}if(w.wrapper.css({"-webkit-transform-origin":"50% 50% -"+w.size/2+"px","-moz-transform-origin":"50% 50% -"+w.size/2+"px","-ms-transform-origin":"50% 50% -"+w.size/2+"px","transform-origin":"50% 50% -"+w.size/2+"px"}),w.params.cube.shadow)if(a())t.transform("translate3d(0px, "+(w.width/2+w.params.cube.shadowOffset)+"px, "+-w.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+w.params.cube.shadowScale+")");else{var m=Math.abs(n)-90*Math.floor(Math.abs(n)/90),g=1.5-(Math.sin(2*m*Math.PI/360)/2+Math.cos(2*m*Math.PI/360)/2),v=w.params.cube.shadowScale,y=w.params.cube.shadowScale/g,x=w.params.cube.shadowOffset;t.transform("scale3d("+v+", 1, "+y+") translate3d(0px, "+(w.height/2+x)+"px, "+-w.height/2/y+"px) rotateX(-90deg)")}var b=w.isSafari||w.isUiWebView?-w.size/2:0;w.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(a()?0:n)+"deg) rotateY("+(a()?-n:0)+"deg)")},setTransition:function(t){w.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),w.params.cube.shadow&&!a()&&w.container.find(".swiper-cube-shadow").transition(t)}},coverflow:{setTranslate:function(){for(var t=w.translate,n=a()?-t+w.width/2:-t+w.height/2,r=a()?w.params.coverflow.rotate:-w.params.coverflow.rotate,i=w.params.coverflow.depth,s=0,o=w.slides.length;o>s;s++){var l=w.slides.eq(s),u=w.slidesSizesGrid[s],c=l[0].swiperSlideOffset,d=(n-c-u/2)/u*w.params.coverflow.modifier,p=a()?r*d:0,f=a()?0:r*d,h=-i*Math.abs(d),m=a()?0:w.params.coverflow.stretch*d,g=a()?w.params.coverflow.stretch*d:0;Math.abs(g)<.001&&(g=0),Math.abs(m)<.001&&(m=0),Math.abs(h)<.001&&(h=0),Math.abs(p)<.001&&(p=0),Math.abs(f)<.001&&(f=0);var v="translate3d("+g+"px,"+m+"px,"+h+"px)  rotateX("+f+"deg) rotateY("+p+"deg)";if(l.transform(v),l[0].style.zIndex=-Math.abs(Math.round(d))+1,w.params.coverflow.slideShadows){var y=a()?l.find(".swiper-slide-shadow-left"):l.find(".swiper-slide-shadow-top"),x=a()?l.find(".swiper-slide-shadow-right"):l.find(".swiper-slide-shadow-bottom");0===y.length&&(y=e('<div class="swiper-slide-shadow-'+(a()?"left":"top")+'"></div>'),l.append(y)),0===x.length&&(x=e('<div class="swiper-slide-shadow-'+(a()?"right":"bottom")+'"></div>'),l.append(x)),y.length&&(y[0].style.opacity=d>0?d:0),x.length&&(x[0].style.opacity=-d>0?-d:0)}}if(w.browser.ie){var b=w.wrapper[0].style;b.perspectiveOrigin=n+"px 50%"}},setTransition:function(t){w.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}}},w.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,n){if("undefined"!=typeof t&&("undefined"==typeof n&&(n=!0),0!==w.slides.length)){var r=w.slides.eq(t),i=r.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!r.hasClass("swiper-lazy")||r.hasClass("swiper-lazy-loaded")||r.hasClass("swiper-lazy-loading")||(i=i.add(r[0])),0!==i.length&&i.each(function(){var t=e(this);t.addClass("swiper-lazy-loading");var i=t.attr("data-background"),a=t.attr("data-src"),s=t.attr("data-srcset");w.loadImage(t[0],a||i,s,!1,function(){if(i?(t.css("background-image","url("+i+")"),t.removeAttr("data-background")):(s&&(t.attr("srcset",s),t.removeAttr("data-srcset")),a&&(t.attr("src",a),t.removeAttr("data-src"))),t.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),r.find(".swiper-lazy-preloader, .preloader").remove(),w.params.loop&&n){var e=r.attr("data-swiper-slide-index");if(r.hasClass(w.params.slideDuplicateClass)){var o=w.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+w.params.slideDuplicateClass+")");w.lazy.loadImageInSlide(o.index(),!1)}else{var l=w.wrapper.children("."+w.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');w.lazy.loadImageInSlide(l.index(),!1)}}w.emit("onLazyImageReady",w,r[0],t[0])}),w.emit("onLazyImageLoad",w,r[0],t[0])})}},load:function(){var t;if(w.params.watchSlidesVisibility)w.wrapper.children("."+w.params.slideVisibleClass).each(function(){w.lazy.loadImageInSlide(e(this).index())});else if(w.params.slidesPerView>1)for(t=w.activeIndex;t<w.activeIndex+w.params.slidesPerView;t++)w.slides[t]&&w.lazy.loadImageInSlide(t);else w.lazy.loadImageInSlide(w.activeIndex);if(w.params.lazyLoadingInPrevNext)if(w.params.slidesPerView>1){for(t=w.activeIndex+w.params.slidesPerView;t<w.activeIndex+w.params.slidesPerView+w.params.slidesPerView;t++)w.slides[t]&&w.lazy.loadImageInSlide(t);for(t=w.activeIndex-w.params.slidesPerView;t<w.activeIndex;t++)w.slides[t]&&w.lazy.loadImageInSlide(t)}else{var n=w.wrapper.children("."+w.params.slideNextClass);n.length>0&&w.lazy.loadImageInSlide(n.index());var r=w.wrapper.children("."+w.params.slidePrevClass);r.length>0&&w.lazy.loadImageInSlide(r.index())}},onTransitionStart:function(){w.params.lazyLoading&&(w.params.lazyLoadingOnTransitionStart||!w.params.lazyLoadingOnTransitionStart&&!w.lazy.initialImageLoaded)&&w.lazy.load()},onTransitionEnd:function(){w.params.lazyLoading&&!w.params.lazyLoadingOnTransitionStart&&w.lazy.load()}},w.scrollbar={isTouched:!1,setDragPosition:function(t){var e=w.scrollbar,n=a()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY,r=n-e.track.offset()[a()?"left":"top"]-e.dragSize/2,i=-w.minTranslate()*e.moveDivider,s=-w.maxTranslate()*e.moveDivider;i>r?r=i:r>s&&(r=s),r=-r/e.moveDivider,w.updateProgress(r),w.setWrapperTranslate(r,!0)},dragStart:function(t){var e=w.scrollbar;e.isTouched=!0,t.preventDefault(),t.stopPropagation(),e.setDragPosition(t),clearTimeout(e.dragTimeout),e.track.transition(0),w.params.scrollbarHide&&e.track.css("opacity",1),w.wrapper.transition(100),e.drag.transition(100),w.emit("onScrollbarDragStart",w)},dragMove:function(t){var e=w.scrollbar;e.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),w.wrapper.transition(0),e.track.transition(0),e.drag.transition(0),w.emit("onScrollbarDragMove",w))},dragEnd:function(t){var e=w.scrollbar;e.isTouched&&(e.isTouched=!1,w.params.scrollbarHide&&(clearTimeout(e.dragTimeout),e.dragTimeout=setTimeout(function(){e.track.css("opacity",0),e.track.transition(400)},1e3)),w.emit("onScrollbarDragEnd",w),w.params.scrollbarSnapOnRelease&&w.slideReset())},enableDraggable:function(){var t=w.scrollbar,n=w.support.touch?t.track:document;e(t.track).on(w.touchEvents.start,t.dragStart),e(n).on(w.touchEvents.move,t.dragMove),e(n).on(w.touchEvents.end,t.dragEnd)},disableDraggable:function(){var t=w.scrollbar,n=w.support.touch?t.track:document;e(t.track).off(w.touchEvents.start,t.dragStart),e(n).off(w.touchEvents.move,t.dragMove),e(n).off(w.touchEvents.end,t.dragEnd)},set:function(){if(w.params.scrollbar){var t=w.scrollbar;t.track=e(w.params.scrollbar),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=a()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=w.size/w.virtualSize,t.moveDivider=t.divider*(t.trackSize/w.size),t.dragSize=t.trackSize*t.divider,a()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",w.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(w.params.scrollbar){var t,e=w.scrollbar,n=(w.translate||0,e.dragSize);t=(e.trackSize-e.dragSize)*w.progress,w.rtl&&a()?(t=-t,t>0?(n=e.dragSize-t,t=0):-t+e.dragSize>e.trackSize&&(n=e.trackSize+t)):0>t?(n=e.dragSize+t,t=0):t+e.dragSize>e.trackSize&&(n=e.trackSize-t),a()?(w.support.transforms3d?e.drag.transform("translate3d("+t+"px, 0, 0)"):e.drag.transform("translateX("+t+"px)"),e.drag[0].style.width=n+"px"):(w.support.transforms3d?e.drag.transform("translate3d(0px, "+t+"px, 0)"):e.drag.transform("translateY("+t+"px)"),e.drag[0].style.height=n+"px"),w.params.scrollbarHide&&(clearTimeout(e.timeout),e.track[0].style.opacity=1,e.timeout=setTimeout(function(){e.track[0].style.opacity=0,e.track.transition(400)},1e3))}},setTransition:function(t){w.params.scrollbar&&w.scrollbar.drag.transition(t)}},w.controller={LinearSpline:function(t,e){this.x=t,this.y=e,this.lastIndex=t.length-1;var n,r;this.x.length,this.interpolate=function(t){return t?(r=i(this.x,t),n=r-1,(t-this.x[n])*(this.y[r]-this.y[n])/(this.x[r]-this.x[n])+this.y[n]):0};var i=function(){var t,e,n;return function(r,i){for(e=-1,t=r.length;t-e>1;)r[n=t+e>>1]<=i?e=n:t=n;return t}}()},getInterpolateFunction:function(t){w.controller.spline||(w.controller.spline=w.params.loop?new w.controller.LinearSpline(w.slidesGrid,t.slidesGrid):new w.controller.LinearSpline(w.snapGrid,t.snapGrid))},setTranslate:function(t,e){function r(e){t=e.rtl&&"horizontal"===e.params.direction?-w.translate:w.translate,"slide"===w.params.controlBy&&(w.controller.getInterpolateFunction(e),a=-w.controller.spline.interpolate(-t)),a&&"container"!==w.params.controlBy||(i=(e.maxTranslate()-e.minTranslate())/(w.maxTranslate()-w.minTranslate()),a=(t-w.minTranslate())*i+e.minTranslate()),w.params.controlInverse&&(a=e.maxTranslate()-a),e.updateProgress(a),e.setWrapperTranslate(a,!1,w),e.updateActiveIndex()}var i,a,s=w.params.control;if(w.isArray(s))for(var o=0;o<s.length;o++)s[o]!==e&&s[o]instanceof n&&r(s[o]);else s instanceof n&&e!==s&&r(s)},setTransition:function(t,e){function r(e){e.setWrapperTransition(t,w),0!==t&&(e.onTransitionStart(),e.wrapper.transitionEnd(function(){a&&(e.params.loop&&"slide"===w.params.controlBy&&e.fixLoop(),e.onTransitionEnd())}))}var i,a=w.params.control;if(w.isArray(a))for(i=0;i<a.length;i++)a[i]!==e&&a[i]instanceof n&&r(a[i]);else a instanceof n&&e!==a&&r(a)}},w.hashnav={init:function(){if(w.params.hashnav){w.hashnav.initialized=!0;var t=document.location.hash.replace("#","");if(t)for(var e=0,n=0,r=w.slides.length;r>n;n++){var i=w.slides.eq(n),a=i.attr("data-hash");if(a===t&&!i.hasClass(w.params.slideDuplicateClass)){var s=i.index();w.slideTo(s,e,w.params.runCallbacksOnInit,!0)}}}},setHash:function(){w.hashnav.initialized&&w.params.hashnav&&(document.location.hash=w.slides.eq(w.activeIndex).attr("data-hash")||"")}},w.disableKeyboardControl=function(){e(document).off("keydown",c)},w.enableKeyboardControl=function(){e(document).on("keydown",c)},w.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},w.params.mousewheelControl){try{new window.WheelEvent("wheel"),w.mousewheel.event="wheel"}catch(O){}w.mousewheel.event||void 0===document.onmousewheel||(w.mousewheel.event="mousewheel"),w.mousewheel.event||(w.mousewheel.event="DOMMouseScroll")}w.disableMousewheelControl=function(){return w.mousewheel.event?(w.container.off(w.mousewheel.event,d),!0):!1},w.enableMousewheelControl=function(){return w.mousewheel.event?(w.container.on(w.mousewheel.event,d),!0):!1},w.parallax={setTranslate:function(){w.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){p(this,w.progress)}),w.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=Math.min(Math.max(t[0].progress,-1),1);p(this,e)})})},setTransition:function(t){"undefined"==typeof t&&(t=w.params.speed),w.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=e(this),r=parseInt(n.attr("data-swiper-parallax-duration"),10)||t;0===t&&(r=0),n.transition(r)})}},w._plugins=[];for(var z in w.plugins){var B=w.plugins[z](w,w.params[z]);B&&w._plugins.push(B)}return w.callPlugins=function(t){for(var e=0;e<w._plugins.length;e++)t in w._plugins[e]&&w._plugins[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},w.emitterEventListeners={},w.emit=function(t){w.params[t]&&w.params[t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var e;if(w.emitterEventListeners[t])for(e=0;e<w.emitterEventListeners[t].length;e++)w.emitterEventListeners[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);w.callPlugins&&w.callPlugins(t,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},w.on=function(t,e){return t=f(t),w.emitterEventListeners[t]||(w.emitterEventListeners[t]=[]),w.emitterEventListeners[t].push(e),w},w.off=function(t,e){var n;if(t=f(t),"undefined"==typeof e)return w.emitterEventListeners[t]=[],w;if(w.emitterEventListeners[t]&&0!==w.emitterEventListeners[t].length){for(n=0;n<w.emitterEventListeners[t].length;n++)w.emitterEventListeners[t][n]===e&&w.emitterEventListeners[t].splice(n,1);return w}},w.once=function(t,e){t=f(t);var n=function(){e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),w.off(t,n)};return w.on(t,n),w},w.a11y={makeFocusable:function(t){return t.attr("tabIndex","0"),t},addRole:function(t,e){return t.attr("role",e),t},addLabel:function(t,e){return t.attr("aria-label",e),t},disable:function(t){return t.attr("aria-disabled",!0),t},enable:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(w.params.nextButton)?(w.onClickNext(t),w.isEnd?w.a11y.notify(w.params.lastSlideMessage):w.a11y.notify(w.params.nextSlideMessage)):e(t.target).is(w.params.prevButton)&&(w.onClickPrev(t),w.isBeginning?w.a11y.notify(w.params.firstSlideMessage):w.a11y.notify(w.params.prevSlideMessage)),e(t.target).is("."+w.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(t){var e=w.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},init:function(){if(w.params.nextButton){var t=e(w.params.nextButton);w.a11y.makeFocusable(t),w.a11y.addRole(t,"button"),w.a11y.addLabel(t,w.params.nextSlideMessage)}if(w.params.prevButton){var n=e(w.params.prevButton);w.a11y.makeFocusable(n),w.a11y.addRole(n,"button"),w.a11y.addLabel(n,w.params.prevSlideMessage)}e(w.container).append(w.a11y.liveRegion)},initPagination:function(){w.params.pagination&&w.params.paginationClickable&&w.bullets&&w.bullets.length&&w.bullets.each(function(){var t=e(this);w.a11y.makeFocusable(t),w.a11y.addRole(t,"button"),w.a11y.addLabel(t,w.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){w.a11y.liveRegion&&w.a11y.liveRegion.length>0&&w.a11y.liveRegion.remove()}},w.init=function(){w.params.loop&&w.createLoop(),w.updateContainerSize(),w.updateSlidesSize(),w.updatePagination(),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.set(),w.params.scrollbarDraggable&&w.scrollbar.enableDraggable()),"slide"!==w.params.effect&&w.effects[w.params.effect]&&(w.params.loop||w.updateProgress(),w.effects[w.params.effect].setTranslate()),w.params.loop?w.slideTo(w.params.initialSlide+w.loopedSlides,0,w.params.runCallbacksOnInit):(w.slideTo(w.params.initialSlide,0,w.params.runCallbacksOnInit),0===w.params.initialSlide&&(w.parallax&&w.params.parallax&&w.parallax.setTranslate(),w.lazy&&w.params.lazyLoading&&(w.lazy.load(),w.lazy.initialImageLoaded=!0))),w.attachEvents(),w.params.observer&&w.support.observer&&w.initObservers(),w.params.preloadImages&&!w.params.lazyLoading&&w.preloadImages(),w.params.autoplay&&w.startAutoplay(),w.params.keyboardControl&&w.enableKeyboardControl&&w.enableKeyboardControl(),w.params.mousewheelControl&&w.enableMousewheelControl&&w.enableMousewheelControl(),w.params.hashnav&&w.hashnav&&w.hashnav.init(),w.params.a11y&&w.a11y&&w.a11y.init(),w.emit("onInit",w)},w.cleanupStyles=function(){w.container.removeClass(w.classNames.join(" ")).removeAttr("style"),w.wrapper.removeAttr("style"),w.slides&&w.slides.length&&w.slides.removeClass([w.params.slideVisibleClass,w.params.slideActiveClass,w.params.slideNextClass,w.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),w.paginationContainer&&w.paginationContainer.length&&w.paginationContainer.removeClass(w.params.paginationHiddenClass),w.bullets&&w.bullets.length&&w.bullets.removeClass(w.params.bulletActiveClass),w.params.prevButton&&e(w.params.prevButton).removeClass(w.params.buttonDisabledClass),w.params.nextButton&&e(w.params.nextButton).removeClass(w.params.buttonDisabledClass),w.params.scrollbar&&w.scrollbar&&(w.scrollbar.track&&w.scrollbar.track.length&&w.scrollbar.track.removeAttr("style"),w.scrollbar.drag&&w.scrollbar.drag.length&&w.scrollbar.drag.removeAttr("style"))},w.destroy=function(t,e){w.detachEvents(),w.stopAutoplay(),w.params.scrollbar&&w.scrollbar&&w.params.scrollbarDraggable&&w.scrollbar.disableDraggable(),w.params.loop&&w.destroyLoop(),e&&w.cleanupStyles(),w.disconnectObservers(),w.params.keyboardControl&&w.disableKeyboardControl&&w.disableKeyboardControl(),w.params.mousewheelControl&&w.disableMousewheelControl&&w.disableMousewheelControl(),w.params.a11y&&w.a11y&&w.a11y.destroy(),w.emit("onDestroy"),t!==!1&&(w=null)},w.init(),w}};n.prototype={isSafari:function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var t=navigator.userAgent,e=t.match(/(Android);?[\s\/]+([\d.]+)?/),n=t.match(/(iPad).*OS\s([\d_]+)/),r=t.match(/(iPod)(.*OS\s([\d_]+))?/),i=!n&&t.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:n||i||r,android:e}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var t=document.createElement("div").style;return"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t}(),flexbox:function(){for(var t=document.createElement("div").style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<e.length;n++)if(e[n]in t)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var r=(function(){var t=function(t){var e=this,n=0;for(n=0;n<t.length;n++)e[n]=t[n];return e.length=t.length,this},e=function(e,n){var r=[],i=0;if(e&&!n&&e instanceof t)return e;if(e)if("string"==typeof e){var a,s,o=e.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";for(0===o.indexOf("<li")&&(l="ul"),0===o.indexOf("<tr")&&(l="tbody"),(0===o.indexOf("<td")||0===o.indexOf("<th"))&&(l="tr"),0===o.indexOf("<tbody")&&(l="table"),0===o.indexOf("<option")&&(l="select"),s=document.createElement(l),s.innerHTML=e,i=0;i<s.childNodes.length;i++)r.push(s.childNodes[i])}else for(a=n||"#"!==e[0]||e.match(/[ .<>:~]/)?(n||document).querySelectorAll(e):[document.getElementById(e.split("#")[1])],i=0;i<a.length;i++)a[i]&&r.push(a[i])}else if(e.nodeType||e===window||e===document)r.push(e);else if(e.length>0&&e[0].nodeType)for(i=0;i<e.length;i++)r.push(e[i]);return new t(r)};return t.prototype={addClass:function(t){if("undefined"==typeof t)return this;for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.add(e[n]);return this},removeClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.remove(e[n]);return this},hasClass:function(t){return this[0]?this[0].classList.contains(t):!1},toggleClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.toggle(e[n]);return this},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(t,e);else for(var r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this},removeAttr:function(t){for(var e=0;e<this.length;e++)this[e].removeAttribute(t);return this},data:function(t,e){if("undefined"==typeof e){if(this[0]){var n=this[0].getAttribute("data-"+t);return n?n:this[0].dom7ElementDataStorage&&t in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[t]:void 0}return void 0}for(var r=0;r<this.length;r++){var i=this[r];i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[t]=e}return this},transform:function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this},on:function(t,n,r,i){function a(t){var i=t.target;if(e(i).is(n))r.call(i,t);else for(var a=e(i).parents(),s=0;s<a.length;s++)e(a[s]).is(n)&&r.call(a[s],t)}var s,o,l=t.split(" ");for(s=0;s<this.length;s++)if("function"==typeof n||n===!1)for("function"==typeof n&&(r=arguments[1],i=arguments[2]||!1),o=0;o<l.length;o++)this[s].addEventListener(l[o],r,i);else for(o=0;o<l.length;o++)this[s].dom7LiveListeners||(this[s].dom7LiveListeners=[]),this[s].dom7LiveListeners.push({listener:r,liveListener:a}),this[s].addEventListener(l[o],a,i);return this},off:function(t,e,n,r){for(var i=t.split(" "),a=0;a<i.length;a++)for(var s=0;s<this.length;s++)if("function"==typeof e||e===!1)"function"==typeof e&&(n=arguments[1],r=arguments[2]||!1),this[s].removeEventListener(i[a],n,r);else if(this[s].dom7LiveListeners)for(var o=0;o<this[s].dom7LiveListeners.length;o++)this[s].dom7LiveListeners[o].listener===n&&this[s].removeEventListener(i[a],this[s].dom7LiveListeners[o].liveListener,r);return this},once:function(t,e,n,r){function i(s){
n(s),a.off(t,e,i,r)}var a=this;"function"==typeof e&&(e=!1,n=arguments[1],r=arguments[2]),a.on(t,e,i,r)},trigger:function(t,e){for(var n=0;n<this.length;n++){var r;try{r=new window.CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0})}catch(i){r=document.createEvent("Event"),r.initEvent(t,!0,!0),r.detail=e}this[n].dispatchEvent(r)}return this},transitionEnd:function(t){function e(a){if(a.target===this)for(t.call(this,a),n=0;n<r.length;n++)i.off(r[n],e)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(t)for(n=0;n<r.length;n++)i.on(r[n],e);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(t){return this.length>0?t?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(t){return this.length>0?t?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var t=this[0],e=t.getBoundingClientRect(),n=document.body,r=t.clientTop||n.clientTop||0,i=t.clientLeft||n.clientLeft||0,a=window.pageYOffset||t.scrollTop,s=window.pageXOffset||t.scrollLeft;return{top:e.top+a-r,left:e.left+s-i}}return null},css:function(t,e){var n;if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n++)for(var r in t)this[n].style[r]=t[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n++)this[n].style[t]=e;return this}return this},each:function(t){for(var e=0;e<this.length;e++)t.call(this[e],e,this[e]);return this},html:function(t){if("undefined"==typeof t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e++)this[e].innerHTML=t;return this},is:function(n){if(!this[0])return!1;var r,i;if("string"==typeof n){var a=this[0];if(a===document)return n===document;if(a===window)return n===window;if(a.matches)return a.matches(n);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector)return a.mozMatchesSelector(n);if(a.msMatchesSelector)return a.msMatchesSelector(n);for(r=e(n),i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof t){for(r=n.nodeType?[n]:n,i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var t=this[0],e=0;null!==(t=t.previousSibling);)1===t.nodeType&&e++;return e}return void 0},eq:function(e){if("undefined"==typeof e)return this;var n,r=this.length;return e>r-1?new t([]):0>e?(n=r+e,new t(0>n?[]:[this[n]])):new t([this[e]])},append:function(e){var n,r;for(n=0;n<this.length;n++)if("string"==typeof e){var i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)this[n].appendChild(i.firstChild)}else if(e instanceof t)for(r=0;r<e.length;r++)this[n].appendChild(e[r]);else this[n].appendChild(e);return this},prepend:function(e){var n,r;for(n=0;n<this.length;n++)if("string"==typeof e){var i=document.createElement("div");for(i.innerHTML=e,r=i.childNodes.length-1;r>=0;r--)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(e instanceof t)for(r=0;r<e.length;r++)this[n].insertBefore(e[r],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},insertBefore:function(t){for(var n=e(t),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0]);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i])},insertAfter:function(t){for(var n=e(t),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0].nextSibling);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i].nextSibling)},next:function(n){return new t(this.length>0?n?this[0].nextElementSibling&&e(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(n){var r=[],i=this[0];if(!i)return new t([]);for(;i.nextElementSibling;){var a=i.nextElementSibling;n?e(a).is(n)&&r.push(a):r.push(a),i=a}return new t(r)},prev:function(n){return new t(this.length>0?n?this[0].previousElementSibling&&e(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(n){var r=[],i=this[0];if(!i)return new t([]);for(;i.previousElementSibling;){var a=i.previousElementSibling;n?e(a).is(n)&&r.push(a):r.push(a),i=a}return new t(r)},parent:function(t){for(var n=[],r=0;r<this.length;r++)t?e(this[r].parentNode).is(t)&&n.push(this[r].parentNode):n.push(this[r].parentNode);return e(e.unique(n))},parents:function(t){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].parentNode;i;)t?e(i).is(t)&&n.push(i):n.push(i),i=i.parentNode;return e(e.unique(n))},find:function(e){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].querySelectorAll(e),a=0;a<i.length;a++)n.push(i[a]);return new t(n)},children:function(n){for(var r=[],i=0;i<this.length;i++)for(var a=this[i].childNodes,s=0;s<a.length;s++)n?1===a[s].nodeType&&e(a[s]).is(n)&&r.push(a[s]):1===a[s].nodeType&&r.push(a[s]);return new t(e.unique(r))},remove:function(){for(var t=0;t<this.length;t++)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){var t,n,r=this;for(t=0;t<arguments.length;t++){var i=e(arguments[t]);for(n=0;n<i.length;n++)r[r.length]=i[n],r.length++}return r}},e.fn=t.prototype,e.unique=function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e},e}()),i=["jQuery","Zepto","Dom7"],a=0;a<i.length;a++)window[i[a]]&&t(window[i[a]]);var s;s="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r,s&&("transitionEnd"in s.fn||(s.fn.transitionEnd=function(t){function e(a){if(a.target===this)for(t.call(this,a),n=0;n<r.length;n++)i.off(r[n],e)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(t)for(n=0;n<r.length;n++)i.on(r[n],e);return this}),"transform"in s.fn||(s.fn.transform=function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this}),"transition"in s.fn||(s.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this})),window.Swiper=n}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper})}(),function(){"use strict";var e,n=window,r=n.document,i=r.documentElement,a=!1;e={isNormal:a,link:{ios:{normal:"",pro:""},android:{normal:"https://play.google.com/store/apps/details?id=com.elitapp.coolbook",pro:"https://play.google.com/store/apps/details?id=com.elitapp.coolbookpro"}},ls:n.localStorage,savedItem:"cool-book-stories",attr:{},systemAttr:{},defaultLanguage:"ru",availableLanguages:["ru"],init:function(){var t=this;t.attr=JSON.parse(t.ls.getItem(t.savedItem)||"{}"),t.setLanguage(),t.set("isPhone",Math.max(i.clientHeight,i.clientWidth)<=736,!0),t.set("isTouch","ontouchstart"in r,!0),t.setOS(),t.detectCssJsPrefix(),t.detectTransitionEndEventName(),t.detectAnimationEndEventName(),t.setSettings()},setLanguage:function(){var t,e=this;t=e.get("language")||navigator.language||navigator.userLanguage||this.defaultLanguage,t=t.split("-")[0].toLowerCase(),t=-1===e.availableLanguages.indexOf(t)?e.defaultLanguage:t,t=t.toLowerCase(),e.set("language",t)},setOS:function(){var t=this,e=n.navigator.userAgent,r=/MSIE/.test(e),i=/android/i.test(e),a=/iPad|iPhone|iPod/.test(e);t.set("isIE",r,!0),t.set("isAndroid",i,!0),t.set("isIOS",a,!0),r&&t.set("os","wp",!0),i&&t.set("os","android",!0),a&&t.set("os","ios",!0),t.get("os",!0)||(t.set("os","ios",!0),t.set("isIOS",!0,!0))},detectCssJsPrefix:function(){var t={js:"",css:""},e=r.createElement("div").style,n=["t","webkitT","MozT","msT","OT"];n.forEach(function(n){var r=n+"ransform";e.hasOwnProperty(r)&&(n=n.replace(/t$/i,""),t.js=n,n=n.toLowerCase(),n&&(t.css="-"+n+"-"))}),this.set("cssJsPrefix",t,!0)},detectTransitionEndEventName:function(){var t,e=r.createElement("div"),n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},i="transitionend";for(t in n)n.hasOwnProperty(t)&&void 0!==e.style[t]&&(i=n[t]);this.set("transitionEnd",i,!0)},detectAnimationEndEventName:function(){var t,e=r.createElement("div"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"},i="animationend";for(t in n)n.hasOwnProperty(t)&&void 0!==e.style[t]&&(i=n[t]);this.set("animationEnd",i,!0)},set:function(t,e,n){return n?this.systemAttr[t]=e:(this.attr[t]=e,this.ls.setItem(this.savedItem,JSON.stringify(this.attr))),t},get:function(t,e){return e?this.systemAttr[t]:this.attr[t]},remove:function(t,e){return e?(this.systemAttr[t]=null,delete this.systemAttr[t]):(this.attr[t]=null,delete this.attr[t],this.ls.setItem(this.savedItem,JSON.stringify(this.attr))),t},setSettings:function(){var t,e,n=this,r={installTime:Date.now(),versionCode:1,screenAnimation:"off",storyByStory:n.isNormal?"off":"on",hint:{}};for(t in r)r.hasOwnProperty(t)&&(e=n.get(t)||r[t],n.set(t,e))},hintIsDone:function(t){var e=this,n=e.get("hint")[t];return Boolean(n&&"done"===n.state)},getLinkToStore:function(t){return this.link[this.get("os",!0)][t||"normal"]}},e.init(),t["/www/js/services/info.js"]=e}(),function(){"use strict";var e,n=t["/www/js/lib/backbone.js"]||window.Backbone,r=window,i=r.document,a=i.documentElement,s=n.Model.extend({defaults:{width:0,height:0,orientation:""},initialize:function(){var t=this;t.bindEventListeners(),t.onResize()},bindEventListeners:function(){var t=this;r.addEventListener("resize",function(){t.onResize()},!1)},onResize:function(){var t=this,e=a.clientWidth,n=a.clientHeight,r=e>n?"-":"|";t.set({width:e,height:n,orientation:r}),t.trigger("resize")}});e=new s,t["/www/js/services/device.js"]=e}(),function(){"use strict";var e=t["/www/js/services/info.js"]||window.info,n=window,r={attr:{},period:18e4,set:function(t,e){return this.attr[t]=e,this},get:function(t){return this.attr[t]},showAd:function(){return n.Android&&e.isNormal&&n.Android.displayInterstitial()},init:function(){if(e.isNormal){var t=this,r=n.setInterval(t.showAd,t.period);t.set("intervalId",r)}}};r.init(),t["/www/js/services/android-ads.js"]=r}(),function(){"use strict";var e={language:"Language",languageName:"English",shortLanguageName:"Eng",appName:"CB",notification:{storyByStoryOn:'Mode "story by story" is enabled',storyByStoryOff:'Mode "story by story" is disabled'},rateUs:{header:"If you like out app, please rate it. Thanks!",rateNow:"Rate Now",remindMeLater:"Remind Me Later",noThanks:"No, Thanks"}};t["/www/js/i18n/en.js"]=e}(),function(){"use strict";var e={language:"",languageName:"",shortLanguageName:"",appName:"CB",notification:{storyByStoryOn:' "  " - ',storyByStoryOff:' "  " - '},hint:{autoplay:'/ |"  ".|(     )',removeAds:" .| .",thanksForBuy:"!|     !",showTitle:"    ,    .",showText:"     -    .",stopAndStartPlay:"/ ."},rateUs:{header:"    , ,  . !",rateNow:"",remindMeLater:" ",noThanks:", "}};t["/www/js/i18n/ru.js"]=e}(),function(){"use strict";var e=t["/www/js/services/info.js"]||window.info,n=t["/www/js/i18n/en.js"]||window.en,r=t["/www/js/i18n/ru.js"]||window.ru,i={attr:{},languages:{en:n,ru:r},set:function(t){this.attr=this.languages[t]},get:function(t){return t?this.attr[t]:this.attr}};i.set(e.get("language")),t["/www/js/services/lang.js"]=i}(),function(){"use strict";function e(){return n.log.apply(n,arguments)}var n={isEnable:!1,log:function(){return this.isEnable&&console.log.apply(console,arguments)}};t["/www/js/services/log.js"]=e}(),function(){!function(){function t(e,n,r){return("string"==typeof n?n:n.toString()).replace(e.define||s,function(t,n,i,a){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in r||(":"===i?(e.defineParams&&a.replace(e.defineParams,function(t,e,i){r[n]={arg:e,text:i}}),n in r||(r[n]=a)):new Function("def","def['"+n+"']="+a)(r)),""}).replace(e.use||s,function(n,i){e.useParams&&(i=i.replace(e.useParams,function(t,e,n,i){return r[n]&&r[n].arg&&i?(t=(n+":"+i).replace(/'|\\/g,"_"),r.__exp=r.__exp||{},r.__exp[t]=r[n].text.replace(new RegExp("(^|[^\\w$])"+r[n].arg+"([^\\w$])","g"),"$1"+i+"$2"),e+"def.__exp['"+t+"']"):void 0}));var a=new Function("def","return "+i)(r);return a?t(e,a,r):a})}function e(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var n,r={version:"1.0.3",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0};r.encodeHTMLSource=function(t){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=t?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(t){return t?t.toString().replace(n,function(t){return e[t]||t}):""}},n=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):n.doT=r;var i={start:"'+(",end:")+'",startencode:"'+encodeHTML("},a={start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("},s=/$^/;r.template=function(o,l,u){l=l||r.templateSettings;var c,d,p=l.append?i:a,f=0;return o=l.use||l.define?t(l,o,u||{}):o,o=("var out='"+(l.strip?o.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):o).replace(/'|\\/g,"\\$&").replace(l.interpolate||s,function(t,n){return p.start+e(n)+p.end}).replace(l.encode||s,function(t,n){return c=!0,p.startencode+e(n)+p.end}).replace(l.conditional||s,function(t,n,r){return n?r?"';}else if("+e(r)+"){out+='":"';}else{out+='":r?"';if("+e(r)+"){out+='":"';}out+='"}).replace(l.iterate||s,function(t,n,r,i){return n?(f+=1,d=i||"i"+f,n=e(n),"';var arr"+f+"="+n+";if(arr"+f+"){var "+r+","+d+"=-1,l"+f+"=arr"+f+".length-1;while("+d+"<l"+f+"){"+r+"=arr"+f+"["+d+"+=1];out+='"):"';} } out+='"}).replace(l.evaluate||s,function(t,n){return"';"+e(n)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),c&&(l.selfcontained||!n||n._encodeHTML||(n._encodeHTML=r.encodeHTMLSource(l.doNotSkipEncoded)),o="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+r.encodeHTMLSource.toString()+"("+(l.doNotSkipEncoded||"")+"));"+o),new Function(l.varname,o)},r.compile=function(t,e){return r.template(t,null,e)}}()}(),function(){"use strict";var e=t["/www/js/lib/dot.js"]||window.doT,n=window.document,r={templateSelector:".js-template",mainJsSelector:".js-main-js",tmplText:{},tmplFn:{},getSymbolByMap:function(t,e){return{amp:"&",gt:">",lt:"<"}[e]},init:function(){var t=this,r=n.querySelectorAll(t.templateSelector),i=n.querySelector(t.mainJsSelector);Array.prototype.forEach.call(r,function(n){var r=n.getAttribute("data-name"),i=n.innerHTML.replace(/\&(amp|gt|lt)\;/gi,t.getSymbolByMap);t.tmplText[r]=i,t.tmplFn[r]=e.template(i),n.parentNode.removeChild(n)}),i.parentNode.removeChild(i)}};r.init(),t["/www/js/services/template-master.js"]=r}(),function(){"use strict";var e=window,n=e.document,r=(n.documentElement,{assortArray:function(t){return t.sort(function(){return.5-Math.random()})},getPath:function(t,e,n){return e+=1,10>e&&(e="0"+e),t+"/"+t+"-"+e+"."+n},arrayRemoveByValue:function(t,e){var n=t.indexOf(e);return-1!==n&&t.splice(n,1),t},getBetween:function(t,e,n){return e=Math.min(e,n),e=Math.max(e,t)},getRandomBetween:function(t,e){return Math.round(Math.random()*(e-t)+t)},toTop:function(){e.scrollTo(0,0)},copyJSON:function(t){return JSON.parse(JSON.stringify(t))}});t["/www/js/services/util.js"]=r}(),function(){"use strict";var e=window,n={pathPrefix:"www/",init:function(){},play:function(t){var n=this,r=t.road,i=t.isLoop,a=t.sound,s=n.pathPrefix+a,o=e["AndAud_"+r];i?o.playAudioLooping(s):o.playAudio(s)},stop:function(t){var n=t.road,r=e["AndAud_"+n];r.stop()}};t["/www/js/sound/player-android.js"]=n}(),function(){"use strict";var e=(window,{roads:new Array(4),pathPrefix:"",init:function(){},play:function(t){var e,n=this,r=t.road,i=t.isLoop,a=t.sound,s={playAudioWhenScreenIsLocked:!1};n.stop(t),e=new Media(n.pathPrefix+a),i&&(s.numberOfLoops=9),e.play(s),n.roads[r]=e},stop:function(t){var e=this,n=t.road,r=e.roads[n];r&&r.release&&(e.roads[n].stop(),e.roads[n].release())}});t["/www/js/sound/player-ios.js"]=e}(),function(){"use strict";var e=t["/www/js/services/info.js"]||window.info,n=(window,{roads:void 0,pathPrefix:"",init:function(){var t=this;t.roads=new Array(4).fill(new Audio)},play:function(t){var n,r=this,i=t.road,a=t.isLoop,s=t.sound;r.stop(t),n=new Audio,a&&n.addEventListener("ended",function(){if("off"!==e.get("music")){var t=this;t.currentTime=0,t.play()}},!1),n.addEventListener("canplay",function(){if("off"!==e.get("music")){var t=this;t.play()}}),r.roads[i].src="",r.roads[i]=n,n.src=r.pathPrefix+s},stop:function(t){var e=this,n=t.road,r=e.roads[n];r&&r.pause&&r.pause(),r&&r.currentTime&&r.currentTime<.1&&(r.currentTime=0)}});t["/www/js/sound/player-web.js"]=n}(),function(){"use strict";var e=t["/www/js/sound/player-android.js"]||window.androidPlayer,n=t["/www/js/sound/player-ios.js"]||window.iosPlayer,r=t["/www/js/sound/player-web.js"]||window.webPlayer,i=t["/www/js/services/info.js"]||window.info,a=window,s={init:function(){var t=this;t.initPlayers(),a.addEventListener("hashchange",t.playBgSound.bind(t),!1)},roads:[{},{},{},{}],initPlayers:function(){var t,i=this,s=a.AndAud_0,o=a.Media;s&&(t=e),o&&(t=n),t=t||r,t.init(),i.player=t},getPlayer:function(){return this.player},playBgSound:function(){var t=this,e=t.getCurrentBgSound();e&&t.play({sound:e,isLoop:!0,road:0})},getCurrentBgSound:function(){return!1},play:function(t){var e=this,n=e.getPlayer(),r=e.roads[t.road],a=JSON.stringify(t),s=JSON.stringify(r);a===s&&t.isLoop||(e.stop(t),e.roads[t.road]=JSON.parse(a),"off"!==i.get("music")&&n.play(t))},stop:function(t){var e=this,n=e.getPlayer();n.stop(t)},stopBgSound:function(){var t=this,e=t.roads[0];t.stop(e)},restoreBgSound:function(){var t=this,e=JSON.parse(JSON.stringify(t.roads[0]));t.roads[0]={},t.play(e)}};s.init(),t["/www/js/sound/sound-master.js"]=s}(),function(){"use strict";var e=t["/www/js/lib/jbone.js"]||window.$,n={attr:{},set:function(t,e){return this.attr[t]=e,this},get:function(t){return this.attr[t]},changeBg:function(){var t,e=this,n=e.get("$wrapper"),r=e.get("lastBgIndex");n.removeClass("bgi-"+r);do t=Math.round(4*Math.random());while(r===t);n.addClass("bgi-"+t),e.set("lastBgIndex",t)},init:function(){var t=this,n=e(".js-wrapper");t.set("$wrapper",n),t.loadAllBgs()},loadImg:function(t){var n=e.Deferred(),r=new Image;return r.addEventListener("load",n.resolve.bind(n),!1),r.addEventListener("error",n.reject.bind(n),!1),r.src=t,n.promise()},loadAllBgs:function(){var t,n=this,r=e.Deferred(),i=r.promise();for(t=0;0>=t;t+=1)i=i.always(n.loadImg.bind(n,"./i/background/"+t+".png"));r.resolve()}};t["/www/js/services/bg.js"]=n}(),function(){"use strict";var e=t["/www/js/lib/backbone.js"]||window.Backbone,n=t["/www/js/lib/jbone.js"]||window.$,r=t["/www/js/lib/lodash.js"]||window._,i=t["/www/js/services/info.js"]||window.info,a=t["/www/js/services/util.js"]||window.util,s=t["/www/js/services/mediator.js"]||window.mediator,o=t["/www/js/sound/sound-master.js"]||window.sm,l=t["/www/js/services/lang.js"]||window.lang,u=window,c=u.document,d=c.documentElement,p=e.View.extend({events:{"click [data-sound]":"playSound","click [data-route]":"routeTo","click .js-back":"routeBack","click .js-external-link":"toExternalLink","click .js-stop-event":"stopEvent",hide:"hide","click .js-hide-popup":"hidePopupByRouter","touchstart .js-scroll-area-container":"touchStartAutoScroll","click .js-list-backward[data-group-name]":"changeSelect","click .js-list-changed-item[data-group-name]":"changeSelect","click .js-list-forward[data-group-name]":"changeSelect","click .js-tab-button":"tabAction","click .js-tab-close":"tabClose"},extraEvents:{noScroll:["mousewheel","touchmove","gesturestart","gesturechange","gestureend"]},selectors:{wrapper:".js-wrapper",verticalSwiper:".js-scroll-container",noScroll:".js-no-scroll"},eventTypes:{down:["mousedown","touchstart"],move:["mousemove","touchmove"],up:["mouseup","touchend"]},initStatic:function(){var t,e=this,a=i.get("isTouch",!0),s=Number(a),o=e.eventTypes,l=p.prototype;l.$wrapper=n(e.selectors.wrapper),t=Math.round(14*Math.pow(d.clientWidth*d.clientHeight/153600,.5)),t=Math.min(t,24),t=Math.max(t,14),t=2*Math.round(t/2),d.style.fontSize=t+"px",i.set("remSize",t,!0),r.each(o,function(t,e){o[e]=t[s]}),n(c.body).on("contextmenu",e.stopEvent)},constructor:function(){var t=this,i=p.prototype,a={},o=i.extraEvents.noScroll,l=i.selectors.noScroll;return t.events=n.extend({},i.events,t.events),r.each(t.events,function(e,n){a[t.getFullEventNameAndSelector(n)]=e}),r.each(o,function(t){a[t+" "+l]="stopEvent"}),"stopEvent"===a.scroll&&(a.scroll=null,delete a.scroll,r.each(o,function(t){a[t]="stopEvent"})),t.events=a,t.selectors=n.extend({},i.selectors,t.selectors),t.attr={},t.setClassNames(),s.installTo(t),e.View.prototype.constructor.apply(t,arguments)},setClassNames:function(){this.classNames={},r.each(this.selectors,function(t,e){this[e]=t.replace(/\./g," ").trim()},this.classNames)},getFullEventNameAndSelector:function(t){var e=this,n=t.split(" "),r=e.eventTypes[n[0]];return r?[r,n[1]].join(" "):t},changeSelect:function(t){var e,r=n(t.currentTarget),i=r.hasClass("js-list-backward")?-1:1,a=r.attr("data-group-name"),s=this.$el.find('.js-list-changed-item[data-full-list][data-group-name="'+a+'"]'),o=JSON.parse(decodeURI(s.attr("data-full-list"))),l=o.length,u=s.attr("data-key"),c=0;o.every(function(t,e){return t.key.toString()===u?(c=e+i,!1):!0}),0>c&&(c=l-1),c>=l&&(c=0),e=o[c],s.attr("data-key",e.key),s.attr("data-value",e.value),s.html(e.value),s.trigger("change")},destroyView:function(){var t=this;t.$el.removeData().off().remove().empty(),t.remove(),t.unbind(),e.View.prototype.remove.call(t)},hide:function(){var t=this,e=t.$el,r=i.get("animationEnd",!0),a="on"===i.get("screenAnimation"),s=n.Deferred();return t.unsubscribe(),t.undelegateEvents(),t.unbindEventListeners&&t.unbindEventListeners(),a&&e.hasClass("show-view-animation")?(e.one(r,function(){t.destroyView(),s.resolve()}),e.addClass("hide-view-animation")):(t.destroyView(),s.resolve()),s.promise()},render:function(){var t=this;return t.publish("hide-main-view"),t.subscribe("hide-main-view",t.hide),t.$wrapper.append(t.$el),t.showAppearAnimation()},showAppearAnimation:function(){var t=this,e="on"===i.get("screenAnimation"),r=t.$el,a=n.Deferred(),s=i.get("animationEnd",!0);return e?(r.one(s,function(){a.resolve()}),r.addClass("show-view-animation")):(r.addClass("show-view-no-animation"),a.resolve()),a.promise()},routeTo:function(t){var e=this,r=n(t.currentTarget),i=r.attr("data-route");e.publish("navigate",i,!0)},routeBack:function(t){this.stopEvent(t),u.location.hash&&e.history.history.back()},backTo:function(t){var n=this;!function r(){u.setTimeout(function(){e.history.fragment!==t&&e.history.fragment&&(n.routeBack(),r())},10)}()},showPopup:function(t){var e=this,r=n.Deferred(),i={};return e.hidePopupByRouter(),e.publish("showPopup",t,i),i.view.set("deferred",r),r.promise()},hidePopupByRouter:function(){this.publish("router-hide-popup")},isPopupExist:function(){var t=this,e=u.location.href,n=t.popupUrl;return-1!==e.indexOf(n)},stopEvent:function(t){t&&(t.preventDefault(),t.stopPropagation())},toExternalLink:function(t){var e=this,r=n(t.currentTarget),i=r.attr("data-need-confirm"),a=r.attr("data-href");return e.stopEvent(t),"yes"===i?e.needConfirmLinkPrompt({url:a}):void u.open(a)},needConfirmLinkPrompt:function(t){var e,n,r=this,i=a.getRandomBetween,s=i(5,9),o=i(5,9),l=s+o,u=[];for(o>s&&(o=[s,s=o][0]),e=0,n=6;n>e;e+=1)u[e]=l+e-4;return r.showPopup({name:"need-confirm",cssClass:"popup-title",data:{a:s,b:o,answer:l,answers:a.assortArray(u),url:t.url}})},checkConnection:function(){var t=n.Deferred(),e="https://www.gstatic.com/android/market_images/web/play_one_bar_logo.png?t="+Math.random(),r=n('<img alt=""/>');return r.on("load",function(){n(this).off().remove(),t.resolve()}),r.on("error",function(){n(this).off().remove(),t.reject()}),r.attr("src",e),t.promise()},rateUsPopup:function(){var t=this,e=i.get("rate-us")||{},n=Date.now(),r=e.lastShow,a=e.lastNoThanks,s=e.lastRateNow,o=1728e5,u=3*o;r&&o>n-r||s||a&&u>n-r||t.checkConnection().done(function(){return e.lastShow=n,i.set("rate-us",e),t.showPopup({name:"rate-us",cssClass:"popup-title",extraEvents:[{selector:".js-rate-us-rate-now",event:"click",fn:function(){var t=i.get("rate-us")||{};t.lastRateNow=Date.now(),i.set("rate-us",t)}},{selector:".js-rate-us-no-thanks",event:"click",fn:function(){var t=i.get("rate-us")||{};t.lastNoThanks=Date.now(),i.set("rate-us",t)}}],data:{lang:l,url:i.getLinkToStore()}})})},loadUrl:function(){e.history.loadUrl()},changeBy:function(t,e){return this.set(t,this.get(t)+e)},set:function(t,e){return this.attr[t]=e,e},get:function(t){return this.attr[t]},extendFromObj:function(t){r.extend(this.attr,t)},setVerticalSwiper:function(){var t,e=this,n=e.$el;n.find(".swiper-slide").css("height","auto"),t=new Swiper(n.find(e.selectors.verticalSwiper),{scrollbar:".swiper-scrollbar",direction:"vertical",slidesPerView:"auto",mousewheelControl:!0,freeMode:!0}),e.set("vertical-swiper",t)},scrollToTop:function(){c.body.scrollTop=0},touchStartAutoScroll:function(t){if(i.get("isIOS",!0)){var e,n,r,a=t.currentTarget,s=a.querySelector(":scope > div"),o=a.scrollTop;if(0>=o)return void(a.scrollTop=1);e=a.clientHeight,n=s.clientHeight,r=n-e,o>=r&&(a.scrollTop=r-1)}},tabAction:function(t){var e=this,r=e.$el,i=n(t.currentTarget),a=i.attr("data-tab-id"),s=i.attr("data-tab-state"),o="tab-button-",l=".js-tab-block",u=".js-tab-button",c=r.find(l+'[data-tab-id="'+a+'"]'),d=r.find(l),p=r.find(u);d.addClass("hidden"),p.addClass(o+"close").removeClass(o+"open").attr("data-tab-state","close"),"close"===s&&(i.attr("data-tab-state","open").removeClass(o+"close").addClass(o+"open"),c.removeClass("hidden"))},tabClose:function(){var t=this,e=t.$el,n="tab-button-",r=".js-tab-block",i=".js-tab-button",a=e.find(r),s=e.find(i);a.addClass("hidden"),s.addClass(n+"close").removeClass(n+"open").attr("data-tab-state","close")},playSound:function(t){var e=n(t.currentTarget),r=e.attr("data-sound");o.play({sound:r,road:3,isLoop:!1})}});t["/www/js/app/view/core/base.js"]=p}(),function(){"use strict";var e={ru:[{folder:"baba-yaga-i-yagody",title:{text:"   "},pages:[{text:"  ,   ,   ,      .      -,          ,          -  .            :    ,    .",time:33.818375},{text:"-         ,   :         ,   ,   .   , ,      ,    .|       .     ,      .  -    :|-  ,   !",time:37.815125},{text:"  ,         ,     ,   ,   :|-        !    !|   ,      ,   .          .",time:30.657625},{text:"  ,  ,        ,   ,         .| ,       :|- -, , !|  ,   ,    .         .",time:31.310625},{text:"       ,  -  -  !   .     , ,  :|- --!    ,  !|, ,     ,      ,        .      ,        ,        .|   .",time:45.1555}]},{folder:"bagazh",title:{text:""},pages:[{text:"   |,|,|,|,|,||  .",time:11.8755},{text:"   |  | ,   :|,|,|,|,|,||  .",time:15.584875},{text:"   .|   .|!  :|,|,|,|,|,||  .|   ,|   .",time:19.29425},{text:"   :|  .|   :|,|,|,|,|,|...|!  ?",time:15.480375},{text:" :   |  .|    ,|,   ,|,|,|,|   .",time:18.353875},{text:"   .|  |   :|,|,|,|,|,|,|   .",time:19.633875},{text:"-  .|   :|! ! !| -   !|  ,|  ,|,|,|...|  !",time:22.89925},{text:", !  ,|  ,|   :|,|,|,|,|,||  .||  || !",time:50.406125}]},{folder:"kolobok",title:{text:""},pages:[{text:"-   .| :|- , , .|-   -?  .|- - , !   ,   ;    .",time:39.748125},{text:"  ,   ,   ,      .",
time:8.375125},{text:"  ,        .",time:8.793125},{text:" -,         ,    ,     ,     ,    ,    ,    ,   .",time:25.772625},{text:"   ,    :|- , !   !|-   ,  !    ,    :|   ,   ,|   ,   ;|   ,    ,| , ,   !|   ;     !",time:33.113125},{text:" ,    :|- , !   !|-   ,  !    !|   ,   ,|   ,   ;|   ,    ,|   ,| , ,   !|   ;     !",time:31.624125},{text:" ,    :|- , !   .|-  , ,  !|   ,   ,|   ,   ;|   ,    ,|   ,    ,| , ,   !|  ;     !",time:36.796375},{text:",  ,    :|- , !   !|  :|   ,   ,|   ,   ;|   ,    ,|   ,    ,|  ,| , ,   !",time:49.700875},{text:"-   !   . -   , ,  ,  ; -   ,     .|         .|- , !  ,   ! -        , -      .|     ,   -  ! -  .",time:93.664875}]},{folder:"kurochka-ryaba",title:{text:" "},pages:[{text:"    ,",time:21.828125},{text:"     .",time:4.378375},{text:"  .",time:17.8315},{text:"   - .",time:3.908125},{text:" ,  -  .",time:18.406125},{text:" ,  -  .",time:5.867375},{text:" ,  ,|   .",time:8.740875},{text:" ,  .",time:4.718},{text:"  :|'  ,   ,",time:8.14},{text:"    ,| ,  '.",time:11.17025}]},{folder:"pro-glupogo-zmeya-i-umnogo-soldata",title:{text:"     "},pages:[{text:"  ,        .        .  , ,  .        .      :|-  !    !|   - .      ,     .    -     .       .  - ,       .|- , -  , -      ?|    ,  .     -      .           ,    .|- , ! -  .",time:76.162875},{text:"- , , -  , -   , ,   !|-       ?|-  ,      ,   ,   .     ,    .   ,   -  .|-    ,   ! -  . -     ,   ,     .|  ,    ,     -   .       :|-  ,      ,   !|-   ? -  .|-     ?|- ,      !",time:68.56125},{text:"- ,  ,   ! -  , -      !|- , !|       :|- ,       ,    !|-    ,  !|    , ,   ,      .  ,     .|- ,  , ! -  ,       ?|- ,    ! -  .|-   ,  !  !|   ,        .  ,   .    ,     .",time:65.8445},{text:"-  ,  ,  ?|- , ,     .       !|-  , !|     -     ,     .|-   ? -  . -   ,   .     ,      !|    ,       ,       ,       .|- ! -    , - , !             !|-  ,      ?|-  ,   . -  ,  !     ,    - .",time:73.36775},{text:"- , -        .   ,    !|- , ,      . - -  ,   ,  ,  ,   !|   .  - :   .   ,           .| ,         .|- ,    ?|-  !         ,   .|-   , , !   ?   !|    , ,  ,      .",time:61.53425},{text:"-    ? ,      ?|- ,   !| ,       .|-  , -   , -   !   .   .|   ,      !    .   ,      .  ,      .|- ,    ?|-  ,        ,       .|- ,   - ,        !|        .",time:58.242875},{text:"  :|-     ,     ,   ,    !|   ,   ,   ,   ,   .      ,     .| ,    ,     .|- ,     ?|-       ! ,       !|- ,   - !     ! -  .     ,        .",time:53.227375},{text:" ,  ,  , ,    .|       .      .      ,        :|-   ,  ?|-    , -  , -     ,    !|- ,  ,  !|-   ,   !     !|-     ? - !|   ,        ,   .",time:54.246125},{text:"    ,      , ,   :|-   !  ,  !|      :|-     ?|-   ,    !|- ,       , -  , -     - ?|     .         ,    .   ,   ,    -   .",time:52.33925}]},{folder:"repka",title:{text:""},pages:[{text:"  .   :|- -, , ! -, , !",time:12.580875},{text:"  , , -!|   . -,   .",time:9.838},{text:"  .  -  ,  -  : -,   !",time:11.327},{text:"  .  -  ,  -  ,  -  : -,   !",time:12.319625},{text:"  .  -  ,  -  ,  -  ,  -  : -,   .",time:14.59225},{text:"   . -  ,  -  ,  -  ,  -  ,  -  : -,   .",time:25.407},{text:"  .  -  ,  -  ,  -  ,  -  ,  -  ,  -  :",time:31.206125},{text:"- -   .",time:8.375125}]},{folder:"teremok",title:{text:""},pages:[{text:"       .",time:19.39875},{text:" -  :|-  -?    ?| -  .        -.",time:15.637125},{text:" -  :|-  -?    ?|- , -.   ?|-  -.|-    !|    .",time:17.67475},{text:" -  :|-  -?    ?|- , -.|- , -.   ?|-   - -.|-    !|   .",time:20.496},{text:" -  :|-  -?    ?|- , -.|- , -.|-   - -.   ?|-  -.|-    !|C   .",time:26.138375},{text:"   :|-  -?    ?|- , -.|- , -.|-   - -.|- , -.   ?|-  -,   .|-    !|   .",time:21.358},{text:"    :|-  -?    ?|- , -.|- , -.|-   - -.|- , -.|- , -,   .   ?|-   -   .|-    !|   .",time:27.758},{text:" :|-  -?    ?|- , -.|- , -.|-   - -.|- , -.|- , -,   .|- ,  -   .   ?|-  - - -  .|-    !|      -   .",time:33.713875},{text:"   :|-  -?    ?|- , -.|- , -.|-   - -.|- , -.|- , -,   .|- ,  -   .|- , - - -  .   ?|-     - !|   ,      .",time:56.41425}]},{folder:"zayushkina-izbayshka",title:{text:" "},pages:[{text:"-   .     ,    - .| -,    ,     -.",time:40.4535},{text:"     ,      !|  , .    - :|- --! , , ?|-     ?     ,    - .     ,     !|- !  , !    !|   ,  :",time:38.651},{text:"- --! , , !|    :|-  ,  ,    !|   .|   , .    - : -  , , ?|-     ?     ,    - ,     ,     !|-  !    !",time:42.673875},{text:"- ,  !   -      !|- , !|-    ,   :|- , , !|    :|-  ,  ,    !|   .|  ,    :|- ---! , , ?",time:34.7065},{text:"-    ?     ,    - .     ,     !|- --! ,    !|- , ,  !  -  ,   -      !|- , !|   ,   :|- , , !|    :",time:42.778375},{text:"-  ,  ,    !|   .|   ,   . E     :|- --! O , , ?|-     ?     ,    - .     ,     !- ,    !",time:44.5025},{text:"- , ,  !   -  ,   -  ,   -  ,    !|- , !|   ,   ,  :|- -!   ,    ,|  , , ,  !|, , !|- !",time:24.989},{text:" :|-   ,    ,|  , , ,  !|, , !|  : !|   :|- !   ,|   !...",time:47.689375},{text:"   ,    -    !|     -   .",time:9.7335}]},{folder:"zhuravl-i-tsaplya",title:{text:"  "},pages:[{text:"-        .  -,   .|       ,    .|- -    ! -    .",time:33.6355},{text:"   ,  .  ,    :|- ,  ?|- ,     !   , ?|-    !|   :|- , ,  !    :    ,  .    !      .|      .",time:42.177625},{text:"  : '    ?   , -   '.|     . - , :|- ,   !|- , ,      ?      .|       .",time:38.5465},{text:"    :|'   ! - -  !'|  :|- !       .|- ,      !|    .| :'  .  - ?'.      ,      .",time:36.14325},{text:"            ,    .   ,    .",time:16.49925}]},{folder:"zolotoy-topor",title:{text:" "},pages:[{text:"      .|  ,         .    .       :|- , , ?|- , , .",time:24.8845},{text:"             :|-  ?|- , -  , -  ...|    .     ,  -  -  :|-  ?|- , -  , -  ...",time:29.273125},{text:"        ,  :|-  ?|- , !|      .",time:13.756375},{text:"     .       .|          .",time:14.59225},{text:"   ,     ,   .|   , :|-   ?|-     .",time:14.8535},{text:" .         :|-  ?|- , ,  ! -  .|          .",time:16.9955},{text:"      .",time:3.882}]},{folder:"kak-lisa-s-ovtsoy-volka-nakazali",title:{text:"     "},pages:[{text:"-    .   ,  !     .| , .   :|-  , , ?|-  , -,    ,    .   :    ,    ,    , , .",time:41.602875},{text:"- ,   , -!     :    ,   ,    .|      :  . ,   .",time:21.932625},{text:"  - -,  :|- , !   ?|-    , -  .|-  ,     ! -  .|   .",time:15.689375},{text:"     :|- , , -   - !|  ,   :|-    ?|-      !",time:16.264125},{text:"-   ?|-  ! -  .     ,           :|-      !",time:16.211875},{text:",   ,  ,   .     .",time:7.304125},{text:"   -        .",time:5.998}]},{folder:"kot-i-lisa",title:{text:"  "},pages:[{text:"   ,   ,  !     ,    .",time:15.5065},{text:"      .|-   ! -  .|-  -  ,    ! -  .|-    ,  !      , -  .|    .",time:45.9915},{text:"            :|-     ,      , -   .",time:41.341625},{text:"              :|-  -     , -     .",time:38.468125},{text:"     ,     .",time:36.14325},{text:",   ,  :        .|- , ,    ,     , -     .",time:38.25925},{text:"       .    ,      .|    .      :|-    !|     ,          .",time:84.44375},{text:"    ,    ,   .   ,   ,     .     .       .  , ,     .        .",time:41.655125},{text:"-  ,     ! -    .",time:12.006125}]},{folder:"kot-kozyol-da-baran",title:{text:",   "},pages:[{text:"-    ,   .   :   -   .     ,    !     ,    ,     ,   .|         .    - -,  .     .    :|- -,  ,    ,    ?",time:67.516375},{text:"  : -    :   , ,  ,  ,      ...|-         ? -    .|- ,   ,     , -    -.|- -,  ,     ?|-     ?   ,  : '   ,    ?     '.",time:60.646125},{text:"    :|-  ,  ,   !   - ?|  ,     .     .|-  ,   , -  -, -     ?   !|      ,  .   , , ,     .",time:49.77925},{text:"  ,    ,    ,         -  .      :|-     !       !| ,    ,     ,  ,   .  ,  ,  ,     .",time:57.485375},{text:"     ,      -   .  ,    ,    , .|-   ? -    .| -   ,           .    ,   ,     .    .|- , -   , -  .",time:48.107375},{text:"   , ,     ,  :|- , ,   ! -   ...|-  ,  ! , , ?|-   ,   ,    .    .|    .   ,   ,      .  ,   , ,  -      .",time:52.3915},{text:"  ,    ,   ,    !|- -! -      , - -  !   !|    ,   -    :|-  ,  ,   ,     ,    ,  ,   !      ?  -  !    ,     .",time:57.589875},{text:"   ,  : '      ,    !'|  ,       .   , ,       !   ,  , .",time:30.109},{text:"          :|-    ,      !|     -,     .",time:39.748125}]},{folder:"lisa-i-volk",title:{text:"  "},pages:[{text:"  .       :   - -  ?  :      .|-    , -  .  ,   ,  ,  .  ,   !",time:30.840375},{text:" ,     :|- !       ! -         .  ,     .",time:16.9955},{text:"  ,          :   ,    .        .|  ,  -  ,  ''!|       ,      .   -  ,      .|- , ,    ?|- , !",time:36.587375},{text:"-    !|-  ,  ! ,   !  ,    !|-   , !|-  , !      !|-     ? !|- !    ,   ,   : ', ,   !' -   !",time:36.87475},{text:"    ,   ,   :|- , ,   ! ,   ,   !|  ,     :|- ,    ! , ,  !|-   ? -  .|-  ,   , : ' ,   !'",time:28.437125},{text:"     ,   ,   - .|-    , ?|-  ,  ,   .|   ,   :|- , , ,    !|  :|- , ,  !",time:22.664125},{text:" ,    ,  :|- ,  , !| : '-!'   - .|- ,   ! -  , - : ', , ,    !'|A    ! ,  ,      !",time:25.929375},{text:"   ,     :|-   ,  !    !|   ,   ,    :|-  , !   !",time:23.00375},{text:"   .    ,   ,     ,  .     :|- , ,  !|    .",time:21.436375}]},{folder:"petushok-zolotoy-grebeshok",title:{text:"   "},pages:[{text:"- ,    -  .    ,  .        ,    .  -  :",time:22.58575},{text:"-   ,    ,    .   ,    .| ,      ,   ,     :|- , ,| ,| ,| ,|  ,|  .",time:29.9},{text:"     .     ,    .  :|-   |  ,|  ,|  ...|  ,  ...",time:19.60775},{text:"   ,        .|             :|- , , ,    ,    ,    .| ,        :",time:25.537625},{text:"- , ,| ,| ,| ,|  ,|  .| , .   - :|-  ,| ,| ,|  ...",time:19.033125},{text:"     :|- --!   ?|    ,    .  :|-   |  ,|  ,|  ...|  ,  ...",time:21.4625},{text:"   ,   .  ,  ...   -  ,  ,   .| ,  ,         . , -  :|-   ,    ,    ,    .|         .|     -     :",time:40.0355},{text:"- , ,| ,| ,| ,|  ,|  .| , .   - :|-  ,| ,| ,|  ...",time:20.260875},{text:"  .   - :|-  ,| ,|- ,|  ...|     :|- --!   ?",time:17.46575},{text:"         ,   ,   ,   ...",time:9.393875},{text:"   ,   -      .     - - .|      .  ,  ...    .",time:18.406125},{text:"     :|- , , ,| ...|   -,|    ?",time:27.131},{text:" ,   :|'-  -       ,  '.      .      -   -.   ,     .",time:20.6265},{text:"  ,      .|       ,    .",time:11.039625}]},{folder:"zimove-zverey",title:{text:" "
},pages:[{text:" , , ,      .",time:11.06575},{text:"   , .     ,   ,   ,  ,       .    ,   .|  ,   .    .      .",time:30.187375},{text:"   :|- , ,  !      ,   ,     .|- , , -  .|    :|- , ,  ,  !    ,  ,  ,     ,  ,  !|  .  ,    :|- , ,    !",time:54.429},{text:"   ,  ,  ,  ,  ,  ,     ,  !|  .  , ,      :|- , !   ,  !    ,  ,  ,  ,  ,  ,  ,  ,     !|  .",time:53.697625},{text:"     ,  ,  ,  ,  ,  ,   .  ,  ,  ,  .      .",time:27.8625},{text:"  ,  .    ,     !      ,    ,     ,       .  ,  .",time:21.175125},{text:"      .   . ,   , :|- - , , ,     .    ,   !|        .   ,    ,   :|- ! !",time:32.82575},{text:"  ,   ,  :|- !|   , , :|- , , !| ,    :|- !|  ,    ,     :|- , , !!!   ?!",time:31.728625},{text:",    !     . ,  :|- , , ! , , ! .......| ,  .    -,    .",time:26.97425}]},{folder:"nesmeyana-tsarevna",title:{text:"-"},pages:[{text:" ,    !       ,    ,       .     ;     ;   !|  ,   ,     -.    ,  ,  !  ,  ,   ;     ,   ,      .   -    .",time:36.796375},{text:"      ,     .|- ,- ,-   -;  ,    .|  ,      !    ,  -    ,    ,   ;  ,       .|        ;     ,   ,    .",time:45.051},{text:"  -  , ,   .   ,      :|- ,- ,-  !|      .|     :      ,     ?    ,        ,    -        .     .      ,       ,   .",time:43.744875},{text:"- ,- ,-  ;  ,   :   ,    . ,   ,  ,   !|    -       !| ,   ,      :|- ,- ,-   !|      .|  ,    ,     ;  ,        -     .|     ,  ,  .",time:45.7825},{text:":    , ,      ;    ,     ;     ,       .  ,  ,   .| ,   ,     :|- , ,   ;  ,   !|   .|    ,       :   ,     .   , ,      ;   :",time:52.02575},{text:"'    ,  !'|     .   ,  :|- ,  !  ;    !|  .  ,  :|- ,  !  ;    !|   .  ,  :|- ,  !  ;    !",time:35.568625},{text:"    ,  .    ;  ,  ! ,     ,     .      , - ,   -      .  ?     ,    ,      .|      ,   -, -;  . , :   ,   ,   .",time:49.962},{text:",     -  .|-,    ?   .  : ''; : ''.|- ! -  -. -   ! -    .",time:21.645375},{text:"   ,       -!     ;  ,   .| :       ? ,  ,   ,   .",time:23.65675}]},{folder:"kroshechka-khavroshechka",title:{text:"-"},pages:[{text:"    :   ,   ,    ,      .   -   -,   .        , , .   -   . ' ,   ,     ' -    .",time:35.150625},{text:"       : ,   .  -    ,   ,        .        ,        .",time:31.624125},{text:"   - -  .       ,         -:|- -,   ,  ,  ,  ,      .        ,     ...!|   :|-   -  !      ,    ,   -   .",time:40.322875},{text:"      :      ,   ... :     ,    ;       .| , ,   .    ,  -    .|        ,  ,   .     ,   ,      .",time:25.224125},{text:"   :        ,      ?|  -  ,  -  .   - :  ,  .    ,   .  - :|- , , , ! , , , !|  ,   .      ,     .      .",time:37.58},{text:"      , , :|-  , ,   ,   ,   ,      !|   -.    ,   ,    .  -  :|- , , , ! , , , !|     ,    ,   .      .",time:28.045375},{text:"            , -    .|    .       .   ,    :|- , , , ! , , , !|  -  !      ,   ,  -     ,   ,        !",time:39.095125},{text:"       .     ,     :|-  !| ,  :|- , ,     ,     ?|    :|-    !| ,  ,   .",time:19.686125},{text:"   -,   , :|- -,      !|   :|-  ,  ,    ,    .       ,    .    ,   .|  , -    ,   ,     .",time:29.273125},{text:"   ,        .|    ,     ,  ,    !   ,       . ,    - ,    - .|        ,         - , , .",time:35.438},{text:"   -,    :|- -,    ?      ,    !|,       ,   - !       ,          .     -    .     -    .   ,  ,   !",time:25.772625},{text:"    -.     ,    .    ,    ,   .      -,    .",time:14.200375}]},{folder:"sivka-burka",title:{text:"-"},pages:[{text:"- ,     .   ,    ,  , -,    -      ,       .    ,     :|-  ,         ,   .|  .",time:54.611875},{text:" ,      ,     ,   ,     :|- ,     ,     .    .| ,  ,     . , ...",time:23.029875},{text:"   ,      :|-  ?  ,   ? ,    :   ,   ,    ?| :|-  ,  .     .|      .    ,   .| -    :|-  ?|- .|-   ?|- .  .",time:41.05425},{text:"  .    ,     ,   ,   :|- ,     .    .|- .|  ,     , , .",time:17.57025},{text:"   ,    :|-  ?  ,   ? ,    ,   ,   ,    ?| :|-  ,  .     .|      .    ,    .|   :|-   ?|- .  .",time:35.673125},{text:"      .   :|-    .       ,   .|  :|-  , ,    ,   .|-  .|  , .",time:26.11225},{text:"   ,    :|-  ?  ,    ? ,    ,   ,   ,    ?| :|-    .     .|     :|-     ,         .",time:30.291875},{text:"     : '-,  ,   ,    !'    ,      ,    .    .     .|  ,     ,    .|   :|-  ?|- .|-   ?|-        .",time:41.05425},{text:"        , , ,    .  ,  ,       ,   .           ,             .   ,      ,      ,  ,    .|        :|-   .|     , ,   ,  .          :|- ,      !|- , !      ,   .",time:80.3425},{text:"    ,  , ,  -   .         .      ,    :|- -,  ,   ,    !|    ,  ,    ,     .     :|-  ?|  , ,     ,        ,   ,  ,   .        . - ,  , -  , -   .",time:61.220875},{text:"    ,    -.      ,            .      :|-   , ,             ,         .|    .   - ,  !   ,    .|   .   -, , ,  -     .  ,     -    .  , ,      -  ,   ,       ,       ,  .",time:83.9735},{text:"   :|- ,  !|    .|    ,  -   ,        -.  ,    ,    .   ,     .|  , ,     .|-   ,     -        . ,  ,   ,  .|     :|-      ?",time:50.01425},{text:"   :|-  -   !       .|               ,    ,    .        .   :|-    !|-  , ,  !       .|     ,     ,-   .  , :|-  , , ?  !|      ,    .",time:53.279625},{text:"         .|     .      ,     .|   ,   ,       .    -    ,  .      :|-  ? ?    ?|- .",time:35.307375},{text:"    -     .   :|-   !    !|   :|-   !  ,   .|  :|-   .| .",time:23.996375},{text:"     ,    :|- -,  ,   ,    !|    ,  ,    ,     .      ,        ,   ,  ,   .     .|   :     .",time:57.276375}]},{folder:"gusi-lebedi",title:{text:"-"},pages:[{text:"   .       .|- , -  , -    ,  .    ,   -    .|   ,   ,   :      ,    , , .  -,  ,   .",time:37.815125},{text:" ,  -  ! ,  - - !   ,  , ,       , -   .|       :   -     .   ,     :  -     -   ,   .",time:39.3825},{text:"   . , ,  -  :|- , , ,  - ?|  :|-     - .|-     !       ...|   .   -  :",time:28.9335},{text:"- , , ,  - ?|-     - .|-       ...    .|  .      :|-  ,  ,  - ?|-       - .|-       ...|    ,  .    ,   -   .",time:43.144125},{text:"  -     ,   ,   .       .     ,   .    :|- , !|- , !    ?|-   ,   ,  ,  .|-    .|-   ,   .",time:42.85675},{text:"  -  -      :|- , ,   ,    .    ,   :|- -   .   -,   ,   ,     .|     , ,   :|-  ,  , ,      .|    .  -     :|- ,  ?",time:41.15875},{text:"  :|- , ...|-      .     . - :|- -!   !   !|      .  -  -.|- , ,  !|-    .|    .      .",time:36.45675},{text:"-  ,  .     .  -  , - .  ? !  :|- , ,  !|-    .|     .    ,  . -  ,  .   . , ,   .  -  ,  - ,  ,  ,    .",time:44.45025},{text:"   :|- , ,  !|-    .|  -   ,      ,   . - -, -       -.          .       .",time:31.258375}]},{folder:"kak-lisa-letat-uchilas",title:{text:"   "},pages:[{text:" -    :|-  , -?|-    , ,      ...|-     !  !|   ,     .   -  !|-  , , ?|-   ,   -?|-      ! -       .    ,  ,     .",time:44.0845},{text:"  :|-  , ,  ?|- , -   ,   !|-   ,  !    .|-,   ,     .     ,    ,    .|      ,    ,  .|     .",time:38.5465}]},{folder:"kak-muzhik-gusey-delil",title:{text:"   "},pages:[{text:"-  .  -   ,    -  .       ,   ,     .|   ,  ,     .   ,    ,      .    :|-         . -   ,       .|-   !",time:41.05425},{text:"   ,      :   ,     .    :|- , ,   !   ,   !|- , , , !       ?|-  , -   ,   . -     :|-  ,       .",time:35.856},{text:"  ,  :|-  , ,   ,      !|   :|-      ,    !|    :|- ,    ,    .   ,     ,   !",time:33.24375},{text:"     .|   ,   ,     .|    ,   .          .|-    ?|-  ,      .|- , , .      ,   ?| , ,    ,   .",time:39.669875},{text:"        .|      :|- , ,   !|   ,   - ,   :|-   !|      :|-     !| :|-  !      !|    ,      .",time:37.58}]},{folder:"petushok-i-bobovoe-zyornyshko",title:{text:"   "},pages:[{text:"       .  ,  .   ,  ,  !| ,     :|- --! -,   ,  ?| :|-  ...  ,   -  ...",time:39.617625},{text:"   :|- --! -,    -  ,  ,  !| :|- -,   ,  !",time:16.159625},{text:"   :|- --! -,   !  - ,    ,  - .  ,  ,  !| :|-   ,  !",time:18.667375},{text:"   :|- --! -,   !  - ,   ,  - ,   ,  - .  ,  ,  !| :|-   !  !",time:23.317125},{text:"   :|- --! -,   !  - ,   ,  - ,   ,  - ,   ,  - .  ,  ,  !|-   ,  ,  !",time:21.4625},{text:"   :|- --! -,   ,  - ,   ,  - ,   ,  - ,   ,  - ,   ,  - .  ,  ,  !|-   ,  , -  .",time:27.261625},{text:"   ,  ,   .   .   ,   .   ,   .",time:12.685375},{text:"   ,   .   ,   .",time:6.91225},{text:"   .      .|  :|- ---!",time:18.144875}]},{folder:"kasha-iz-topora",title:{text:"  "},pages:[{text:"     .   ,  .|  ,    :|-    !",time:18.4845},{text:"  :|- , ...|-     , ,  ?| ,  ,    :|- ,  ,      ...  !|- ,     , -  .",time:27.679625},{text:"       :|-    ,      !|  :|-      ?",time:16.917125},{text:"- - ,  ,     .|  .   ,   ,      .|   ,   .",time:18.4845},{text:"  ,  , ...",time:6.70325},{text:"- , ? -  .|-   , -  , - ,    .|- -   , .",time:15.0625},{text:" ,  :|- ,     !|    :|- , , ,  ...",time:15.245375},{text:",  ,  .  ,   .|- ,   ! -  , -     ,    !|    ,  .",time:22.429},{text:"- ,  , !|  ,  .|-    ,       ! -  .|  ,  .",time:22.716375}]},{folder:"slovo",title:{text:""},pages:[{text:"    ,  .    ,    .     . -,  - .  ,  ,  -  !   -  ,   -  !   -   ?    ,   .    :|- --!| :|-  ?|-  !|-  ?|-  !|-  , ?|-  !|-   !|-   ?|-  .|-   ?|-    !|- , !|  :|- !|    :|- , ?|- !",
time:73.42},{text:" - ,       .|     :    , ,   .       ,            .| :|-  , , ,   .  ,  , ,    !   :    .    -    ,  , -      .",time:41.15875},{text:'      :|- !|  :|-  , ?|-    !|        .    .|"  !" -  , -    !"|         .|   ,    ,    ,     -   ,  ,  ,   .      ,  .         ,   ,   .',time:45.41675},{text:'    .     ,   .      : "    ,     ,    !         ..." -   .         :     ?  ,  ,      !|   ,   !       :|- !',time:43.27475},{text:' :|-  , ?|- !|  ,     .       .|     : "-  ,     ?"   ,   ,   ,  !|    -  ,   -  !  ,   ,   .',time:40.14},{text:"   ,     - , ,  .    ,  -      .  -   :   ,     !     -  .|   ,      :|-  , ,  ? -  .|-   ? -  .   :|- ,   ?|- ! -  .",time:43.509875},{text:"- !   -  !|   :|- !|  :|-  !|-   !| ,    :|- , ! -    !  :|- , ! -   :",time:24.100875},{text:"- , ! -    -!  ,  !   :|- ,   ?|- !|-   ?|- !|-        !|   ,         .    ,   !  :|- ! -   .  :|-   ! -   .     ,     , .   :|- ,     !|      ,          !|  :|- ,    !| - !   :",time:61.717125},{text:"- ,   , , ,  !|     -!  :|- ,   ,       !|   .  :|- ,   ,      !|   .  :|- ,   ,  ,  ,   !|          ,  ,  ,  .         !",time:46.59225}]},{folder:"moy-schenok",title:{text:" "},pages:[{text:"     -|   .|   ,|   ,|   |   .",time:19.686125},{text:"  | |   ,|   ,|,|,| .",time:9.446125},{text:"   -|  .",time:4.45675},{text:"    -|   .",time:4.273875},{text:"    ,|    ,",time:5.6845},{text:"    ,| | ...",time:6.729375},{text:" ,  ,|  ,|  ,| |?",time:7.251875},{text:",    |   ,",time:3.960375},{text:",| ,|, ,  ?|  ,   .| : - .",time:10.09925},{text:"   ,|    ,|  ,|   .",time:9.184875},{text:"|-  |  ,|  ...|  ?| .",time:15.611},{text:" ,| |   ?| ,   ,| ,|, ,  ,|   .| : -  !|    .",time:20.757125},{text:" ,| |   |  -| .|     -|   .",time:17.36125}]},{folder:"masha-i-medved",title:{text:"  "},pages:[{text:"-   .     .|          .      .| , ,   ,       !|   :| ,          .",time:31.728625},{text:"   ,     .      ,       -  .",time:11.039625},{text:"  ,   .    ,  .|,       .",time:10.987375},{text:"    ,   .  -  .",time:6.128625},{text:"      .   ,   .",time:6.285375},{text:"   ,     .|  :|   ?    ?..        .      :    .   ,  , .| ,  ,     !    .   ,   ,   .| , ,    .       .",time:36.744125},{text:"      ,          .|   ,  ,        !|  ,     .  ,       ,    ...| ,   .|    ,     :| , ,      :      .| ,   ,     .  ,    !|    !   ,  -    :| , :     ,       .  :     ,   .    ,    !| ,   ,   !  :|   , ,    !     ,      ,        .",time:77.41675},{text:"  ,    .        .    ,    ,   ,   .|-,   :|  ,| !|   :|, !|   ,|  !| ,| !|   ,   ,   !      . -, -, ,   :|  ,| !|    :|, !|   ,|  !| ,| !| :|   !  ,  !    .",time:63.44125},{text:"  ,  ,     ,        :| --! , !      .|       .    , .  ,          .",time:24.989},{text:"      .   .|    ?   .|   ,      :        .",time:16.49925},{text:"   .   , ,  .",time:12.03225}]},{folder:"mukha-tsokotukha",title:{text:"-"},pages:[{text:", -,| !|   ,|  .|   |  :|, ,|   !| ,|  ,|  |  | | :| -|!",time:41.759625},{text:"   ,|  ,|   |   .",time:9.89025},{text:"  |-,|-| |-,| !|   | ?",time:16.029},{text:" - ||   | |  ,| !| , !|- !|   ,|   ,|  |   !| -|,| ,  |:|| ,| | ,|   |  !|    | :|-|!| ,  ,|,   ,|, , , !| ,| | !",time:58.896},{text:" -  ,|-    ,|     |    .|  ,|,|  ,|.",time:22.011},{text:" - | ,|    | .| ?  ?|   !|  ,| |    | !",time:21.122875},{text:"   |   :|  ,|  | , -,|   !|   | - :|,   |!| ,|  |-  ,|- !|, ,|  ,| ,| !",time:43.71875},{text:" ,|  .|! ! ! !|   .|   , | , !|  ,|  .|  ,| ,| ,|  .|-, -,| .|  |  | , ,| !|, !|  , |  |  :| ,| ,|----!| ,| , |,  |  :| -|!",time:56.440375}]},{folder:"snegurochka",title:{text:""},pages:[{text:"-   .  , .   ,    -     .    ,    ,     ,              .|-  , , -  , -       .|- , -  .",time:38.91225},{text:"  ,          .    , ,  ,    .   , , .",time:21.645375},{text:" - a y   ,  ;      .   ,  , ,     -      .| ,    .   ,  .",time:36.691875},{text:"        ,   ;   ,    .  ,  ,    ,    .",time:17.1},{text:"    ,     .    ,  ,  .   , .       ,    - .",time:21.358},{text:" .    .    ,  .    .|-    , ? -  .     ?   ?|- , , , ,  .|    ,    ,  .|      ,   .   .      ,    - .",time:46.54},{text:"   ,   .   ,   .        ,  ,   ,     .",time:19.9735},{text:"   .      ,  :|-   , ,   ,  , .|     ,    :|- , ,   !",time:23.317125},{text:"     .   ,  ,  ,  .    - .",time:13.83475},{text:"  ,   ,          .     .|      .",time:15.637125},{text:'     ,    .       .    ,    - : "!"   -   .|   :|- , , !|     ...',time:45.20775}]},{folder:"pod-gribom",title:{text:" "},pages:[{text:"-    .| ?|     ,        .",time:14.304875},{text:"     .|      ",time:6.49425},{text:"    :| , ,    !      !|     ?   .     - .| !  ,    .",time:18.197125},{text:"    .|    ",time:5.94575},{text:"  :|    !     .|     ?    .|  !",time:10.96125},{text:"     .|      ",time:5.94575},{text:"     :|  ,  !     , ,  !|   .| , !| .",time:15.793875},{text:"    .",time:3.725375},{text:"     ,  .| ,  ,  !    !..|  ,   .    .",time:11.509875},{text:"     .",time:3.5425},{text:"   ?  .|  .|  , :|     ?|    !|    .",time:15.898375},{text:"       .   -   .|   :|   ?       ,      !",time:19.869},{text:" --! --!   -.| :       :| , ! -|   .|      ,       ,      .|  ?",time:31.362875}]}]};t["/www/js/app/books-data.js"]=e}(),function(){"use strict";var e=t["/www/js/lib/jbone.js"]||window.$,n=t["/www/js/services/info.js"]||window.info,r=t["/www/js/services/bg.js"]||window.bg,i=t["/www/js/services/lang.js"]||window.lang,a=t["/www/js/services/device.js"]||window.device,s=t["/www/js/services/template-master.js"]||window.tm,o=t["/www/js/app/books-data.js"]||window.booksData,l=t["/www/js/app/view/core/base.js"]||window.BaseView,u=(window,l.extend({events:{"click .js-story-by-story":"setStoryByStory","click .js-title-book-wrapper":"openBook"},initialize:function(){var t=this,e={};return t.setElement(s.tmplFn.home({info:n,booksData:o,shelf:t.getBooksOnShelfNumber()})),Math.random()>.5&&t.$el.find(".js-partner-link").off().remove(),t.bindEventListeners(),t.render(),t.setVerticalSwiper(),t.scrollToTop(),n.hintIsDone("autoplay")||(t.publish("showHint",{name:"autoplay"},e),e.view.onHide(function(){t.publish("showHint",{name:n.isNormal?"removeAds":"thanksForBuy"})})),r.changeBg(),l.prototype.initialize.apply(t,arguments)},getBooksOnShelfNumber:function(){var t=n.get("remSize",!0),e=8.8,r=a.get("width")/t,i=Math.floor(r/e),s=r%e/2+.6;return{firstBookMarginLeft:s+"rem",booksOnShelf:i}},setStoryByStory:function(t){var r,a=this,s=e(t.currentTarget),o=i.get("notification"),l="on"===n.get("storyByStory");l?(s.removeClass("active-on-off"),n.set("storyByStory","off"),r=o.storyByStoryOff):(s.addClass("active-on-off"),n.set("storyByStory","on"),r=o.storyByStoryOn),a.showPopup({name:"notification",timeout:3e3,data:{text:r}})},bindEventListeners:function(){var t,e=this;e.listenTo(a,"change:orientation",function(){e.publish("hide-hint",{},{doNotTrack:!0}),e.loadUrl()}),t=setTimeout(function(){Date.now()-n.get("installTime")>2e4&&e.rateUsPopup()},2e3),e.set("rateUsTimeoutId",t)},unbindEventListeners:function(){var t=this,e=t.get("rateUsTimeoutId");t.stopListening(a),t.get("vertical-swiper").destroy(),clearTimeout(e)},openBook:function(t){var n=this,r=e(t.currentTarget),i=r.attr("data-is-clicked");return i?void n.publish("navigate",r.attr("data-js-route"),!0):void r.attr("data-is-clicked","1").addClass("book-titles-wrapper-clicked")}}));t["/www/js/app/view/home.js"]=u}(),function(){"use strict";var e=t["/www/js/services/info.js"]||window.info,n=t["/www/js/lib/lodash.js"]||window._,r=t["/www/js/app/books-data.js"]||window.booksData,i=t["/www/js/lib/jbone.js"]||window.$,a=t["/www/js/lib/backbone.js"]||window.Backbone,s=t["/www/js/lib/swiper.js"]||window.Swiper,o=t["/www/js/services/device.js"]||window.device,l=t["/www/js/sound/sound-master.js"]||window.sm,u=t["/www/js/services/template-master.js"]||window.tm,c=t["/www/js/services/util.js"]||window.util,d=t["/www/js/services/android-ads.js"]||window.androidAds,p=t["/www/js/app/view/core/base.js"]||window.BaseView,f=window,h=p.extend({events:{"click .js-play-pause":"playPause","click .js-show-inner-html":"showInnerHtml"},selectors:{playPauseButton:".js-play-pause",bookPage:".js-book-page",pageText:".js-page-text",bookPageImage:".js-book-page-image",backPageTextWrapper:".js-back-page-wrapper"},initialize:function(t){var i=this,s=t||{},o=e.get("language"),l=r[o],d=n.find(l,{folder:s.bookFolder});i.set("withText",!1),i.set("pageMode","normal"),i.setElement(u.tmplFn.book({info:e,util:c,book:d,settings:{withText:i.get("withText")}})),i.set("book",d),i.set("url",a.history.fragment),i.set("playerState","playing"),i.set("previousPageIndex",0),p.prototype.initialize.apply(i,arguments),i.loadBooksImages().then(function(){if(i.checkNeedUrl()){if(i.render(),i.initSwiper(),i.bindEventListeners(),i.onResize(),e.hintIsDone("showTitle"))return void i.runPage({index:0});var t={};i.publish("showHint",{name:"showTitle"},t),t.view.onHide(function(){i.publish("showHint",{name:"showText"},t),t.view.onHide(function(){i.publish("showHint",{name:"stopAndStartPlay"},t),t.view.onHide(i.runPage,[{index:0}],i)})}),i.onResize()}})},checkNeedUrl:function(){return this.get("url")===a.history.fragment},initSwiper:function(){var t,e=this;t=new s(".swiper-container",{direction:"horizontal",loop:!1}),e.set("swiper",t)},bindEventListeners:function(){var t=this,e=t.get("swiper");e.on("onTransitionEnd",function(e){var n=(t.get("book"),e.activeIndex),r=t.isPageChanged(n);r&&("normal"===t.get("pageMode")||"playing"===t.get("playerState"))&&t.runPage({index:n})}),e.on("onDoubleTap",function(){t.toggleState()}),t.listenTo(o,"resize",t.onResize)},unbindEventListeners:function(){var t=this,e=t.get("swiper"),n=t.get("nextActionTimeoutId"),r=t.get("textAnimationIntervalId");t.stopListening(o),f.clearTimeout(n),f.clearInterval(r),l.stop({road:0}),e&&(e.off("onTransitionEnd"),e.detachEvents(),e.destroy())},onResize:function(){var t=this,n=t.selectors,r=n.pageText,a=n.bookPageImage,s=t.$el.find(n.bookPage),l=3.4*e.get("remSize",!0);s.each(function(){var e,n,s,u,c=i(this),d=c.find(r),p=d&&d.clientHeight||0,f=c.find(a),h=f.get(0),m=t.get("withText")?1:.9,g={width:o.get("width"),height:o.get("height")-p-l},v={width:h.naturalWidth,height:h.naturalHeight};g.aspectRatio=g.height/g.width,v.aspectRatio=v.height/v.width,u=g.aspectRatio>v.aspectRatio?v.width/g.width:v.height/g.height,e=Math.floor(v.width/u*m),n=Math.floor(v.height/u*m),s=Math.floor((g.height-v.height/u)/2+v.height/u*m*(1-m)/2)+l,f.css({width:e+"px",height:n+"px",top:s+"px"}),d.css({top:s+n+"px"})})},loadBooksImages:function(){function t(t){var e=i.Deferred(),n=new Image;return n.addEventListener("load",function r(){this.removeEventListener("load",r,!1),e.resolve()},!1),n.src=[s,l,f(u,t,"jpg")].join("/"),e.promise()}var r=this,a=r.get("book"),s="books",o=a.pages,l=e.get("language"),u=a.folder,d=i.Deferred(),p=d.promise(),f=c.getPath,h=i.Deferred();return n.each(o,function(e,n){p=p.then(function(){return t(n)})}),p.then(function(){return h.resolve()}),d.resolve(),h.promise()},runPage:function(t){var n=this,r=t||{},i=e.get("language"),a=n.get("book"),s=c.getPath,o=r.index;l.play({sound:["books",i,s(a.folder,o,"mp3")].join("/"),road:0,isLoop:!1}),n.set("playerState","playing"),n.autoSetPlayPauseButtonState(),n.doNextActionAfter(a.pages[o].time)},autoSetPlayPauseButtonState:function(){var t=this,e=t.get("playerState"),n=t.$el.find(t.selectors.playPauseButton);"pause"===e&&n.removeClass("book-pause-button").addClass("book-play-button"),"playing"===e&&n.removeClass("book-play-button").addClass("book-pause-button")},animateText:function(){var t=this,e=t.selectors,n=t.get("swiper"),r=n.activeIndex,i=t.$el.find(".swiper-slide"),a=i.eq(r),s=t.$el.find(e.pageText),o=a.find(e.pageText),l=t.get("book"),u=l.pages[r],c=u.text;s.empty(),t.showTextAnimation({$el:o,text:c})},showTextAnimation:function(t){var e=this,n=t||{},r=0,i=e.get("textAnimationIntervalId");f.clearInterval(i),i=f.setInterval(function(){return n.text&&n.text[r]?"pause"===e.get("playerState")?(f.clearInterval(e.get("textAnimationIntervalId")),void e.$el.find(e.selectors.pageText).empty()):(r+=1,void n.$el.html(n.text.substring(0,r).replace(/\|/g,"<br />"))):void f.clearInterval(e.get("textAnimationIntervalId"))},25),e.set("textAnimationIntervalId",i)},doNextActionAfter:function(t){var n,i=this,s=i.get("swiper"),o=i.get("nextActionTimeoutId");f.clearTimeout(o),n=f.setTimeout(function(){var t,n=s.slideNext();n||(t="on"===e.get("storyByStory"),t?i.hide().then(function(){if(0===a.history.fragment.indexOf("book/")){var t=e.get("language"),n=r[t],i=Math.floor(n.length*Math.random()),s=n[i];new h({bookFolder:s.folder})}}):(i.routeBack(),setTimeout(d.showAd,3e3)))},1e3*t),i.set("nextActionTimeoutId",n)},playPause:function(){var t=this,e=t.get("playerState");"playing"===e&&t.stopCurrentPage(),"pause"===e&&t.playCurrentPage()},stopCurrentPage:function(){var t=this;t.set("playerState","pause"),t.autoSetPlayPauseButtonState(),l.stop({road:0}),f.clearTimeout(t.get("nextActionTimeoutId"))},playCurrentPage:function(){var t=this,e=t.get("swiper"),n=e.activeIndex;t.get("book");t.runPage({index:n})},isPageChanged:function(t){var e=this,n=e.get("previousPageIndex"),r=t;return n===r?!1:(e.set("previousPageIndex",r),!0)},toggleState:function(){var t=this,e=t.get("pageMode"),n=t.selectors,r=t.$el,i=r.find(n.bookPageImage),a=r.find(n.pageText),s=r.find(n.backPageTextWrapper);switch(e){case"fullText":t.set("pageMode","normal"),i.removeClass("hidden"),a.removeClass("hidden"),s.addClass("hidden");break;case"normal":t.set("pageMode","fullText"),i.addClass("hidden"),a.addClass("hidden"),s.removeClass("hidden")}},showInnerHtml:function(t){var e=this,n=i(t.currentTarget).html();e.showPopup({name:"notification",timeout:9e3,cssClass:"popup-title",data:{text:n}})},hide:function(){var t=this;return t.publish("hide-hint",{},{doNotTrack:!0}),p.prototype.hide.call(t)}});t["/www/js/app/view/book.js"]=h}(),function(){"use strict";var e,n=t["/www/js/lib/backbone.js"]||window.Backbone,r=t["/www/js/lib/lodash.js"]||window._,i=(t["/www/js/app/view/core/base.js"]||window.BaseView,t["/www/js/app/view/home.js"]||window.HomeView),a=t["/www/js/app/view/book.js"]||window.BookView,s=t["/www/js/services/mediator.js"]||window.mediator,o=window,l=n.Router.extend({routes:{"":"home",page:"page","book/:bookFolder":"openBook"},home:function(){new i},openBook:function(t){new a({bookFolder:t})},url:{popup:"show-popup=popup"},getAction:function(){var t,e=this,n=window.event||{},r=n.newURL||"",i=n.oldURL||"",a=e.url.popup;return-1!==r.indexOf(a)&&(t="showPopup"),-1!==i.indexOf(a)&&(t="hidePopup"),t},constructor:function(){var t=this,e={},i=l.prototype;return r.each(t.routes,function(n){e[n]=i[n],i[n]=function(){var r=t.getAction();if(!r)return e[n].apply(t,arguments);switch(r){case"hidePopup":t.publish("hide-popup");break;case"showPopup":}}}),n.Router.prototype.constructor.apply(t,arguments)},routeToPopup:function(){this.navigate(n.history.fragment+"?"+this.url.popup,!1)},hidePopup:function(){var t=this;-1!==n.history.fragment.indexOf(t.url.popup)?o.history.back():t.publish("hide-popup")}});e=new l,s.installTo(e),e.subscribe("route-to-popup",e.routeToPopup),e.subscribe("router-hide-popup",e.hidePopup),e.subscribe("navigate",e.navigate),t["/www/js/app/router/router.js"]=e}(),function(){"use strict";var e,n,r=t["/www/js/app/view/core/base.js"]||window.BaseView,i=t["/www/js/lib/jbone.js"]||window.$,a=t["/www/js/lib/lodash.js"]||window._,s=t["/www/js/services/lang.js"]||window.lang,o=t["/www/js/services/info.js"]||window.info,l=t["/www/js/services/device.js"]||window.device,u=t["/www/js/services/template-master.js"]||window.tm,c=t["/www/js/services/mediator.js"]||window.mediator,d=(window,{autoplay:{x1:.3,y1:0,width:4.9,height:3.7,submitType:"normal"},removeAds:{x1:-.3,y1:0,width:4.9,height:3.7,submitType:"normal"},thanksForBuy:{x1:-.3,y1:0,width:4.9,height:3.7,submitType:"normal"},showTitle:{x1:3.3,y1:.3,x2:-3.3,height:3,submitType:"normal"},showText:{x1:3,y1:10,x2:-3,y2:-11,submitType:"normal"},stopAndStartPlay:{x1:-.3,y1:0,width:3.7,height:3.6,submitType:"normal"}}),p="rem";e=r.extend({selectors:{hintFocus:".js-hint-focus",text:".js-hint-text",hintArrow:".js-hint-arrow"},events:{click:"hide",scroll:"stopEvent"},initialize:function(t){var e=this,n=t.name;e.extendFromObj(t),e.extendFromObj(d[n]),e.setElement(u.tmplFn.hint({text:s.get("hint")[n]})),r.prototype.initialize.apply(e,arguments),e.bindEventListeners(),e.subscribe("hide-hint",e.hide),e.render()},render:function(){var t,e=this,n=e.$wrapper,r=o.get("isAndroid",!0);t=r?function(t,e){setTimeout(t,e)}:function(t){t()},e.setCoordinates({$hintFocus:e.$el.find(e.selectors.hintFocus),$text:e.$el.find(e.selectors.text),coordinates:d[e.get("name")]}),t(function(){n.append(e.$el)},50),t(function(){e.showInAnimation()},100)},showInAnimation:function(){var t=this,e="on"===o.get("screenAnimation");e?t.$el.addClass("hint-container-show-in"):t.$el.addClass("hint-container-show-in-no-animation")},showOutAnimation:function(){var t=this,e=t.$el,n=i.Deferred(),r=o.get("animationEnd",!0),a="on"===o.get("screenAnimation");return a&&e.hasClass("hint-container-show-in")?(e.one(r,function(){n.resolve()}),e.addClass("hint-container-show-out")):n.resolve(),n.promise()},setCoordinates:function(t){var e=this,n=e.getAllCoordinates(t);e.setFadeCoordinates({$hintFocus:t.$hintFocus,allCoordinates:n}),e.setHintCoordinates({$text:t.$text,allCoordinates:n})},setHintCoordinates:function(t){var e,n,r,i=this,a=12,s=a/2,o=t.allCoordinates,l=o.maxWidth,u=1,c=l-u,d=0;e=o.center.bottom.x-s,n=o.center.bottom.y,r=e+a,u>=e&&(d=u-e),r>=c&&(d=c-r),t.$text.css({width:a+p,top:n+p,left:e+d+p}),t.$text.find(i.selectors.hintArrow).css({left:s-d+p})},setFadeCoordinates:function(t){var e="on"===o.get("screenAnimation"),n=t.allCoordinates;e?t.$hintFocus.css({left:n.x1+p,top:n.y1+p,width:n.width+p,height:n.height+p}):t.$hintFocus.remove()},getAllCoordinates:function(t){var e,n,r=o.get("remSize",!0),i=l.get("width")/r,a=l.get("height")/r,s=t.coordinates,u=s.width,c=s.height,d=s.x1,p=s.y1;return 0>d&&(d=i+d-u),0>p&&(p=a+p-c),s.hasOwnProperty("width")?e=d+u:(e=s.x2,e=e>=0?e:i+e,u=e-d),s.hasOwnProperty("height")?n=p+c:(n=s.y2,n=n>=0?n:a+n,c=n-p),{x1:d,y1:p,x2:e,y2:n,width:u,height:c,maxWidth:i,maxHeight:a,center:{bottom:{x:d+u/2,y:n}}}},hide:function(t,e){var n=this,i=e||{},a=n.get("submitType"),s=o.get("hint"),l=n.get("name");s[l]=s[l]||{},i.doNotTrack?n.clearOnHides():"normal"===a&&(s[l].state="done",o.set("hint",s)),n.showOutAnimation().then(function(){r.prototype.hide.call(n),n.runOnHides()})},bindEventListeners:function(){},unbindEventListeners:function(){},onHide:function(t,e,n){var r=this,i=r.get("onHides")||[];return i.push({fn:t,args:e,context:n}),r.set("onHides",i),r},runOnHides:function(){var t=this,e=t.get("onHides")||[];a.each(e,function(t){t.fn.apply(t.context,t.args)}),t.set("onHides",null)},clearOnHides:function(){this.set("onHides",null)}}),n={showHint:function(t,n){return n?n.view=new e(t):new e(t)}},c.installTo(n),n.subscribe("showHint",n.showHint),t["/www/js/app/view/core/hint.js"]=n}(),function(){"use strict";var e,n,r=t["/www/js/app/view/core/base.js"]||window.BaseView,i=t["/www/js/lib/jbone.js"]||window.$,a=t["/www/js/lib/lodash.js"]||window._,s=t["/www/js/sound/sound-master.js"]||window.sm,o=t["/www/js/services/template-master.js"]||window.tm,l=t["/www/js/services/info.js"]||window.info,u=t["/www/js/services/mediator.js"]||window.mediator,c=window;e=r.extend({events:{click:"hidePopupByRouter",scroll:"stopEvent"},selectors:{popupContainer:".js-popup-container"},initialize:function(t){var e=this,n=e.popupUrl,i=c.location.href;-1===i.indexOf(n)&&e.publish("route-to-popup"),e.extendFromObj(t),e.setElement(o.tmplFn["popup-wrapper"]()),t.cssClass&&e.$el.addClass(t.cssClass),r.prototype.initialize.apply(this,arguments),e.render(),
e.showInAnimation(),e.bindEventListeners(),e.subscribe("hide-popup",e.hide)},bindEventListeners:function(){var t,e=this,n=e.get("timeout");n&&(t=setTimeout(function(){e.hidePopupByRouter()},n),e.set("timeoutId",t)),e.bindExtraEvents()},unbindEventListeners:function(){var t=this,e=t.get("timeout");e&&clearTimeout(t.get("timeoutId")),t.unbindExtraEvents()},bindExtraEvents:function(){var t=this,e=t.$el,n=t.get("extraEvents");a.each(n,function(t){e.find(t.selector).on(t.event,t.fn)})},unbindExtraEvents:function(){var t=this,e=t.$el,n=t.get("extraEvents");a.each(n,function(t){e.find(t.selector).off(t.event,t.fn)})},render:function(){var t,e=this,n=(e.get("append$el"),e.get("data")||{}),r=e.get("sound"),a=i(o.tmplFn[e.get("name")](n)),l=e.$el.find(e.selectors.popupContainer),u=e.get("onShow");r&&s.play(r),l.append(a),e.$wrapper.append(e.$el),u&&(t=u.context||e,t[u.fn].apply(t,u.args))},hide:function(){var t=this;t.showOutAnimation().then(function(){var e,n=t.get("onHide");n&&(e=n.context||t,e[n.fn].apply(e,n.args)),r.prototype.hide.call(t),t.get("deferred").resolve()})},showInAnimation:function(){var t=this;t.$el.addClass("popup-show-in")},showOutAnimation:function(){var t=this,e=t.$el,n=i.Deferred(),r=l.get("animationEnd",!0);return e.one(r,function(){n.resolve()}),e.addClass("popup-show-out"),n.promise()}}),n={showPopup:function(t,n){return n?n.view=new e(t):new e(t)}},u.installTo(n),n.subscribe("showPopup",n.showPopup),t["/www/js/app/view/core/popup.js"]=n}(),function(){"use strict";var e=window,n=e.document,r=(t["/www/js/services/mediator.js"]||window.mediator,t["/www/js/lib/shim.js"]||window.shim,t["/www/js/lib/lodash.js"]||window.lodash,t["/www/js/lib/jbone.js"]||window.$),i=t["/www/js/lib/deferred.js"]||window.Deferred,a=t["/www/js/lib/backbone.js"]||window.Backbone,s=t["/www/js/lib/fastclick.js"]||window.FastClick;new s(n.body);var o=(t["/www/js/lib/swiper.js"]||window.Swiper,t["/www/js/services/info.js"]||window.info,t["/www/js/services/device.js"]||window.device,t["/www/js/services/android-ads.js"]||window.androidAds),l=(t["/www/js/services/lang.js"]||window.lang,t["/www/js/services/log.js"]||window.log,t["/www/js/services/template-master.js"]||window.tm,t["/www/js/services/util.js"]||window.util,t["/www/js/sound/sound-master.js"]||window.sm,t["/www/js/services/bg.js"]||window.bg),u=(t["/www/js/app/router/router.js"]||window.router,t["/www/js/app/view/core/base.js"]||window.BaseView);t["/www/js/app/view/core/hint.js"]||window.hintMaster,t["/www/js/app/view/core/popup.js"]||window.popupMaster;!function c(){return e.location.hash?(e.history.back(),e.setTimeout(c,50)):(i.installInto(r),l.init(),u.prototype.initStatic(),a.history.start(),void e.setTimeout(o.showAd,3e3))}()}()}({});